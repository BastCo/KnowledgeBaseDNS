"use strict";(self.webpackChunkadguard_dns_knowledge_base=self.webpackChunkadguard_dns_knowledge_base||[]).push([[291],{4137:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return u}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),s=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),k=s(n),u=r,N=k["".concat(o,".").concat(u)]||k[u]||d[u]||l;return n?a.createElement(N,i(i({ref:t},m),{},{components:n})):a.createElement(N,i({ref:t},m))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=k;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p.mdxType="string"==typeof e?e:r,i[1]=p;for(var s=2;s<l;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},2476:function(e,t,n){n.r(t),n.d(t,{assets:function(){return m},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return p},metadata:function(){return s},toc:function(){return d}});var a=n(3117),r=n(102),l=(n(7294),n(4137)),i=["components"],p={title:"Syntaks for DNS-filtreringsregler",sidebar_position:2,toc_min_heading_level:2,toc_max_heading_level:4},o=void 0,s={unversionedId:"general/dns-filtering-syntax",id:"general/dns-filtering-syntax",title:"Syntaks for DNS-filtreringsregler",description:"I denne artikel forklares, hvordan man skriver tilpassede filtreringsregler til brug i AdGuard-produkter",source:"@site/i18n/da/docusaurus-plugin-content-docs/current/general/dns-filtering-syntax.md",sourceDirName:"general",slug:"/general/dns-filtering-syntax",permalink:"/KnowledgeBaseDNS/da/general/dns-filtering-syntax",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBaseDNS/edit/master/docs/general/dns-filtering-syntax.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Syntaks for DNS-filtreringsregler",sidebar_position:2,toc_min_heading_level:2,toc_max_heading_level:4},sidebar:"sidebar",previous:{title:"DNS-filtrering",permalink:"/KnowledgeBaseDNS/da/general/dns-filtering"},next:{title:"Kendte DNS-udbydere",permalink:"/KnowledgeBaseDNS/da/general/dns-providers"}},m={},d=[{value:"Introduktion",id:"introduktion",level:2},{value:"Basiseksempler",id:"basiseksempler",level:2},{value:"Adblock-syntakstype",id:"adblock-syntakstype",level:2},{value:"Specialtegn",id:"specialtegn",level:3},{value:"Regul\xe6re udtryk",id:"regul\xe6re-udtryk",level:3},{value:"Kommentarer",id:"kommentarer",level:3},{value:"Regelmodifikatorer",id:"regelmodifikatorer",level:3},{value:"<code>client</code>",id:"client",level:4},{value:"<code>denyallow</code>",id:"denyallow",level:4},{value:"<code>dnstype</code>",id:"dnstype",level:4},{value:"<code>dnsrewrite</code>",id:"dnsrewrite",level:4},{value:"<code>important</code>",id:"important",level:4},{value:"<code>badfilter</code>",id:"badfilter",level:4},{value:"<code>ctag</code>",id:"ctag",level:4},{value:"<code>/etc/hosts</code>Syntakstype",id:"etc-hosts-syntax",level:2},{value:"Dom\xe6ne-specifik syntaks",id:"dom\xe6ne-specifik-syntaks",level:2},{value:"Hostlists Compiler",id:"hostlists-compiler",level:2}],k={toc:d};function u(e){var t=e.components,n=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"I denne artikel forklares, hvordan man skriver tilpassede filtreringsregler til brug i AdGuard-produkter"),(0,l.kt)("p",{parentName:"div"},"Hurtig-links: ",(0,l.kt)("a",{parentName:"p",href:"https://adguard.com/download.html?auto=true&utm_source=kb_dns"},"Download AdGuard Ad Blocker"),", ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome#getting-started"},"Hent AdGuard Home"),", ",(0,l.kt)("a",{parentName:"p",href:"https://adguard-dns.io/dashboard/"},"Pr\xf8v AdGuard DNS")))),(0,l.kt)("h2",{id:"introduktion"},"Introduktion"),(0,l.kt)("p",null,"AdGuard DNS-filtreringsregelsyntaks kan bruges til at g\xf8re regler mere fleksible, s\xe5 de kan blokere indhold iht. personlige pr\xe6ferencer. AdGuard DNS-filtreringsregelsyntaks kan bruges i forskellige AdGuard-produkter, s\xe5som AdGuard Home, AdGuard DNS, AdGuard til Windows/Mac/Android."),(0,l.kt)("p",null,"Der er tre forskellige tilgange til at skrive v\xe6rtsblokeringslister:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"#adblock-style-syntax"},"Adblock-syntakstype"),": Den moderne tilgang til at skrive filtreringsregler baseret p\xe5 brug af et unders\xe6t af Adblock-regelsyntaksen. P\xe5 denne m\xe5de er blokeringslister kompatible med browser-adblockere.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"#etc-hosts-syntax"},(0,l.kt)("inlineCode",{parentName:"a"},"/etc/hosts")," syntaks"),": Den gamle, gennempr\xf8vede tilgang, der bruger samme v\xe6rtsfilsyntakser som operativsystemerne.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"#domains-only-syntax"},"Syntaks kun til dom\xe6ner"),": En simpel liste over dom\xe6nenavne."))),(0,l.kt)("p",null,"Opretter man en sortliste, anbefales brug af ",(0,l.kt)("a",{parentName:"p",href:"#adblock-style-syntax"},"Adblock-syntakstypen"),". Den har et par vigtige fordele ift. den gamle syntakstype:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Blokeringslistest\xf8rrelse.")," Ved at bruge m\xf8nstertilpasning kan man have \xe9n enkelt regel i stedet for hundredvis af ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/hosts"),"-poster.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Kompatibilitet.")," Blokeringslisten vil v\xe6re kompatibel med browser-adblockere, og regler kan nemmere deles med en browser-filtreringsliste.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Udvidelsesmuligheder.")," I det seneste \xe5rti har Adblock-syntakstypen udviklet sig meget, og vi ser ingen grund til ikke at udvide den yderligere og tilbyde flere funktioner til netv\xe6rksniveau-blockere."))),(0,l.kt)("p",null,"Vedligeholder man enten en sortliste af typen ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/hosts")," eller flere filtreringslister (uanset type), tilbyder vi et v\xe6rkt\xf8j til kompilering af sortlister. Vi har kaldt det ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/HostlistCompiler"},"Hostlist compiler")," og vi bruger det selv til oprettelse af ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardSDNSFilter"},"AdGuard DNS-filtre"),"."),(0,l.kt)("h2",{id:"basiseksempler"},"Basiseksempler"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^"),": blok\xe9r dom\xe6neadgang for ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," og alle dets underdom\xe6ner, f.eks. ",(0,l.kt)("inlineCode",{parentName:"p"},"www.eksempel.org"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^"),": Afblok\xe9r dom\xe6neadgang til ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," og alle dets underdom\xe6ner.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"1.2.3.4 eksempel.org"),": (Bem\xe6rk, gammel ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/hosts"),"-syntakstype) i AdGuard Home, svar med ",(0,l.kt)("inlineCode",{parentName:"p"},"1.2.3.4")," p\xe5 foresp\xf8rgsler for ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),"-dom\xe6net, men ",(0,l.kt)("strong",{parentName:"p"},"ikke")," dets underdom\xe6ner. Blok\xe9r i Private AdGuard DNS adgangen til ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),". ",(0,l.kt)("inlineCode",{parentName:"p"},"www.eksempel.org")," forbliver tilladt."),(0,l.kt)("p",{parentName:"li"},"I AdGuard Home er brug af den uspecificerede IP-adresse (",(0,l.kt)("inlineCode",{parentName:"p"},"0.0.0.0"),") eller en lokal adresse (",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.1")," o.lign.) for en v\xe6rt essentielt det samme som at blokere denne v\xe6rt."),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-none"},"# Returnerer IP-adressen 1.2.3.4 for eksempel.org.\n1.2.3.4 eksempel.org\n# Blokerer eksempel.org ved at svare med 0.0.0.0.\n0.0.0.0 eksempel.org\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),": En simpel dom\xe6neregel. Blokerer ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),"-dom\xe6net, men ",(0,l.kt)("strong",{parentName:"p"},"ikke")," dets underdom\xe6ner. ",(0,l.kt)("inlineCode",{parentName:"p"},"www.eksempel.org")," forbliver tilladt.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"! Her angives en kommentar")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"# Ogs\xe5 en kommentar"),": Kommentarer.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"/REGEX/"),": Blok\xe9r adgang til dom\xe6ner matchende det angivne regul\xe6re udtryk."))),(0,l.kt)("h2",{id:"adblock-syntakstype"},"Adblock-syntakstype"),(0,l.kt)("p",null,"This is a subset of the ",(0,l.kt)("a",{parentName:"p",href:"https://adguard.com/kb/general/ad-filtering/create-own-filters/"},"traditional Adblock-style")," syntax which is used by browser ad blockers."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},'     regel = ["@@"] m\xf8nster [ "$" modifikatorer ]\nmodifikatorer = [modifikator0, modifikator1[, ...[, modifikatorN]]]\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"m\xf8nster"),": V\xe6rtsnavnmasken. Alle v\xe6rtsnavne matches mod denne maske. M\xf8nsteret kan ogs\xe5 indeholde specialtegn, som beskrevet nedenfor.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@"),": den mark\xf8r, der bruges i undtagelsesreglerne. \xd8nskes filtrering for de matchende v\xe6rtsnavne deaktiveret, s\xe5 start reglen med denne mark\xf8r.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"modifikatorer"),": Parametre, som tydeligg\xf8r reglen. De kan begr\xe6nse reglens udstr\xe6kning eller endda helt \xe6ndre m\xe5den, den fungerer p\xe5."))),(0,l.kt)("h3",{id:"specialtegn"},"Specialtegn"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"*"),": jokertegnet. Det bruges til at repr\xe6sentere et hvilket som helst tegn. Dette kan ogs\xe5 v\xe6re en tom streng eller en streng af enhver l\xe6ngde.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||"),": Matcher begyndelsen af et v\xe6rtsnavn, inkl. ethvert underdom\xe6ne. F.eks. s\xe5 matcher ",(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org")," ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"test.eksempel.org"),", men ikke ",(0,l.kt)("inlineCode",{parentName:"p"},"testeksempel.org"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"^"),": separatortegnet. Ulig browser-adblocking, er der intet at adskille/opdele i et v\xe6rtsnavn, s\xe5 det eneste form\xe5l med dette tegn er at markere slutningen p\xe5 v\xe6rtsnavnet.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"|"),": En mark\xf8r for begyndelsen eller slutningen p\xe5 v\xe6rtsnavnet. V\xe6rdien afh\xe6nger af tegnplaceringen i masken. F.eks. svarer reglen ",(0,l.kt)("inlineCode",{parentName:"p"},"emple.org|")," til ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),", men ikke til ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org.com"),". ",(0,l.kt)("inlineCode",{parentName:"p"},"|eksempe")," korresponderer med ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),", men ikke med ",(0,l.kt)("inlineCode",{parentName:"p"},"test.eksempel"),"."))),(0,l.kt)("h3",{id:"regul\xe6re-udtryk"},"Regul\xe6re udtryk"),(0,l.kt)("p",null,"If you want even more flexibility in making rules, you can use ",(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions"},"regular expressions")," instead of the default simplified matching syntax. If you want to use a regular expression, the pattern has to look like this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},'m\xf8nster = "/" regexp "/"\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"/eksempel.*/")," blokerer v\xe6rter matchende ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.*"),"-regexp'et.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@/eksempel.*/$important")," afblokerer v\xe6rter matchende ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.*"),"-regexp'et. Bem\xe6rk, at denne regel ogs\xe5 foruds\xe6tter ",(0,l.kt)("inlineCode",{parentName:"p"},"important"),"-modifikatoren."))),(0,l.kt)("h3",{id:"kommentarer"},"Kommentarer"),(0,l.kt)("p",null,"Any line that starts with an exclamation mark or a hash sign is a comment and it will be ignored by the filtering engine. Comments are usually placed above rules and used to describe what a rule does."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"! Dette er en kommentar.\n# Dette er ogs\xe5 en kommentar.\n")),(0,l.kt)("h3",{id:"regelmodifikatorer"},"Regelmodifikatorer"),(0,l.kt)("p",null,"You can change the behavior of a rule by adding modifiers. Modifiers must be located at the end of the rule after the ",(0,l.kt)("inlineCode",{parentName:"p"},"$")," character and be separated by commas."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-ingen",metastring:"||eksempel.org^$important","||eksempel.org^$important":!0},"")),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^")," er det matchende m\xf8nster. ",(0,l.kt)("inlineCode",{parentName:"p"},"$"),' er afgr\xe6nsningstegnet, der signalerer, at resten af reglen er modifikatorer. "important" er modifikationen.')),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Man \xf8nsker m\xe5ske at bruge flere modifikatorer i en regel. Adskil dem i s\xe5 fald med kommaer:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-none"},"||eksempel.org^$client=127.0.0.1,dnstype=A\n")),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^")," er det matchende m\xf8nster. ",(0,l.kt)("inlineCode",{parentName:"p"},"$")," er afgr\xe6nsningstegnet, der signalerer, at resten af reglen er modifikatorer. ",(0,l.kt)("inlineCode",{parentName:"p"},"client=127.0.0.1")," is the ",(0,l.kt)("a",{parentName:"p",href:"#client"},(0,l.kt)("inlineCode",{parentName:"a"},"client"))," modifier with its value, ",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.1"),", is the delimiter. Og endelig er ",(0,l.kt)("inlineCode",{parentName:"p"},"dnstype=A")," ",(0,l.kt)("a",{parentName:"p",href:"#dnstype"},(0,l.kt)("inlineCode",{parentName:"a"},"dnstype")),"-modifikatoren med sin v\xe6rdi ",(0,l.kt)("inlineCode",{parentName:"p"},"A"),"."))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"NOTE:")," If a rule contains a modifier not listed in this document, the whole rule ",(0,l.kt)("strong",{parentName:"p"},"must be ignored"),". This way we avoid false-positives when people are trying to use unmodified browser ad blockers' filter lists like EasyList or EasyPrivacy."),(0,l.kt)("h4",{id:"client"},(0,l.kt)("inlineCode",{parentName:"h4"},"client")),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"client")," modifier allows specifying clients this rule is applied to. There are two main ways to identify a client:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Via deres IP-adresse eller CIDR-pr\xe6fiks. Denne m\xe5de fungerer for alle slags klienter.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Via deres navn. Denne m\xe5de fungerer kun for vedvarende klienter (i AdGuard Home) og enheder (i Private AdGuard DNS), som man manuelt har tilf\xf8jet."),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"BEM\xc6RK:"),' I AdGuard Home underst\xf8ttes ClientID\'er ikke pt., kun navne. Har man tilf\xf8jet en klient med navnet "Min Klient" og klient-id ',(0,l.kt)("inlineCode",{parentName:"p"},"min-klient"),", s\xe5 bogstav\xe9r modifikatoren ",(0,l.kt)("inlineCode",{parentName:"p"},"$client='Min Klient'")," i mods\xe6tning til ",(0,l.kt)("inlineCode",{parentName:"p"},"$client=min-klient"),"."))),(0,l.kt)("p",null,"The syntax is:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$client=v\xe6rdi1|v\xe6rdi2|...\n")),(0,l.kt)("p",null,"You can also exclude clients by adding a ",(0,l.kt)("inlineCode",{parentName:"p"},"~")," character before the value. In this case, the rule is not be applied to this client's DNS requests."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$client=~v\xe6rdi1\n")),(0,l.kt)("p",null,"Client names usually contain spaces or other special characters, which is why you should enclose the name in quotes. Both single and double ASCII quotes are supported. Use the backslash (",(0,l.kt)("inlineCode",{parentName:"p"},"\\"),") to escape quotes (",(0,l.kt)("inlineCode",{parentName:"p"},'"')," and ",(0,l.kt)("inlineCode",{parentName:"p"},"'"),"), commas (",(0,l.kt)("inlineCode",{parentName:"p"},","),"), and pipes (",(0,l.kt)("inlineCode",{parentName:"p"},"|"),")."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"NOTE:")," When excluding a client, you ",(0,l.kt)("strong",{parentName:"p"},"must")," place ",(0,l.kt)("inlineCode",{parentName:"p"},"~")," outside the quotes."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@||*^$client=127.0.0.1"),": Afblok\xe9r alt for localhost.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$client='Frank\\'s b\xe6rbare'"),": Blok\xe9r kun ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," for klienten med navnet ",(0,l.kt)("inlineCode",{parentName:"p"},"Frank's b\xe6rbare"),". Bem\xe6rk, at anf\xf8rselstegnet (",(0,l.kt)("inlineCode",{parentName:"p"},"'"),") i navnet skal escapes.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksmpel.org^$client=~'Mary\\'s\\, John\\'s\\ og Boris\\'s b\xe6rbarer'"),": Blok\xe9r ",(0,l.kt)("inlineCode",{parentName:"p"},"eksmpel.org")," for alle undtagen for klientnavnene ",(0,l.kt)("inlineCode",{parentName:"p"},"Mary's, John's og Boris' b\xe6rbarer"),". Bem\xe6rk, at komma (",(0,l.kt)("inlineCode",{parentName:"p"},","),") ogs\xe5 skal escapes.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$client=~Mor|~Far|B\xf8rn"),": Blok\xe9r ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," for ",(0,l.kt)("inlineCode",{parentName:"p"},"B\xf8rn"),", men ikke for ",(0,l.kt)("inlineCode",{parentName:"p"},"Mor")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"Far"),". Dette eksempel viser, hvordan man angiver flere klienter i \xe9n regel.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$client=192.168.0.0/24"),": Blok\xe9r ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," for alle klienter med IP-adresser i omr\xe5det fra ",(0,l.kt)("inlineCode",{parentName:"p"},"192.168.0.0")," til ",(0,l.kt)("inlineCode",{parentName:"p"},"192.168.0.255"),"."))),(0,l.kt)("h4",{id:"denyallow"},(0,l.kt)("inlineCode",{parentName:"h4"},"denyallow")),(0,l.kt)("p",null,"You can use the ",(0,l.kt)("inlineCode",{parentName:"p"},"denyallow")," modifier to exclude domains from the blocking rule. To add multiple domains to one rule, use the ",(0,l.kt)("inlineCode",{parentName:"p"},"|")," character as a separator."),(0,l.kt)("p",null,"The syntax is:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$denyallow=dom\xe6ne1|dom\xe6ne2|...\n")),(0,l.kt)("p",null,"This modifier allows avoiding creating unnecessary exception rules when our blocking rule covers too many domains. You may want to block everything except for a couple of TLD domains. You could use the standard approach, i.e. rules like this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"! Blok\xe9r alt.\n/.*/\n\n! Afblok\xe9r et par TLD'er.\n@@||com^\n@@||net^\n")),(0,l.kt)("p",null,"The problem with this approach is that this way you will also unblock tracking domains that are located on those TLDs (i.e. ",(0,l.kt)("inlineCode",{parentName:"p"},"google-analytics.com"),"). Here's how to solve this with ",(0,l.kt)("inlineCode",{parentName:"p"},"denyallow"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"*$denyallow=com|net\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"*$denyallow=com|net"),": Blok\xe9r alt, undtagen ",(0,l.kt)("inlineCode",{parentName:"p"},"*.com")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"*.net"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@*$denyallow=com|net"),": Afblok\xe9r alt, undtagen ",(0,l.kt)("inlineCode",{parentName:"p"},"*.com")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"*.net"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$denyallow=under.eksempel.org"),". blok\xe9r ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"*.eksempel.org"),", men blok\xe9r ikke ",(0,l.kt)("inlineCode",{parentName:"p"},"under.eksempel.org"),"."))),(0,l.kt)("h4",{id:"dnstype"},(0,l.kt)("inlineCode",{parentName:"h4"},"dnstype")),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"dnstype")," modifier allows specifying DNS request or response type on which this rule will be triggered."),(0,l.kt)("p",null,"The syntax is:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$dnstype=v\xe6rdi1|v\xe6rdi2|...\n$dnstype=~v\xe6rdi1|~v\xe6rdi2|~...\n")),(0,l.kt)("p",null,"The names of the types are case-insensitive, but are validated against a set of actual DNS resource record (RR) types."),(0,l.kt)("p",null,"Do not combine exclusion rules with inclusion ones. This:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$dnstype=~v\xe6rdi1|~v\xe6rdi2\n")),(0,l.kt)("p",null,"is equivalent to this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$dnstype=v\xe6rdi2\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksemple.org^$dnstype=AAAA"),": Blok\xe9r DNS-foresp\xf8rgsler for IPv6-adresserne p\xe5 ",(0,l.kt)("inlineCode",{parentName:"p"},"eksemple.org"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksemple.org^$dnstype=~A|~CNAME"),": Tillad kun ",(0,l.kt)("inlineCode",{parentName:"p"},"A")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"CNAME")," DNS-foresp\xf8rgsler for ",(0,l.kt)("inlineCode",{parentName:"p"},"eksemple.org"),", blok\xe9r resten."))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"NOTE:")," Before version ",(0,l.kt)("strong",{parentName:"p"},"v0.108.0,")," AdGuard Home would use the type of the request to filter the response records, as opposed to the type of the response record itself.  That caused issues, since that meant that you could not write rules that would allow certain ",(0,l.kt)("inlineCode",{parentName:"p"},"CNAME")," records in responses in ",(0,l.kt)("inlineCode",{parentName:"p"},"A")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"AAAA")," requests. In ",(0,l.kt)("strong",{parentName:"p"},"v0.108.0")," that behaviour was changed, so now this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"||canon.eksempel.com^$dnstype=~CNAME\n")),(0,l.kt)("p",null,"allows you to avoid filtering of the following response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"SVAR:\n->  eksempel.com\n    kanonisk navn = canon.eksempel.com.\n    ttl = 60\n->  canon.eksempel.com\n    internetadresse = 1.2.3.4\n    ttl = 60\n")),(0,l.kt)("h4",{id:"dnsrewrite"},(0,l.kt)("inlineCode",{parentName:"h4"},"dnsrewrite")),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"dnsrewrite")," response modifier allows replacing the content of the response to the DNS request for the matching hosts. Note that this modifier in AdGuard Home works in all rules, but in Private AdGuard DNS \u2014 only in custom ones."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Rules with the ",(0,l.kt)("inlineCode",{parentName:"strong"},"dnsrewrite")," response modifier have higher priority than other rules in AdGuard Home.")),(0,l.kt)("p",null,"The shorthand syntax is:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$dnsrewrite=1.2.3.4\n$dnsrewrite=abcd::1234\n$dnsrewrite=eksempel.net\n$dnsrewrite=REFUSED\n")),(0,l.kt)("p",null,"The keywords MUST be in all caps (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"NOERROR"),"). Keyword rewrites take precedence over the other and will result in an empty response with an appropriate response code."),(0,l.kt)("p",null,"The full syntax is of the form ",(0,l.kt)("inlineCode",{parentName:"p"},"RCODE;RRTYPE;VALUE"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$dnsrewrite=NOERROR;A;1.2.3.4\n$dnsrewrite=NOERROR;AAAA;abcd::1234\n$dnsrewrite=NOERROR;CNAME;eksempel.net\n$dnsrewrite=REFUSED;;\n")),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"$dnsrewrite")," modifier with the ",(0,l.kt)("inlineCode",{parentName:"p"},"NOERROR")," response code may also has empty ",(0,l.kt)("inlineCode",{parentName:"p"},"RRTYPE")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"VALUE")," fields."),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"CNAME")," one is special because AdGuard Home will resolve the host and add its info to the response. That is, if ",(0,l.kt)("inlineCode",{parentName:"p"},"example.net")," has IP ",(0,l.kt)("inlineCode",{parentName:"p"},"1.2.3.4"),", and the user has this in their filter rules:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"||eksempel.com^$dnsrewrite=eksempel.net\n! Eller:\n||eksempel.com^$dnsrewrite=FEJL;CNAME;eksempel.net\n")),(0,l.kt)("p",null,"then the response will be something like:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"$ nslookup eksempel.com my.adguard.local\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"Server:     my.adguard.local\nAddress:    127.0.0.1#53\n\nNon-authoritative answer:\neksempel.com canonical name = eksempel.net.\nName:   eksempel.net\nAddress: 1.2.3.4\n")),(0,l.kt)("p",null,"Next, the ",(0,l.kt)("inlineCode",{parentName:"p"},"CNAME")," rewrite. After that, all other records' values are summed as one response, so this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"||eksempel.com^$dnsrewrite=NOERROR;A;1.2.3.4\n||eksempel.dk^$dnsrewrite=NOERROR;A;1.2.3.5\n")),(0,l.kt)("p",null,"will result in a response with two ",(0,l.kt)("inlineCode",{parentName:"p"},"A")," records."),(0,l.kt)("p",null,"Currently supported RR types with examples:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||4.3.2.1.in-addr.arpa^$dnsrewrite=NOERROR;PTR;eksempel.net.")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"PTR"),"-post for reverse DNS. Reverse DNS-foresp\xf8rgsler for ",(0,l.kt)("inlineCode",{parentName:"p"},"1.2.3.4")," til DNS-serveren vil resultere i ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.net"),"."),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"BEM\xc6RK:")," IP'en SKAL v\xe6re i omvendt r\xe6kkef\xf8lge. Se ",(0,l.kt)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc1035#section-3.5"},"RFC 1035"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;A;1.2.3.4")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"A"),"-post med v\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"1.2.3.4"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;AAAA;abcd::1234")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"AAAA"),"-post med v\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"abcd::1234"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;CNAME;eksempel.org")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"CNAME"),"-post. Se forklaring ovenfor.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;HTTPS;32 eksempel.com alpn=h3")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"HTTPS"),"-post. Kun et unders\xe6t af parameterv\xe6rdier underst\xf8ttes: V\xe6rdier skal v\xe6re ",(0,l.kt)("inlineCode",{parentName:"p"},"sammenh\xe6ngende"),", og hvor en ",(0,l.kt)("inlineCode",{parentName:"p"},"v\xe6rdiliste")," ",(0,l.kt)("inlineCode",{parentName:"p"},"forventes"),", underst\xf8ttes pt. kun \xe9n v\xe6rdi:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-none"},'ipv4hint=127.0.0.1             // Underst\xf8ttet.\nipv4hint="127.0.0.1"           // Uunderst\xf8ttet.\nipv4hint=127.0.0.1,127.0.0.2   // Uunderst\xf8ttet.\nipv4hint="127.0.0.1,127.0.0.2" // Uunderst\xf8ttet.\n')),(0,l.kt)("p",{parentName:"li"},"Dette vil blive \xe6ndret fremtiden.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;MX;32 eksempel.mail")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"MX"),"-post med forrangsv\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"32")," og udvekslingsv\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.mail"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;SVCB;32 eksempel.com alpn=h3")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"SVCB"),"-value. Se ",(0,l.kt)("inlineCode",{parentName:"p"},"HTTPS"),"-eksemplet ovenfor.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;TXT;hallo_verden")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"TXT"),"-post med v\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"hallo_verden"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||_svctype._tcp.eksempel.com^$dnsrewrite=NOERROR;SRV;10 60 8080 eksempel.com")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"SRV"),"-post med prioritetsv\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"10"),", v\xe6gtv\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"60"),", porten",(0,l.kt)("inlineCode",{parentName:"p"},"8080")," og m\xe5lv\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.com"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NXDOMAIN;;")," svarer med en ",(0,l.kt)("inlineCode",{parentName:"p"},"NXDOMAIN"),"-kode.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"$dnstype=AAAA,denyallow=eksempel.org,dnsrewrite=NOERROR;;")," besvares med tomme ",(0,l.kt)("inlineCode",{parentName:"p"},"NOERROR"),"-svar for alle ",(0,l.kt)("inlineCode",{parentName:"p"},"AAAA"),"-foresp\xf8rgsler, undtagen for dem indeholdende ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),"."))),(0,l.kt)("p",null,"Exception rules remove one or all rules:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@||eksempel.com^$dnsrewrite")," fjerner alle DNS rewrite-regler.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@||eksempel.com^$dnsrewrite=1.2.3.4")," fjerner DNS rewrite-reglen, der tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"A"),"-post med v\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"1.2.3.4"),"."))),(0,l.kt)("h4",{id:"important"},(0,l.kt)("inlineCode",{parentName:"h4"},"important")),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"important")," modifier applied to a rule increases its priority over any other rule without the modifier. Even over basic exception rules."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"I dette eksempel:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-none"},"||eksempel.org^$important\n@@||eksempel.org^\n")),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$important")," blokerer alle foresp\xf8rgsler til ",(0,l.kt)("inlineCode",{parentName:"p"},"*.eksempel.org")," p\xe5 trods af undtagelsesreglen.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"I dette eksempel:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-none"},"||eksempel.org^$important\n@@||eksempel.org^$important\n")),(0,l.kt)("p",{parentName:"li"},"undtagelsesreglen har ogs\xe5 ",(0,l.kt)("inlineCode",{parentName:"p"},"vigtige"),"-modifikator, s\xe5 den vil virke."))),(0,l.kt)("h4",{id:"badfilter"},(0,l.kt)("inlineCode",{parentName:"h4"},"badfilter")),(0,l.kt)("p",null,"The rules with the ",(0,l.kt)("inlineCode",{parentName:"p"},"badfilter")," modifier disable other basic rules to which they refer. It means that the text of the disabled rule should match the text of the ",(0,l.kt)("inlineCode",{parentName:"p"},"badfilter")," rule (without the ",(0,l.kt)("inlineCode",{parentName:"p"},"badfilter")," modifier)."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com$badfilter")," dealtiverer ",(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@||eksempel.org^$badfilter")," deaktiverer ",(0,l.kt)("inlineCode",{parentName:"p"},"@@||eksempel.org^"),"."),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"BEM\xc6RK:")," ",(0,l.kt)("inlineCode",{parentName:"p"},"badfilter"),"-modifikatoren fungerer ikke pt. med ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/hosts"),"-regeltyper. ",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.1 eksempel.org$badfilter")," deaktiverer ",(0,l.kt)("strong",{parentName:"p"},"ikke")," den oprindelige ",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.1 eksempel.org"),"-regel."))),(0,l.kt)("h4",{id:"ctag"},(0,l.kt)("inlineCode",{parentName:"h4"},"ctag")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"The ",(0,l.kt)("inlineCode",{parentName:"strong"},"ctag")," modifier can only be used in AdGuard Home.")),(0,l.kt)("p",null,"It allows to block domains only for specific types of DNS client tags. You can assign tags to clients in the AdGuard Home UI. In the future, we plan to assign tags automatically by analyzing the behavior of each client."),(0,l.kt)("p",null,"The syntax is:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$ctag=v\xe6rdi1|v\xe6rdi2|...\n")),(0,l.kt)("p",null,"If one of client's tags matches the ",(0,l.kt)("inlineCode",{parentName:"p"},"ctag")," values, this rule applies to the client. The syntax for exclusion is:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$ctag=~value1|~value2|...\n")),(0,l.kt)("p",null,"If one of client's tags matches the exclusion ",(0,l.kt)("inlineCode",{parentName:"p"},"ctag")," values, this rule doesn't apply to the client."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Examples:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$ctag=device_pc|device_phone"),": Blokerer ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," for klienter tagget som ",(0,l.kt)("inlineCode",{parentName:"p"},"device_pc")," eller ",(0,l.kt)("inlineCode",{parentName:"p"},"device_phone"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$ctag=~device_phone"),": Blokerer ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," for alle klienter, undtagen for den tagget som ",(0,l.kt)("inlineCode",{parentName:"p"},"device_phone"),"."))),(0,l.kt)("p",null,"The list of allowed tags:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Efter enhedstype:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_audio"),": Lydenheder."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_camera"),": Kameraer."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_gameconsole"),": Spillekonsoller."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_laptop"),": B\xe6rbare."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_nas"),": NAS (netv\xe6rkstilsluttede lagerenheder)."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_pc"),": PC'er."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_phone"),": Mobiler."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_printer"),": Printere."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_securityalarm"),": Sikkerhedsalarmer."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_tablet"),": Tablets."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_tv"),": TV."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_other"),": \xd8vrige enhedstyper."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Efter styresystem:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"os_android"),": Android."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"os_ios"),": iOS."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"os_linux"),": Linux."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"os_macos"),": macOS."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"os_windows"),": Windows."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"os_other"),": \xd8vrige OS'er."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Efter brugergruppe:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"user_admin"),": Administratorer."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"user_regular"),": Almindelige brugere."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"user_child"),": B\xf8rn.")))),(0,l.kt)("h2",{id:"etc-hosts-syntax"},(0,l.kt)("inlineCode",{parentName:"h2"},"/etc/hosts"),"Syntakstype"),(0,l.kt)("p",null,"For each host a single line should be present with the following information:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"IP_adresse kanonisk_v\xe6rtsnavn [aliases...]\n")),(0,l.kt)("p",null,"Fields of the entries are separated by any number of space or tab characters. Text from the ",(0,l.kt)("inlineCode",{parentName:"p"},"#")," character until the end of the line is a comment and is ignored."),(0,l.kt)("p",null,"Hostnames may contain only alphanumeric characters, hyphen-minus signs (",(0,l.kt)("inlineCode",{parentName:"p"},"-"),"), and periods (",(0,l.kt)("inlineCode",{parentName:"p"},"."),"). They must begin with an alphabetic character and end with an alphanumeric character. Optional aliases provide for name changes, alternate spellings, shorter hostnames, or generic hostnames (for example, ",(0,l.kt)("inlineCode",{parentName:"p"},"localhost"),")."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"# Dette er en kommentar\n127.0.0.1 eksempel.org eksempel.info\n127.0.0.1 eksempel.com\n127.0.0.1 eksempel.net # dette er ogs\xe5 en kommentar\n")),(0,l.kt)("p",null,"In AdGuard Home, the IP addresses are used to respond to DNS queries for these domains. In Private AdGuard DNS, these addresses are simply blocked."),(0,l.kt)("h2",{id:"dom\xe6ne-specifik-syntaks"},"Dom\xe6ne-specifik syntaks"),(0,l.kt)("p",null,"A simple list of domain names, one name per line."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"# Dette er en kommentar\neksempel.com\neksempel.org\neksempel.net # dette er ogs\xe5 en kommentar\n")),(0,l.kt)("p",null,"If a string is not a valid domain (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"*.example.org"),"), AdGuard Home will consider it to be an ",(0,l.kt)("a",{parentName:"p",href:"#adblock-style-syntax"},"Adblock-style")," rule."),(0,l.kt)("h2",{id:"hostlists-compiler"},"Hostlists Compiler"),(0,l.kt)("p",null,"If you are maintaining a blocklist and use different sources in it, ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/HostlistCompiler"},"Hostlists compiler")," may be useful to you. It is a simple tool that makes it easier to compile a hosts blocklist compatible with AdGuard Home, Private AdGuard DNS or any other AdGuard product with DNS filtering."),(0,l.kt)("p",null,"What it's capable of:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Kompiler \xe9n enkelt blokeringsliste fra flere kilder.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Udelukke de regler, man ikke beh\xf8ver.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Oprense den resulterende liste: Fjerne dubletter og ugyldige regler, samt komprimere listen."))))}u.isMDXComponent=!0}}]);