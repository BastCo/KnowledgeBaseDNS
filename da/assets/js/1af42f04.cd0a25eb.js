"use strict";(self.webpackChunkadguard_dns_knowledge_base=self.webpackChunkadguard_dns_knowledge_base||[]).push([[291],{4137:function(e,n,t){t.d(n,{Zo:function(){return m},kt:function(){return g}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var o=r.createContext({}),d=function(e){var n=r.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},m=function(e){var n=d(e.components);return r.createElement(o.Provider,{value:n},e.children)},k={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},s=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,o=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),s=d(t),g=a,N=s["".concat(o,".").concat(g)]||s[g]||k[g]||l;return t?r.createElement(N,i(i({ref:n},m),{},{components:t})):r.createElement(N,i({ref:n},m))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,i=new Array(l);i[0]=s;var p={};for(var o in n)hasOwnProperty.call(n,o)&&(p[o]=n[o]);p.originalType=e,p.mdxType="string"==typeof e?e:a,i[1]=p;for(var d=2;d<l;d++)i[d]=t[d];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}s.displayName="MDXCreateElement"},2476:function(e,n,t){t.r(n),t.d(n,{assets:function(){return m},contentTitle:function(){return o},default:function(){return g},frontMatter:function(){return p},metadata:function(){return d},toc:function(){return k}});var r=t(3117),a=t(102),l=(t(7294),t(4137)),i=["components"],p={title:"Syntaks for DNS-filtreringsregler",sidebar_position:2,toc_min_heading_level:2,toc_max_heading_level:4},o=void 0,d={unversionedId:"general/dns-filtering-syntax",id:"general/dns-filtering-syntax",title:"Syntaks for DNS-filtreringsregler",description:"I denne artikel forklares, hvordan man skriver tilpassede filtreringsregler til brug i AdGuard-produkter",source:"@site/i18n/da/docusaurus-plugin-content-docs/current/general/dns-filtering-syntax.md",sourceDirName:"general",slug:"/general/dns-filtering-syntax",permalink:"/KnowledgeBaseDNS/da/general/dns-filtering-syntax",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBaseDNS/edit/master/docs/general/dns-filtering-syntax.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Syntaks for DNS-filtreringsregler",sidebar_position:2,toc_min_heading_level:2,toc_max_heading_level:4},sidebar:"sidebar",previous:{title:"DNS-filtrering",permalink:"/KnowledgeBaseDNS/da/general/dns-filtering"},next:{title:"Kendte DNS-udbydere",permalink:"/KnowledgeBaseDNS/da/general/dns-providers"}},m={},k=[{value:"Introduktion",id:"introduction",level:2},{value:"Basiseksempler",id:"basic-examples",level:2},{value:"Adblock-syntakstype",id:"adblock-style-syntax",level:2},{value:"Specialtegn",id:"special-characters",level:3},{value:"Regul\xe6re udtryk",id:"regular-expressions",level:3},{value:"Kommentarer",id:"comments",level:3},{value:"Regelmodifikatorer",id:"rule-modifiers",level:3},{value:"<code>client</code>",id:"client-modifier",level:4},{value:"<code>denyallow</code>",id:"denyallow-modifier",level:4},{value:"<code>dnstype</code>",id:"dnstype-modifier",level:4},{value:"<code>dnsrewrite</code>",id:"dnsrewrite-modifier",level:4},{value:"<code>important</code>",id:"important-modifier",level:4},{value:"<code>badfilter</code>",id:"badfilter-modifier",level:4},{value:"<code>ctag</code>",id:"ctag-modifier",level:4},{value:"<code>/etc/hosts</code>-syntakstype",id:"etc-hosts-syntax",level:2},{value:"Dom\xe6nespecifik syntaks",id:"domains-only-syntax",level:2},{value:"Hostliste-kompiler",id:"hostlist-compiler",level:2}],s={toc:k};function g(e){var n=e.components,t=(0,a.Z)(e,i);return(0,l.kt)("wrapper",(0,r.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"I denne artikel forklares, hvordan man skriver tilpassede filtreringsregler til brug i AdGuard-produkter"),(0,l.kt)("p",{parentName:"div"},"Hurtige links: ",(0,l.kt)("a",{parentName:"p",href:"https://agrd.io/download-kb-adblock"},"Download AdGuard Ad Blocker"),", ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome#getting-started"},"Hent AdGuard Home"),", ",(0,l.kt)("a",{parentName:"p",href:"https://agrd.io/download-dns"},"Pr\xf8v AdGuard DNS")))),(0,l.kt)("h2",{id:"introduction"},"Introduktion"),(0,l.kt)("p",null,"AdGuard DNS-filtreringsregelsyntaks kan bruges til at g\xf8re regler mere fleksible, s\xe5 de kan blokere indhold iht. personlige pr\xe6ferencer. AdGuard DNS-filtreringsregelsyntaks kan bruges i forskellige AdGuard-produkter, s\xe5som AdGuard Home, AdGuard DNS, AdGuard til Windows/Mac/Android."),(0,l.kt)("p",null,"Der er tre forskellige tilgange til at skrive v\xe6rtsblokeringslister:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"#adblock-style-syntax"},"Adblock-syntakstype"),": Den moderne tilgang til at skrive filtreringsregler baseret p\xe5 brug af et unders\xe6t af Adblock-regelsyntaksen. P\xe5 denne m\xe5de er blokeringslister kompatible med browser-adblockere.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"#etc-hosts-syntax"},(0,l.kt)("inlineCode",{parentName:"a"},"/etc/hosts")," syntaks"),": Den gamle, gennempr\xf8vede tilgang, der bruger samme v\xe6rtsfilsyntakser som operativsystemerne.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"#domains-only-syntax"},"Syntaks kun til dom\xe6ner"),": En simpel liste over dom\xe6nenavne."))),(0,l.kt)("p",null,"Opretter man en sortliste, anbefales brug af ",(0,l.kt)("a",{parentName:"p",href:"#adblock-style-syntax"},"Adblock-syntakstypen"),". Den har et par vigtige fordele ift. den gamle syntakstype:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Blokeringslistest\xf8rrelse.")," Ved at bruge m\xf8nstertilpasning kan man have \xe9n enkelt regel i stedet for hundredvis af ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/hosts"),"-poster.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Kompatibilitet.")," Blokeringslisten vil v\xe6re kompatibel med browser-adblockere, og regler kan nemmere deles med en browser-filtreringsliste.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Udvidelsesmuligheder.")," I det seneste \xe5rti har Adblock-syntakstypen udviklet sig meget, og vi ser ingen grund til ikke at udvide den yderligere og tilbyde flere funktioner til netv\xe6rksniveau-blockere."))),(0,l.kt)("p",null,"Vedligeholder man enten en sortliste af typen ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/hosts")," eller flere filtreringslister (uanset type), tilbyder vi et v\xe6rkt\xf8j til kompilering af sortlister. Vi kaldte den ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/HostlistCompiler"},"Hostlist-kompiler"),", og vi bruger den selv til at oprette ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardSDNSFilter"},"AdGuard DNS-filter"),"."),(0,l.kt)("h2",{id:"basic-examples"},"Basiseksempler"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^"),": blok\xe9r dom\xe6neadgang for ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," og alle dets underdom\xe6ner, f.eks. ",(0,l.kt)("inlineCode",{parentName:"p"},"www.eksempel.org"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^"),": Afblok\xe9r dom\xe6neadgang til ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," og alle dets underdom\xe6ner.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"1.2.3.4 eksempel.org"),": (Bem\xe6rk, gammel ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/hosts"),"-syntakstype) i AdGuard Home, svar med ",(0,l.kt)("inlineCode",{parentName:"p"},"1.2.3.4")," p\xe5 foresp\xf8rgsler for ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),"-dom\xe6net, men ",(0,l.kt)("strong",{parentName:"p"},"ikke")," dets underdom\xe6ner. Blok\xe9r i Private AdGuard DNS adgangen til ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),". ",(0,l.kt)("inlineCode",{parentName:"p"},"www.eksempel.org")," forbliver tilladt."),(0,l.kt)("p",{parentName:"li"},"I AdGuard Home er brug af den uspecificerede IP-adresse (",(0,l.kt)("inlineCode",{parentName:"p"},"0.0.0.0"),") eller en lokal adresse (",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.1")," o.lign.) for en v\xe6rt essentielt det samme som at blokere denne v\xe6rt."),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-none"},"# Returnerer IP-adressen 1.2.3.4 for eksempel.org.\n1.2.3.4 eksempel.org\n# Blokerer eksempel.org ved at svare med 0.0.0.0.\n0.0.0.0 eksempel.org\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),": En simpel dom\xe6neregel. Blokerer ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),"-dom\xe6net, men ",(0,l.kt)("strong",{parentName:"p"},"ikke")," dets underdom\xe6ner. ",(0,l.kt)("inlineCode",{parentName:"p"},"www.eksempel.org")," forbliver tilladt.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"! Her angives en kommentar")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"# Ogs\xe5 en kommentar"),": Kommentarer.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"/REGEX/"),": Blok\xe9r adgang til dom\xe6ner matchende det angivne regul\xe6re udtryk."))),(0,l.kt)("h2",{id:"adblock-style-syntax"},"Adblock-syntakstype"),(0,l.kt)("p",null,"Dette er en undergruppe af den ",(0,l.kt)("a",{parentName:"p",href:"https://adguard.com/kb/general/ad-filtering/create-own-filters/"},"traditionelle Adblock-syntakstype")," brugt af webbrowser-adblockere."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},'     regel = ["@@"] m\xf8nster [ "$" modifikatorer ]\nmodifikatorer = [modifikator0, modifikator1[, ...[, modifikatorN]]]\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"m\xf8nster"),": V\xe6rtsnavnmasken. Alle v\xe6rtsnavne matches mod denne maske. M\xf8nsteret kan ogs\xe5 indeholde specialtegn, som beskrevet nedenfor.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@"),": den mark\xf8r, der bruges i undtagelsesreglerne. \xd8nskes filtrering for de matchende v\xe6rtsnavne deaktiveret, s\xe5 start reglen med denne mark\xf8r.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"modifikatorer"),": Parametre, som tydeligg\xf8r reglen. De kan begr\xe6nse reglens udstr\xe6kning eller endda helt \xe6ndre m\xe5den, den fungerer p\xe5."))),(0,l.kt)("h3",{id:"special-characters"},"Specialtegn"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"*"),": jokertegnet. Det bruges til at repr\xe6sentere et hvilket som helst tegn. Dette kan ogs\xe5 v\xe6re en tom streng eller en streng af enhver l\xe6ngde.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||"),": Matcher begyndelsen af et v\xe6rtsnavn, inkl. ethvert underdom\xe6ne. F.eks. s\xe5 matcher ",(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org")," ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"test.eksempel.org"),", men ikke ",(0,l.kt)("inlineCode",{parentName:"p"},"testeksempel.org"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"^"),": separatortegnet. Ulig browser-adblocking, er der intet at adskille/opdele i et v\xe6rtsnavn, s\xe5 det eneste form\xe5l med dette tegn er at markere slutningen p\xe5 v\xe6rtsnavnet.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"|"),": En mark\xf8r for begyndelsen eller slutningen p\xe5 v\xe6rtsnavnet. V\xe6rdien afh\xe6nger af tegnplaceringen i masken. F.eks. svarer reglen ",(0,l.kt)("inlineCode",{parentName:"p"},"emple.org|")," til ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),", men ikke til ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org.com"),". ",(0,l.kt)("inlineCode",{parentName:"p"},"|eksempe")," korresponderer med ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),", men ikke med ",(0,l.kt)("inlineCode",{parentName:"p"},"test.eksempel"),"."))),(0,l.kt)("h3",{id:"regular-expressions"},"Regul\xe6re udtryk"),(0,l.kt)("p",null,"\xd8nskes endnu mere fleksibilitet ved regeludarbejdelse, kan ",(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions"},"regul\xe6re udtryk")," bruges i stedet for standarden, den forenklede matchningssyntaks. \xd8nskes et regul\xe6rt udtryk anvendt, skal m\xf8nsteret se s\xe5ledes ud:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},'m\xf8nster = "/" regexp "/"\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Eksempler:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"/eksempel.*/")," blokerer v\xe6rter matchende ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.*"),"-regexp'et.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@/eksempel.*/$important")," afblokerer v\xe6rter matchende ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.*"),"-regexp'et. Bem\xe6rk, at denne regel ogs\xe5 foruds\xe6tter ",(0,l.kt)("inlineCode",{parentName:"p"},"important"),"-modifikatoren."))),(0,l.kt)("h3",{id:"comments"},"Kommentarer"),(0,l.kt)("p",null,"Enhver linje startende med et udr\xe5bs- eller et hash-tegn udg\xf8r en kommentar og ignoreres derfor af filtreringsmotoren. En kommentarer beskriver, hvad en regel g\xf8r, og den placeres normalt over reglen."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Eksempel:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"! Dette er en kommentar.\n# Dette er ogs\xe5 en kommentar.\n")),(0,l.kt)("h3",{id:"rule-modifiers"},"Regelmodifikatorer"),(0,l.kt)("p",null,"Adf\xe6rden for en regel kan \xe6ndres ved at tilf\xf8je modifikatorer. Modifikatorer skal placeres i slutningen af reglen efter ",(0,l.kt)("inlineCode",{parentName:"p"},"$"),"-tegnet og adskilles med kommaer."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Eksempler:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-ingen",metastring:"||eksempel.org^$important","||eksempel.org^$important":!0},"")),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^")," er det matchende m\xf8nster. ",(0,l.kt)("inlineCode",{parentName:"p"},"$"),' er afgr\xe6nsningstegnet, der signalerer, at resten af reglen er modifikatorer. "important" er modifikationen.')),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Man \xf8nsker m\xe5ske at bruge flere modifikatorer i en regel. Adskil dem i s\xe5 fald med kommaer:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-none"},"||eksempel.org^$client=127.0.0.1,dnstype=A\n")),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^")," er det matchende m\xf8nster. ",(0,l.kt)("inlineCode",{parentName:"p"},"$")," er afgr\xe6nsningstegnet, der signalerer, at resten af reglen er modifikatorer. ",(0,l.kt)("inlineCode",{parentName:"p"},"client=127.0.0.1")," er ",(0,l.kt)("a",{parentName:"p",href:"#client-modifier"},(0,l.kt)("inlineCode",{parentName:"a"},"klient")),"-modifikatoren med sin v\xe6rdi, ",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.1"),", er afgr\xe6nsningstegnet. Og til sidst er ",(0,l.kt)("inlineCode",{parentName:"p"},"dnstype=A")," ",(0,l.kt)("a",{parentName:"p",href:"#dnstype-modifier"},(0,l.kt)("inlineCode",{parentName:"a"},"dnstype")),"-modifikatoren med sin v\xe6rdi ",(0,l.kt)("inlineCode",{parentName:"p"},"A"),"."))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"BEM\xc6RK:")," Indeholder en regel en modifikator, der ikke er angivet i dette dokument, skal hele regel ",(0,l.kt)("strong",{parentName:"p"},"ignoreres"),". P\xe5 denne m\xe5de undg\xe5s falske positiver, n\xe5r folk fors\xf8ger at bruge umodificerede browser-adblockingfilterlister, s\xe5som EasyList eller EasyPrivacy."),(0,l.kt)("h4",{id:"client-modifier"},(0,l.kt)("inlineCode",{parentName:"h4"},"client")),(0,l.kt)("p",null,"Modifikatoren ",(0,l.kt)("inlineCode",{parentName:"p"},"client")," muligg\xf8r at angive de klienter, for hvilke reglen anvendes. Der er to hovedm\xe5der, en klient kan identificere p\xe5:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Via deres IP-adresse eller CIDR-pr\xe6fiks. Denne m\xe5de fungerer for alle slags klienter.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Via deres navn. Denne m\xe5de fungerer kun for vedvarende klienter (i AdGuard Home) og enheder (i Private AdGuard DNS), som man manuelt har tilf\xf8jet."),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"BEM\xc6RK:"),' I AdGuard Home underst\xf8ttes ClientID\'er ikke pt., kun navne. Har man tilf\xf8jet en klient med navnet "Min Klient" og klient-id ',(0,l.kt)("inlineCode",{parentName:"p"},"min-klient"),", s\xe5 bogstav\xe9r modifikatoren ",(0,l.kt)("inlineCode",{parentName:"p"},"$client='Min Klient'")," i mods\xe6tning til ",(0,l.kt)("inlineCode",{parentName:"p"},"$client=min-klient"),"."))),(0,l.kt)("p",null,"Syntaksen er:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$client=v\xe6rdi1|v\xe6rdi2|...\n")),(0,l.kt)("p",null,"Klienter kan ogs\xe5 undtages ved at tilf\xf8je et ",(0,l.kt)("inlineCode",{parentName:"p"},"~"),"-tegn f\xf8r v\xe6rdien. Reglen anvendes s\xe5 ikke p\xe5 DNS-foresp\xf8rgsler fra denne klient."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$client=~v\xe6rdi1\n")),(0,l.kt)("p",null,"Klientnavne indeholder normalt mellemrum eller andre specialtegn, hvorfor navnet b\xf8r s\xe6tte i anf\xf8rselstegn. B\xe5de enkelte og dobbelte ASCII-anf\xf8rselstegn underst\xf8ttes. Brug omvendt skr\xe5streg (",(0,l.kt)("inlineCode",{parentName:"p"},"\\"),") til at escape anf\xf8rselstegnene (",(0,l.kt)("inlineCode",{parentName:"p"},'"')," og ",(0,l.kt)("inlineCode",{parentName:"p"},"'"),"), kommaer (",(0,l.kt)("inlineCode",{parentName:"p"},","),") samt pipes (",(0,l.kt)("inlineCode",{parentName:"p"},"|"),")."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"BEM\xc6RK:")," N\xe5r en klient undtages, ",(0,l.kt)("strong",{parentName:"p"},"skal")," man placere ",(0,l.kt)("inlineCode",{parentName:"p"},"~")," udenfor anf\xf8rselstegnene."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Eksempler:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@||*^$client=127.0.0.1"),": Afblok\xe9r alt for localhost.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$client='Frank\\'s b\xe6rbare'"),": Blok\xe9r kun ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," for klienten med navnet ",(0,l.kt)("inlineCode",{parentName:"p"},"Frank's b\xe6rbare"),". Bem\xe6rk, at anf\xf8rselstegnet (",(0,l.kt)("inlineCode",{parentName:"p"},"'"),") i navnet skal escapes.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksmpel.org^$client=~'Mary\\'s\\, John\\'s\\ og Boris\\'s b\xe6rbarer'"),": Blok\xe9r ",(0,l.kt)("inlineCode",{parentName:"p"},"eksmpel.org")," for alle undtagen for klientnavnene ",(0,l.kt)("inlineCode",{parentName:"p"},"Mary's, John's og Boris' b\xe6rbarer"),". Bem\xe6rk, at komma (",(0,l.kt)("inlineCode",{parentName:"p"},","),") ogs\xe5 skal escapes.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$client=~Mor|~Far|B\xf8rn"),": Blok\xe9r ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," for ",(0,l.kt)("inlineCode",{parentName:"p"},"B\xf8rn"),", men ikke for ",(0,l.kt)("inlineCode",{parentName:"p"},"Mor")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"Far"),". Dette eksempel viser, hvordan man angiver flere klienter i \xe9n regel.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$client=192.168.0.0/24"),": Blok\xe9r ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," for alle klienter med IP-adresser i omr\xe5det fra ",(0,l.kt)("inlineCode",{parentName:"p"},"192.168.0.0")," til ",(0,l.kt)("inlineCode",{parentName:"p"},"192.168.0.255"),"."))),(0,l.kt)("h4",{id:"denyallow-modifier"},(0,l.kt)("inlineCode",{parentName:"h4"},"denyallow")),(0,l.kt)("p",null,"Modifikatoren ",(0,l.kt)("inlineCode",{parentName:"p"},"denyallow")," kan bruges til at undtage dom\xe6ner fra blokeringsreglen. Benyt ",(0,l.kt)("inlineCode",{parentName:"p"},"|"),"-tegnet som separator, n\xe5r flere dom\xe6ner f\xf8jes til \xe9n regel."),(0,l.kt)("p",null,"Syntaksen er:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$denyallow=dom\xe6ne1|dom\xe6ne2|...\n")),(0,l.kt)("p",null,"Denne modifikator muligg\xf8r at undg\xe5 at oprette un\xf8dvendige undtagelsesregler, n\xe5r vores blokeringsregel d\xe6kker for mange dom\xe6ner. Man \xf8nsker m\xe5ske at blokere alt undtagen nogle f\xe5 TLD-dom\xe6ner. Man kan bruge standardmetoden, dvs. regler s\xe5som denne:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"! Blok\xe9r alt.\n/.*/\n\n! Afblok\xe9r et par TLD'er.\n@@||com^\n@@||net^\n")),(0,l.kt)("p",null,"Problemet med denne tilgang er, at man p\xe5 denne m\xe5de ogs\xe5 afblokerer sporingsdom\xe6ner, som findes p\xe5 disse TLD'er (f.eks. ",(0,l.kt)("inlineCode",{parentName:"p"},"google-analytics.com"),"). S\xe5dan l\xf8ses dette med ",(0,l.kt)("inlineCode",{parentName:"p"},"denyallow"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"*$denyallow=com|net\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Eksempler:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"*$denyallow=com|net"),": Blok\xe9r alt, undtagen ",(0,l.kt)("inlineCode",{parentName:"p"},"*.com")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"*.net"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@*$denyallow=com|net"),": Afblok\xe9r alt, undtagen ",(0,l.kt)("inlineCode",{parentName:"p"},"*.com")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"*.net"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$denyallow=under.eksempel.org"),". blok\xe9r ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"*.eksempel.org"),", men blok\xe9r ikke ",(0,l.kt)("inlineCode",{parentName:"p"},"under.eksempel.org"),"."))),(0,l.kt)("h4",{id:"dnstype-modifier"},(0,l.kt)("inlineCode",{parentName:"h4"},"dnstype")),(0,l.kt)("p",null,"Modifikatoren ",(0,l.kt)("inlineCode",{parentName:"p"},"dnstype")," muligg\xf8r angivelse af DNS-foresp\xf8rgsel eller svartype, for hvilken reglen udl\xf8ses."),(0,l.kt)("p",null,"Syntaksen er:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$dnstype=v\xe6rdi1|v\xe6rdi2|...\n$dnstype=~v\xe6rdi1|~v\xe6rdi2|~...\n")),(0,l.kt)("p",null,"Typenavnene er minuskel/majuskel uf\xf8lsomme, men valideres mod et s\xe6t reelle DNS-ressourceposttyper (RR)."),(0,l.kt)("p",null,"Kombin\xe9r ikke undtagelsesregler med inklusionsregler. Dette:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$dnstype=~v\xe6rdi1|~v\xe6rdi2\n")),(0,l.kt)("p",null,"svarer til dette:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$dnstype=v\xe6rdi2\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Eksempler:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksemple.org^$dnstype=AAAA"),": Blok\xe9r DNS-foresp\xf8rgsler for IPv6-adresserne p\xe5 ",(0,l.kt)("inlineCode",{parentName:"p"},"eksemple.org"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksemple.org^$dnstype=~A|~CNAME"),": Tillad kun ",(0,l.kt)("inlineCode",{parentName:"p"},"A")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"CNAME")," DNS-foresp\xf8rgsler for ",(0,l.kt)("inlineCode",{parentName:"p"},"eksemple.org"),", blok\xe9r resten."))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"BEM\xc6RK:")," F\xf8r version ",(0,l.kt)("strong",{parentName:"p"},"v0.108.0,")," brugte AdGuard Home foresp\xf8rgselstypen til at filtrere svarposterne, i mods\xe6tning til selve svarposttypen.  Det gav problemer, da det bet\xf8d, at der ikke kunne skrives regler, som ville tillade visse ",(0,l.kt)("inlineCode",{parentName:"p"},"CNAME"),"-poster i svar i ",(0,l.kt)("inlineCode",{parentName:"p"},"A"),"- og ",(0,l.kt)("inlineCode",{parentName:"p"},"AAAA"),"-foresp\xf8rgsler. I ",(0,l.kt)("strong",{parentName:"p"},"v0.108.0")," blev denne adf\xe6rd \xe6ndret, s\xe5 den nu er:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"||canon.eksempel.com^$dnstype=~CNAME\n")),(0,l.kt)("p",null,"giver mulighed for at undg\xe5 filtrering af det flg. svar:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"SVAR:\n->  eksempel.com\n    kanonisk navn = canon.eksempel.com.\n    ttl = 60\n->  canon.eksempel.com\n    internetadresse = 1.2.3.4\n    ttl = 60\n")),(0,l.kt)("h4",{id:"dnsrewrite-modifier"},(0,l.kt)("inlineCode",{parentName:"h4"},"dnsrewrite")),(0,l.kt)("p",null,"Svarmodifikatoren ",(0,l.kt)("inlineCode",{parentName:"p"},"dnsrewrite")," muligg\xf8r at erstatte indholdet af svaret p\xe5 DNS-foresp\xf8rgslen for de matchende v\xe6rter. Bem\xe6rk, at denne modifikator i AdGuard Home fungerer i alle regler, men kun i tilpassede regler i Private AdGuard DNS."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Regler med svarmodifikatoren ",(0,l.kt)("inlineCode",{parentName:"strong"},"dnsrewrite")," har h\xf8jere prioritet end \xf8vrige regler i AdGuard Home.")),(0,l.kt)("p",null,"Stenografisyntaksen er:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$dnsrewrite=1.2.3.4\n$dnsrewrite=abcd::1234\n$dnsrewrite=eksempel.net\n$dnsrewrite=REFUSED\n")),(0,l.kt)("p",null,"N\xf8gleordene SKAL v\xe6re majuskler (f.eks. ",(0,l.kt)("inlineCode",{parentName:"p"},"NOERROR"),"). N\xf8gleordsomskrivninger har forrang over de \xf8vrige og vil resultere i et tomt svar med en passende svarkode."),(0,l.kt)("p",null,"Den fulde syntaksform er ",(0,l.kt)("inlineCode",{parentName:"p"},"RCODE;RRTYPE;VALUE"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$dnsrewrite=NOERROR;A;1.2.3.4\n$dnsrewrite=NOERROR;AAAA;abcd::1234\n$dnsrewrite=NOERROR;CNAME;eksempel.net\n$dnsrewrite=REFUSED;;\n")),(0,l.kt)("p",null,"Modifikatoren ",(0,l.kt)("inlineCode",{parentName:"p"},"$dnsrewrite")," med ",(0,l.kt)("inlineCode",{parentName:"p"},"NOERROR"),"-svarkoden kan ogs\xe5 have tomme ",(0,l.kt)("inlineCode",{parentName:"p"},"RRTYPE"),"- og ",(0,l.kt)("inlineCode",{parentName:"p"},"VALUE"),"-felter."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"CNAME")," er speciel, idet AdGuard Home vil opl\xf8se v\xe6rten og f\xf8je dens oplysninger til svaret. Dvs., hvis ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.net")," har IP ",(0,l.kt)("inlineCode",{parentName:"p"},"1.2.3.4"),", og brugeren har dette i sine filterregler:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"||eksempel.com^$dnsrewrite=eksempel.net\n! Eller:\n||eksempel.com^$dnsrewrite=FEJL;CNAME;eksempel.net\n")),(0,l.kt)("p",null,"s\xe5 vil svaret v\xe6re noget i retning af:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"nslookup eksempel.com my.adguard.local\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"Server: my.adguard.local\nAdresse: 127.0.0.1#53\n\nIkke-autoritativt svar:\neksempel.com kanonisk navn = eksempel.net.\nNavn: eksempel.net\nAdresse: 1.2.3.4\n")),(0,l.kt)("p",null,"Dern\xe6st ",(0,l.kt)("inlineCode",{parentName:"p"},"CNAME"),"-omskrivningen. Derefter opsummeres alle andre posters v\xe6rdier til \xe9t svar, s\xe5 dette:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"||eksempel.com^$dnsrewrite=NOERROR;A;1.2.3.4\n||eksempel.dk^$dnsrewrite=NOERROR;A;1.2.3.5\n")),(0,l.kt)("p",null,"vil resultere i et svar med to ",(0,l.kt)("inlineCode",{parentName:"p"},"A"),"-poster."),(0,l.kt)("p",null,"Aktuelt underst\xf8ttede RR-typer med eksempler:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||4.3.2.1.in-addr.arpa^$dnsrewrite=NOERROR;PTR;eksempel.net.")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"PTR"),"-post for reverse DNS. Reverse DNS-foresp\xf8rgsler for ",(0,l.kt)("inlineCode",{parentName:"p"},"1.2.3.4")," til DNS-serveren vil resultere i ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.net"),"."),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"BEM\xc6RK:")," IP'en SKAL v\xe6re i omvendt r\xe6kkef\xf8lge. Se ",(0,l.kt)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc1035#section-3.5"},"RFC 1035"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;A;1.2.3.4")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"A"),"-post med v\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"1.2.3.4"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;AAAA;abcd::1234")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"AAAA"),"-post med v\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"abcd::1234"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;CNAME;eksempel.org")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"CNAME"),"-post. Se forklaring ovenfor.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;HTTPS;32 eksempel.com alpn=h3")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"HTTPS"),"-post. Kun et unders\xe6t af parameterv\xe6rdier underst\xf8ttes: V\xe6rdier skal v\xe6re ",(0,l.kt)("inlineCode",{parentName:"p"},"sammenh\xe6ngende"),", og hvor en ",(0,l.kt)("inlineCode",{parentName:"p"},"v\xe6rdiliste")," ",(0,l.kt)("inlineCode",{parentName:"p"},"forventes"),", underst\xf8ttes pt. kun \xe9n v\xe6rdi:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-none"},'ipv4hint=127.0.0.1             // Underst\xf8ttet.\nipv4hint="127.0.0.1"           // Uunderst\xf8ttet.\nipv4hint=127.0.0.1,127.0.0.2   // Uunderst\xf8ttet.\nipv4hint="127.0.0.1,127.0.0.2" // Uunderst\xf8ttet.\n')),(0,l.kt)("p",{parentName:"li"},"Dette vil blive \xe6ndret fremtiden.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;MX;32 eksempel.mail")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"MX"),"-post med forrangsv\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"32")," og udvekslingsv\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.mail"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;SVCB;32 eksempel.com alpn=h3")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"SVCB"),"-value. Se ",(0,l.kt)("inlineCode",{parentName:"p"},"HTTPS"),"-eksemplet ovenfor.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NOERROR;TXT;hallo_verden")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"TXT"),"-post med v\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"hallo_verden"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||_svctype._tcp.eksempel.com^$dnsrewrite=NOERROR;SRV;10 60 8080 eksempel.com")," tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"SRV"),"-post med prioritetsv\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"10"),", v\xe6gtv\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"60"),", porten",(0,l.kt)("inlineCode",{parentName:"p"},"8080")," og m\xe5lv\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.com"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com^$dnsrewrite=NXDOMAIN;;")," svarer med en ",(0,l.kt)("inlineCode",{parentName:"p"},"NXDOMAIN"),"-kode.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"$dnstype=AAAA,denyallow=eksempel.org,dnsrewrite=NOERROR;;")," besvares med tomme ",(0,l.kt)("inlineCode",{parentName:"p"},"NOERROR"),"-svar for alle ",(0,l.kt)("inlineCode",{parentName:"p"},"AAAA"),"-foresp\xf8rgsler, undtagen for dem indeholdende ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org"),"."))),(0,l.kt)("p",null,"Undtagelsesregler fjerner \xe9n eller alle regler:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@||eksempel.com^$dnsrewrite")," fjerner alle DNS rewrite-regler.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@||eksempel.com^$dnsrewrite=1.2.3.4")," fjerner DNS rewrite-reglen, der tilf\xf8jer en ",(0,l.kt)("inlineCode",{parentName:"p"},"A"),"-post med v\xe6rdien ",(0,l.kt)("inlineCode",{parentName:"p"},"1.2.3.4"),"."))),(0,l.kt)("h4",{id:"important-modifier"},(0,l.kt)("inlineCode",{parentName:"h4"},"important")),(0,l.kt)("p",null,"Modifikatoren ",(0,l.kt)("inlineCode",{parentName:"p"},"important")," anvendt p\xe5 en regel, \xf8ger dens prioritet over alle \xf8vrige regler uden modifikatoren. Selv over basisundtagelsesregler."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Eksempler:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"I dette eksempel:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-none"},"||eksempel.org^$important\n@@||eksempel.org^\n")),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$important")," blokerer alle foresp\xf8rgsler til ",(0,l.kt)("inlineCode",{parentName:"p"},"*.eksempel.org")," p\xe5 trods af undtagelsesreglen.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"I dette eksempel:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-none"},"||eksempel.org^$important\n@@||eksempel.org^$important\n")),(0,l.kt)("p",{parentName:"li"},"undtagelsesreglen har ogs\xe5 ",(0,l.kt)("inlineCode",{parentName:"p"},"vigtige"),"-modifikator, s\xe5 den vil virke."))),(0,l.kt)("h4",{id:"badfilter-modifier"},(0,l.kt)("inlineCode",{parentName:"h4"},"badfilter")),(0,l.kt)("p",null,"Reglerne med modifikatoren ",(0,l.kt)("inlineCode",{parentName:"p"},"badfilter")," deaktiverer andre basisregler, til hvilke de henviser. Det betyder, at teksten i den deaktiverede regel b\xf8r matche teksten i reglen ",(0,l.kt)("inlineCode",{parentName:"p"},"badfilter")," (uden modifikatoren ",(0,l.kt)("inlineCode",{parentName:"p"},"badfilter"),")."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Eksempler:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com$badfilter")," dealtiverer ",(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.com"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"@@||eksempel.org^$badfilter")," deaktiverer ",(0,l.kt)("inlineCode",{parentName:"p"},"@@||eksempel.org^"),"."),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"BEM\xc6RK:")," ",(0,l.kt)("inlineCode",{parentName:"p"},"badfilter"),"-modifikatoren fungerer ikke pt. med ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/hosts"),"-regeltyper. ",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.1 eksempel.org$badfilter")," deaktiverer ",(0,l.kt)("strong",{parentName:"p"},"ikke")," den oprindelige ",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.1 eksempel.org"),"-regel."))),(0,l.kt)("h4",{id:"ctag-modifier"},(0,l.kt)("inlineCode",{parentName:"h4"},"ctag")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Modifikatoren ",(0,l.kt)("inlineCode",{parentName:"strong"},"ctag")," kan kun bruges i AdGuard Home.")),(0,l.kt)("p",null,"Det muligg\xf8r blokering af dom\xe6ner for bestemte typer af DNS-klienttags. Tags kan tildeles klienter i AdGuard Home-UI'en. Fremadrettet er det planen at tildele tags automatisk ved at analysere hver klients adf\xe6rd."),(0,l.kt)("p",null,"Syntaksen er:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$ctag=v\xe6rdi1|v\xe6rdi2|...\n")),(0,l.kt)("p",null,"Matcher en af klienternes tags ",(0,l.kt)("inlineCode",{parentName:"p"},"ctag"),"-v\xe6rdierne, g\xe6lder denne regel for klienten. Syntaksen for undtagelse er:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"$ctag=~value1|~value2|...\n")),(0,l.kt)("p",null,"Matcher en af klienternes tags undtagelses ",(0,l.kt)("inlineCode",{parentName:"p"},"ctag"),"-v\xe6rdierne, g\xe6lder denne regel ikke for klienten."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Eksempler:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$ctag=device_pc|device_phone"),": Blokerer ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," for klienter tagget som ",(0,l.kt)("inlineCode",{parentName:"p"},"device_pc")," eller ",(0,l.kt)("inlineCode",{parentName:"p"},"device_phone"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"||eksempel.org^$ctag=~device_phone"),": Blokerer ",(0,l.kt)("inlineCode",{parentName:"p"},"eksempel.org")," for alle klienter, undtagen for den tagget som ",(0,l.kt)("inlineCode",{parentName:"p"},"device_phone"),"."))),(0,l.kt)("p",null,"Oversigt over gyldige tags:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Efter enhedstype:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_audio"),": Lydenheder."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_camera"),": Kameraer."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_gameconsole"),": Spillekonsoller."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_laptop"),": B\xe6rbare."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_nas"),": NAS (netv\xe6rkstilsluttede lagerenheder)."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_pc"),": PC'er."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_phone"),": Mobiler."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_printer"),": Printere."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_securityalarm"),": Sikkerhedsalarmer."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_tablet"),": Tablets."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_tv"),": TV."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"device_other"),": \xd8vrige enhedstyper."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Efter styresystem:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"os_android"),": Android."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"os_ios"),": iOS."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"os_linux"),": Linux."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"os_macos"),": macOS."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"os_windows"),": Windows."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"os_other"),": \xd8vrige OS'er."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Efter brugergruppe:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"user_admin"),": Administratorer."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"user_regular"),": Almindelige brugere."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"user_child"),": B\xf8rn.")))),(0,l.kt)("h2",{id:"etc-hosts-syntax"},(0,l.kt)("inlineCode",{parentName:"h2"},"/etc/hosts"),"-syntakstype"),(0,l.kt)("p",null,"For hver v\xe6rt skal \xe9n enkelt linje fremg\xe5 med flg. oplysninger:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"IP_adresse kanonisk_v\xe6rtsnavn [aliases...]\n")),(0,l.kt)("p",null,"Indtastningsfelter adskilles med et vilk\xe5rligt antal mellemrum eller tabulatortegn. Tekst efter ",(0,l.kt)("inlineCode",{parentName:"p"},"#"),"-tegnet og indtil slutningen af linjen udg\xf8r en kommentar og ignoreres."),(0,l.kt)("p",null,"V\xe6rtsnavne m\xe5 kun indeholde alfanumeriske tegn, bindestreg-/minustegn (",(0,l.kt)("inlineCode",{parentName:"p"},"-"),") samt punktummer (",(0,l.kt)("inlineCode",{parentName:"p"},"."),"). De skal b\xe5de starte og slutte med et alfanumerisk tegn. Valgfrie aliaser muligg\xf8r navne\xe6ndringer, alternative stavem\xe5der og kortere/generiske v\xe6rtsnavne (f.eks. ",(0,l.kt)("inlineCode",{parentName:"p"},"localhost"),")."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Eksempel:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"# Dette er en kommentar\n127.0.0.1 eksempel.org eksempel.info\n127.0.0.1 eksempel.com\n127.0.0.1 eksempel.net # dette er ogs\xe5 en kommentar\n")),(0,l.kt)("p",null,"I AdGuard Home bruges IP-adresserne til at besvare DNS-foresp\xf8rgsler for disse dom\xe6ner. I Private AdGuard DNS blokeres disse adresser simpelthen."),(0,l.kt)("h2",{id:"domains-only-syntax"},"Dom\xe6nespecifik syntaks"),(0,l.kt)("p",null,"En simpel liste over dom\xe6nenavne, \xe9t navn pr. linje."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Eksempel:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"# Dette er en kommentar\neksempel.com\neksempel.org\neksempel.net # dette er ogs\xe5 en kommentar\n")),(0,l.kt)("p",null,"Er en streng ikke er et gyldigt dom\xe6ne (f.eks. ",(0,l.kt)("inlineCode",{parentName:"p"},"*.eksempel.org"),"), betragter AdGuard Home den som en ",(0,l.kt)("a",{parentName:"p",href:"#adblock-style-syntax"},"Adblock-syntakstype")," regel."),(0,l.kt)("h2",{id:"hostlist-compiler"},"Hostliste-kompiler"),(0,l.kt)("p",null,"Vedligeholder man en sortliste og bruger forskellige kilder heri, kan ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/HostlistCompiler"},"Hostlist- kompileren")," v\xe6re et nyttigt v\xe6rkt\xf8j. Det er et simpelt v\xe6rkt\xf8j, der g\xf8r det nemmere at kompilere en v\xe6rtsblokeringsliste, der er kompatibel med AdGuard Home, Private AdGuard DNS eller ethvert andet AdGuard-produkt med DNS-filtrering."),(0,l.kt)("p",null,"Hvad den er i stand til:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Kompiler \xe9n enkelt blokeringsliste fra flere kilder.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Udelukke de regler, man ikke beh\xf8ver.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Oprense den resulterende liste: Fjerne dubletter og ugyldige regler, samt komprimere listen."))))}g.isMDXComponent=!0}}]);