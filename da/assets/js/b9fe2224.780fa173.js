"use strict";(self.webpackChunkadguard_dns_knowledge_base=self.webpackChunkadguard_dns_knowledge_base||[]).push([[962],{4137:function(e,t,r){r.d(t,{Zo:function(){return d},kt:function(){return g}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=n.createContext({}),p=function(e){var t=n.useContext(o),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,l=e.originalType,o=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),k=p(r),g=a,u=k["".concat(o,".").concat(g)]||k[g]||m[g]||l;return r?n.createElement(u,i(i({ref:t},d),{},{components:r})):n.createElement(u,i({ref:t},d))}));function g(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=r.length,i=new Array(l);i[0]=k;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var p=2;p<l;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}k.displayName="MDXCreateElement"},5100:function(e,t,r){r.r(t),r.d(t,{assets:function(){return d},contentTitle:function(){return o},default:function(){return g},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return m}});var n=r(3117),a=r(102),l=(r(7294),r(4137)),i=["components"],s={},o="S\xe5dan opretter eget DNS-stempel til Sikker DNS",p={unversionedId:"miscellaneous/create-dns-stamp",id:"miscellaneous/create-dns-stamp",title:"S\xe5dan opretter eget DNS-stempel til Sikker DNS",description:"Denne guide viser dig, hvordan et eget DNS-stempel til sikker DNS oprettes. Sikker DNS er en tjeneste, der forbedrer internetsikkerhed og fortrolighed ved at kryptere DNS-foresp\xf8rgslerne. Dette forhindrer foresp\xf8rgslerne i at blive opsnappet eller manipuleret af ondsindede akt\xf8rer.",source:"@site/i18n/da/docusaurus-plugin-content-docs/current/miscellaneous/create-dns-stamp.md",sourceDirName:"miscellaneous",slug:"/miscellaneous/create-dns-stamp",permalink:"/KnowledgeBaseDNS/da/miscellaneous/create-dns-stamp",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBaseDNS/edit/master/docs/miscellaneous/create-dns-stamp.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Tilskrivninger og Anerkendelser",permalink:"/KnowledgeBaseDNS/da/miscellaneous/acknowledgements"}},d={},m=[{value:"Introduktion til DNS-stempler",id:"introduktion-til-dns-stempler",level:2},{value:"Valg af protokol",id:"valg-af-protokol",level:2},{value:"Oprettelse af et DNS-stempel",id:"oprettelse-af-et-dns-stempel",level:2},{value:"Indhentning af certifikat-hash",id:"indhentning-af-certifikat-hash",level:3},{value:"Brug af DNS-stemplet",id:"brug-af-dns-stemplet",level:2},{value:"Eksempel p\xe5 oprettelse af et DNS-stempel",id:"eksempel-p\xe5-oprettelse-af-et-dns-stempel",level:2}],k={toc:m};function g(e){var t=e.components,r=(0,a.Z)(e,i);return(0,l.kt)("wrapper",(0,n.Z)({},k,r,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"s\xe5dan-opretter-eget-dns-stempel-til-sikker-dns"},"S\xe5dan opretter eget DNS-stempel til Sikker DNS"),(0,l.kt)("p",null,"Denne guide viser dig, hvordan et eget DNS-stempel til sikker DNS oprettes. Sikker DNS er en tjeneste, der forbedrer internetsikkerhed og fortrolighed ved at kryptere DNS-foresp\xf8rgslerne. Dette forhindrer foresp\xf8rgslerne i at blive opsnappet eller manipuleret af ondsindede akt\xf8rer."),(0,l.kt)("p",null,"Sikker DNS bruger normalt ",(0,l.kt)("inlineCode",{parentName:"p"},"tls://"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"https://")," eller ",(0,l.kt)("inlineCode",{parentName:"p"},"quic://")," URL'er. Dette er tilstr\xe6kkeligt for de fleste brugere og er den anbefalede m\xe5de."),(0,l.kt)("p",null,"Har man brug for yderligere sikkerhed, som f.eks. forudopl\xf8ste server-IP'er og certifikat pinning med hash, kan man generere sit eget DNS-stempel."),(0,l.kt)("h2",{id:"introduktion-til-dns-stempler"},"Introduktion til DNS-stempler"),(0,l.kt)("p",null,"DNS-stempler er korte strenge indeholdende alle de n\xf8dvendige oplysninger for at oprette forbindelse til en sikker DNS-server. De forenkler processen med at ops\xe6tte sikker DNS, da brugeren ikke beh\xf8ver at angive alle disse data manuelt."),(0,l.kt)("p",null,"DNS-stempler muligg\xf8r tilpasning af Sikker DNS-indstillinger ud over de s\xe6dvanlige URL'er. De giver is\xe6r mulighed for at angive faste (hard-koded) serveradresser, bruge certifikat-hashing mv. Disse funktioner g\xf8r DNS-stempler til en mere robust og alsidig mulighed til ops\xe6tning af Sikker DNS-indstillinger."),(0,l.kt)("h2",{id:"valg-af-protokol"},"Valg af protokol"),(0,l.kt)("p",null,"Typer af Sikker DNS inkluderer ",(0,l.kt)("inlineCode",{parentName:"p"},"DNS-over-HTTPS (DoH)"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"DNS-over-QUIC (DoQ)"),"og ",(0,l.kt)("inlineCode",{parentName:"p"},"DNS-over-TLS (DoT)")," og en r\xe6kke andre. Valget af en af disse protokoller afh\xe6nger af brugskonteksten."),(0,l.kt)("h2",{id:"oprettelse-af-et-dns-stempel"},"Oprettelse af et DNS-stempel"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\xc5bn ",(0,l.kt)("a",{parentName:"p",href:"https://dnscrypt.info/stamps/"},"DNSCrypt Stamp Calculator"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Afh\xe6ngigt af den valgte protokol, v\xe6lg den korresponderende protokol fra rullemenuen (DoH, DoT eller DoQ).")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Udfyld de n\xf8dvendige felter:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"IP-adresse"),": Angiv DNS-serverens IP-adresse. Bruges DoT- eller DoQ-protokollen, s\xe5 s\xf8rg for, at den relevante port ligeledes er angivet.")),(0,l.kt)("div",{parentName:"li",className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Dette felt er valgfrit og b\xf8r bruges med forsigtighed: Brug af denne indstilling kan afbryde internet p\xe5 IPv6-netv\xe6rk."))))),(0,l.kt)("p",null,":::"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"- **Hashes**: Angiv SHA256-sammendraget for et af de TBS-certifikater, der findes i valideringsk\xe6den. Leverer den anvendte DNS-server en f\xe6rdig hash, s\xe5 find og kopi\xe9r denne. Ellers kan den hentes ved at f\xf8lge vejledningen i afsnittet [*Hentning af Certifikat Hash'en*](#obtaining-the-certificate-hash).\n\n:::note\n\nDette felt er valgfrit\n")),(0,l.kt)("p",null,":::"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'- **V\xe6rtsnavn**: Angiv DNS-serverens v\xe6rtsnavn. Dette felt bruges til bekr\xe6ftelse af servernavnet i DoT- og DoQ-protokoller.\n\n- For **DoH**:\n  - **Sti**: Angiv stien til udf\xf8relse af DoH-foresp\xf8rgsler. Dette er normalt `"/dns-query"`, men din udbyder kan bruge en anden sti.\n\n-     For **DoT og DoQ**:\n  - Der er normalt ingen bestemte felter til disse protokoller i dette v\xe6rkt\xf8j. S\xf8rg blot for, at den i opl\xf8seradressen angivne port ogs\xe5 er den korrekte port.\n\n- I afsnittet **Egenskaber** kan de relevante egenskaber markeres, s\xe5fremt de er kendte og relevante for DNS-serveren.\n')),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"Dit stempel genereres automatisk og vil fremg\xe5 i feltet ",(0,l.kt)("strong",{parentName:"li"},"Stamp"),".")),(0,l.kt)("h3",{id:"indhentning-af-certifikat-hash"},"Indhentning af certifikat-hash"),(0,l.kt)("p",null,"For at udfylde ",(0,l.kt)("strong",{parentName:"p"},"hash'ene for serverens certifikat"),"-felt kan flg. kommando bruges, hvor ",(0,l.kt)("inlineCode",{parentName:"p"},"<IP_ADDRESS>"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"<PORT>"),"og ",(0,l.kt)("inlineCode",{parentName:"p"},"<SERVER_NAME>")," erstattes med de korresponderende v\xe6rdier for din DNS-server:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"echo | openssl s_client -connect <IP_ADDRESS>:<PORT> -servername <SERVER_NAME> 2>/dev/null | openssl x509 -pubkey -noout | openssl pkey -pubin -outform der | openssl dgst -sha256\n")),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Resultatet af hash-kommandoen kan \xe6ndre sig over tid i takt med, at serverens certifikat opdateres. Holder DNS-stemplet derfor pludselig op holder op med at virke, skal certifikat-hash'en muligvis genberegnes og et nyt stempel genereres. Regelm\xe6ssig opdatering af DNS-stemplet vil medvirke til at sikre den fortsatte sikre drift af Sikker DNS-tjenesten."))),(0,l.kt)("h2",{id:"brug-af-dns-stemplet"},"Brug af DNS-stemplet"),(0,l.kt)("p",null,"Du har nu dit eget DNS-stempel, som kan bruges til at ops\xe6tte Sikker DNS. Dette stempel kan angives i AdGuard og AdGuard VPN for forbedret internetfortrolighed og sikkerhed."),(0,l.kt)("h2",{id:"eksempel-p\xe5-oprettelse-af-et-dns-stempel"},"Eksempel p\xe5 oprettelse af et DNS-stempel"),(0,l.kt)("p",null,"Lad os se p\xe5 et eksempel p\xe5 oprettelsen af et stempel til AdGuard DNS vha. DoT:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\xc5bn ",(0,l.kt)("a",{parentName:"p",href:"https://dnscrypt.info/stamps/"},"DNSCrypt Stamp Calculator"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"V\xe6lg protokollen DNS-over-TLS (DoT).")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Udfyld flg. felter:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"IP-adresse"),": Angiv DNS-serverens IP-adresse og port. I dette eksempel ",(0,l.kt)("inlineCode",{parentName:"p"},"94.140.14.14:853"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"V\xe6rtsnavn"),": Angiv DNS-serverens v\xe6rtsnavn. I dette eksempel ",(0,l.kt)("inlineCode",{parentName:"p"},"dns.adguard-dns.com"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Hashes"),": Eksekv\xe9r kommandoen"))),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"echo | openssl s_client -connect 94.140.14.14:853 -servername dns.adguard-dns.com 2>/dev/null | openssl x509 -pubkey -noout | openssl pkey -pubin -outform der | openssl dgst -sha256\n")),(0,l.kt)("p",{parentName:"li"},"Resultatet er ",(0,l.kt)("inlineCode",{parentName:"p"},"a54670fda8ed13bded0a9515f35d0a2bed937e100aa6282703cb3b87282055ec")," Inds\xe6t denne SHA256-hash af serverens certificat i feltet.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Lad afsnittet Egenskaber st\xe5 tomt.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Dit stempel genereres automatisk og vil fremg\xe5 i feltet ",(0,l.kt)("strong",{parentName:"p"},"Stamp"),"."))))}g.isMDXComponent=!0}}]);