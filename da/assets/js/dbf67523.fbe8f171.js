"use strict";(self.webpackChunkadguard_dns_knowledge_base=self.webpackChunkadguard_dns_knowledge_base||[]).push([[256],{4137:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return u}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),d=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=d(e.components);return a.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=d(n),u=r,h=m["".concat(i,".").concat(u)]||m[u]||p[u]||s;return n?a.createElement(h,l(l({ref:t},c),{},{components:n})):a.createElement(h,l({ref:t},c))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,l=new Array(s);l[0]=m;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var d=2;d<s;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4049:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return i},default:function(){return u},frontMatter:function(){return o},metadata:function(){return d},toc:function(){return p}});var a=n(3117),r=n(102),s=(n(7294),n(4137)),l=["components"],o={title:"S\xe5dan t\xf8mmes DNS-cache",sidebar_position:1},i=void 0,d={unversionedId:"public-dns/solving-problems/how-to-flush-dns-cache",id:"public-dns/solving-problems/how-to-flush-dns-cache",title:"S\xe5dan t\xf8mmes DNS-cache",description:"Her forklares, hvordan DNS-cachen kan t\xf8mmes for at l\xf8se offentlige DNS-problemer. AdGuard Ad Blocker kan bruges til ops\xe6tning af DNS-servere (ogs\xe5 krypterede)",source:"@site/i18n/da/docusaurus-plugin-content-docs/current/public-dns/solving-problems/how-to-flush-dns-cache.md",sourceDirName:"public-dns/solving-problems",slug:"/public-dns/solving-problems/how-to-flush-dns-cache",permalink:"/KnowledgeBaseDNS/da/public-dns/solving-problems/how-to-flush-dns-cache",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBaseDNS/edit/master/docs/public-dns/solving-problems/how-to-flush-dns-cache.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"S\xe5dan t\xf8mmes DNS-cache",sidebar_position:1},sidebar:"sidebar",previous:{title:"Oversigt",permalink:"/KnowledgeBaseDNS/da/public-dns/overview"},next:{title:"Oversigt",permalink:"/KnowledgeBaseDNS/da/private-dns/overview"}},c={},p=[{value:"Hvad er DNS-cache?",id:"hvad-er-dns-cache",level:2},{value:"Hvorn\xe5r man muligvis skal rydde cachen",id:"hvorn\xe5r-man-muligvis-skal-rydde-cachen",level:2},{value:"S\xe5dan renses DNS-cache p\xe5 forskellige OS&#39;er",id:"s\xe5dan-renses-dns-cache-p\xe5-forskellige-oser",level:2},{value:"iOS",id:"ios",level:3},{value:"Android",id:"android",level:3},{value:"macOS",id:"macos",level:3},{value:"Windows",id:"windows",level:3},{value:"Linux",id:"linux",level:3},{value:"systemd-resolved",id:"systemd-resolved",level:4},{value:"DNSMasq",id:"dnsmasq",level:4},{value:"NSCD",id:"nscd",level:4},{value:"BIND",id:"bind",level:4},{value:"S\xe5dan t\xf8mmes DNS-cache i Chrome",id:"s\xe5dan-t\xf8mmes-dns-cache-i-chrome",level:2}],m={toc:p};function u(e){var t=e.components,n=(0,r.Z)(e,l);return(0,s.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"Her forklares, hvordan DNS-cachen kan t\xf8mmes for at l\xf8se offentlige DNS-problemer. AdGuard Ad Blocker kan bruges til ops\xe6tning af DNS-servere (ogs\xe5 krypterede)"),(0,s.kt)("p",{parentName:"div"},"Hurtig-link: ",(0,s.kt)("a",{parentName:"p",href:"https://adguard.com/download.html?auto=true&utm_source=kb_dns"},"Download AdGuard Ad Blocker")))),(0,s.kt)("h2",{id:"hvad-er-dns-cache"},"Hvad er DNS-cache?"),(0,s.kt)("p",null,"DNS-cache gemmer IP-adresserne p\xe5 bes\xf8gte websteder p\xe5 den lokale enhed, s\xe5 de indl\xe6ses hurtigere n\xe6ste gang. I stedet for at udf\xf8re et langt DNS-opslag, besvarer systemet foresp\xf8rgslerne med DNS-poster fra den midlertidige DNS-cache."),(0,s.kt)("p",null,"DNS-cachen indeholder s\xe5kaldte ",(0,s.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Domain_Name_System#Resource_records"},"ressourceposter (RR'er)"),", som er:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Ressourcedata (eller rdata)"),";"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Posttype"),";"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Postnavn"),";"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"TTL (levetid)"),";"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Klasse"),";"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Ressourcedatal\xe6ngde"),".")),(0,s.kt)("h2",{id:"hvorn\xe5r-man-muligvis-skal-rydde-cachen"},"Hvorn\xe5r man muligvis skal rydde cachen"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"DNS-udbyderen er skiftet til AdGuard DNS.")," Ved skift af DNS kan det tage lidt tid at se resultatet grundet cachen."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Der opleves j\xe6vnligt 404-fejl.")," Webstedet er f.eks. overf\xf8rt til en anden server, og dets IP-adresse er \xe6ndret. For at f\xe5 browseren til at \xe5bne webstedet fra den nye IP-adresse, skal den cachelagrede IP fra DNS-cachen fjernes."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Fortroligheden \xf8nskes forbedret.")),(0,s.kt)("h2",{id:"s\xe5dan-renses-dns-cache-p\xe5-forskellige-oser"},"S\xe5dan renses DNS-cache p\xe5 forskellige OS'er"),(0,s.kt)("h3",{id:"ios"},"iOS"),(0,s.kt)("p",null,"Der er forskellige m\xe5der at rydde DNS-cachen p\xe5 iPad eller iPhone."),(0,s.kt)("p",null,"Den enkleste m\xe5de er at aktivere Flytilstand (f.eks. via Kontrolcenter eller appen Indstillinger) og deaktivere den igen. Dette t\xf8mmer DNS-cachen."),(0,s.kt)("p",null,"En anden mulighed er at nulstille enhedens netv\xe6rksindstillingerne via Indstillinger-appen. \xc5bn ",(0,s.kt)("em",{parentName:"p"},"Generelt"),", rul ned til ",(0,s.kt)("em",{parentName:"p"},"Nulstil")," og tryk p\xe5 ",(0,s.kt)("em",{parentName:"p"},"Nulstil netv\xe6rksindstillinger"),"."),(0,s.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"By doing that, you will lose connections to Wi-Fi routers and other specific network settings, including DNS servers customizations. You will need to reset them manually."))),(0,s.kt)("h3",{id:"android"},"Android"),(0,s.kt)("p",null,"The easiest way to clear your DNS cache on your Android device is to turn the Airplane mode on and off. You can enable/disable the Airplane Mode in the Quick Settings pane."),(0,s.kt)("p",null,"A hard reboot can also help flush the DNS cache for your device. In order to do that, press and hold the power button for at least 20 seconds. It will (usually) force your device to reboot manually and the DNS cache will be cleared."),(0,s.kt)("p",null,"En anden mulighed er at nulstille enhedens netv\xe6rksindstillingerne via Indstillinger-appen. Open ",(0,s.kt)("em",{parentName:"p"},"Settings \u2192 System \u2192 Advanced \u2192 Reset options \u2192 Reset network settings")," and tap ",(0,s.kt)("em",{parentName:"p"},"Reset Settings")," to confirm."),(0,s.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"By doing that, you will lose connections to Wi-Fi routers and other specific network settings, including DNS servers customizations. You will need to reset them manually."))),(0,s.kt)("h3",{id:"macos"},"macOS"),(0,s.kt)("p",null,"To clear the DNS cache on macOS, open the Terminal (you can find it by using the Spotlight search \u2014 to do that, press Command+Space and type ",(0,s.kt)("em",{parentName:"p"},"Terminal"),") and enter the following command:"),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"sudo killall -HUP mDNSResponder")),(0,s.kt)("p",null,"On macOS Big Sur 11.2.0 and macOS Monterey 12.0.0, you may also use this command:"),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"sudo dscacheutil -flushcache")),(0,s.kt)("p",null,"After that, enter your administrator password to complete the process."),(0,s.kt)("h3",{id:"windows"},"Windows"),(0,s.kt)("p",null,"To flush DNS cache on your Windows device, do the following:"),(0,s.kt)("p",null,"Open the Command Prompt as an administrator. You can find it in the Start Menu by typing ",(0,s.kt)("em",{parentName:"p"},"command prompt")," or ",(0,s.kt)("em",{parentName:"p"},"cmd"),". Then type ",(0,s.kt)("inlineCode",{parentName:"p"},"ipconfig/flushdns")," and press Enter."),(0,s.kt)("p",null,"You will see the line ",(0,s.kt)("em",{parentName:"p"},"Successfully flushed the DNS Resolver Cache"),". Done!"),(0,s.kt)("h3",{id:"linux"},"Linux"),(0,s.kt)("p",null,"Linux does not have OS-level DNS caching unless a caching service such as systemd-resolved, DNSMasq, BIND or Nscd is installed and running. The process of clearing the DNS cache depends on the Linux distribution and the caching service used."),(0,s.kt)("p",null,"For each distribution you need to start a terminal window. Press Ctrl+Alt+T on your keyboard and use the corresponding command to clear the DNS cache for the service your Linux system is running."),(0,s.kt)("p",null,"To find out which DNS resolver you're using, command ",(0,s.kt)("inlineCode",{parentName:"p"},"sudo lsof -i :53 -S"),"."),(0,s.kt)("h4",{id:"systemd-resolved"},"systemd-resolved"),(0,s.kt)("p",null,"To clear the ",(0,s.kt)("strong",{parentName:"p"},"systemd-resolved")," DNS cache, type:"),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"sudo systemd-resolve --flush-caches")),(0,s.kt)("p",null,"On success, the command doesn\u2019t return any message."),(0,s.kt)("h4",{id:"dnsmasq"},"DNSMasq"),(0,s.kt)("p",null,"To clear the ",(0,s.kt)("strong",{parentName:"p"},"DNSMasq")," cache, you need to restart it:"),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"sudo service dnsmasq restart")),(0,s.kt)("h4",{id:"nscd"},"NSCD"),(0,s.kt)("p",null,"To clear the ",(0,s.kt)("strong",{parentName:"p"},"NSCD")," cache, you also need to restart the service:"),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"sudo service nscd restart")),(0,s.kt)("h4",{id:"bind"},"BIND"),(0,s.kt)("p",null,"To flush the ",(0,s.kt)("strong",{parentName:"p"},"BIND")," DNS cache, run the command:"),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"rndc flush")),(0,s.kt)("p",null,"Then you will need to reload BIND:"),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"rndc reload")),(0,s.kt)("p",null,"You will get the message that the server has been successfully reloaded."),(0,s.kt)("h2",{id:"s\xe5dan-t\xf8mmes-dns-cache-i-chrome"},"S\xe5dan t\xf8mmes DNS-cache i Chrome"),(0,s.kt)("p",null,"This may be useful if you do not want restart a browser every time during work with the private AdGuard DNS or AdGuard Home. Settings 1-2 only need to be changed once."),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Sl\xe5 ",(0,s.kt)("strong",{parentName:"p"},"sikker DNS")," fra i Chrome-indstillinger"),(0,s.kt)("pre",{parentName:"li"},(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"chrome://settings/security\n"))),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Sl\xe5 ",(0,s.kt)("strong",{parentName:"p"},"Async DNS-resolver")," fra"),(0,s.kt)("pre",{parentName:"li"},(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"chrome://flags/#enable-async-dns\n"))),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Tryk p\xe5 begge knapper her"),(0,s.kt)("pre",{parentName:"li"},(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"chrome://net-internals/#sockets\n"))),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Tryk p\xe5 ",(0,s.kt)("strong",{parentName:"p"},"Ryd v\xe6rtscache")),(0,s.kt)("pre",{parentName:"li"},(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"chrome://net-internals/#dns\n")))))}u.isMDXComponent=!0}}]);