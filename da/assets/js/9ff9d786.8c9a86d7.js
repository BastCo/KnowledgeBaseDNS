"use strict";(self.webpackChunkadguard_dns_knowledge_base=self.webpackChunkadguard_dns_knowledge_base||[]).push([[870],{4137:function(e,a,t){t.d(a,{Zo:function(){return s},kt:function(){return u}});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function d(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=n.createContext({}),p=function(e){var a=n.useContext(o),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},s=function(e){var a=p(e.components);return n.createElement(o.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},k=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),k=p(t),u=r,g=k["".concat(o,".").concat(u)]||k[u]||m[u]||l;return t?n.createElement(g,i(i({ref:a},s),{},{components:t})):n.createElement(g,i({ref:a},s))}));function u(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=k;var d={};for(var o in a)hasOwnProperty.call(a,o)&&(d[o]=a[o]);d.originalType=e,d.mdxType="string"==typeof e?e:r,i[1]=d;for(var p=2;p<l;p++)i[p]=t[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}k.displayName="MDXCreateElement"},4618:function(e,a,t){t.r(a),t.d(a,{assets:function(){return s},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return d},metadata:function(){return p},toc:function(){return m}});var n=t(3117),r=t(102),l=(t(7294),t(4137)),i=["components"],d={title:"FAQ",sidebar_position:3},o=void 0,p={unversionedId:"adguard-home/faq",id:"adguard-home/faq",title:"FAQ",description:"Hvorfor blokerer AdGuard Home ikke annoncer eller trusler?",source:"@site/i18n/da/docusaurus-plugin-content-docs/current/adguard-home/faq.md",sourceDirName:"adguard-home",slug:"/adguard-home/faq",permalink:"/KnowledgeBaseDNS/da/adguard-home/faq",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBaseDNS/edit/master/docs/adguard-home/faq.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"FAQ",sidebar_position:3},sidebar:"sidebar",previous:{title:"Komme i gang",permalink:"/KnowledgeBaseDNS/da/adguard-home/getting-started"},next:{title:"Sikker ops\xe6tning af AdGuard Home",permalink:"/KnowledgeBaseDNS/da/adguard-home/running-securely"}},s={},m=[{value:"Hvorfor blokerer AdGuard Home ikke annoncer eller trusler?",id:"doesntblock",level:2},{value:"Hvor kan man se logfilerne?",id:"logs",level:2},{value:"Hvordan ops\xe6ttes AdGuard Home til at skrive logfiler p\xe5 udf\xf8rligt (verbose) niveau?",id:"verboselog",level:2},{value:"Hvordan f\xe5r man vist en tilpasset blokeringsside?",id:"customblock",level:2},{value:"Foruds\xe6tninger",id:"foruds\xe6tninger",level:3},{value:"Tilpasset blokeringsside for For\xe6ldrekontrol og Safe Browsing-filtre",id:"tilpasset-blokeringsside-for-for\xe6ldrekontrol-og-safe-browsing-filtre",level:3},{value:"Tilpasset blokeringsside til andre filtre",id:"tilpasset-blokeringsside-til-andre-filtre",level:3},{value:"Hvordan \xe6ndres adressen p\xe5 kontrolpanelgr\xe6nsefladen?",id:"webaddr",level:2},{value:"Hvordan ops\xe6ttes AdGuard Home som standard DNS-server?",id:"defaultdns",level:2},{value:"Findes nogen kendte begr\xe6nsninger?",id:"limitations",level:2},{value:"Nogen mulighed for at h\xe5ndtere dette i fremtiden?",id:"nogen-mulighed-for-at-h\xe5ndtere-dette-i-fremtiden",level:3},{value:"Hvorfor ses en &quot;bind: adresse allerede i brug&quot;-fejl under fors\xf8g p\xe5 at installere p\xe5 Ubuntu?",id:"bindinuse",level:2},{value:"Hvordan ops\xe6ttes en omvendt proxyserver til AdGuard Home?",id:"reverseproxy",level:2},{value:"nginx",id:"nginx",level:3},{value:"caddy",id:"caddy",level:3},{value:"Deaktivering af DoH-kryptering p\xe5 AdGuard Home",id:"deaktivering-af-doh-kryptering-p\xe5-adguard-home",level:3},{value:"Reelle IP-adresser p\xe5 klienter",id:"reelle-ip-adresser-p\xe5-klienter",level:3},{value:"Hvordan rettes &quot;tilladelse n\xe6gtet&quot;-fejl p\xe5 Fedora?",id:"fedora",level:2},{value:"Hvordan rettes &quot;inkompatibelt filsystem&quot;-fejl?",id:"incompatfs",level:2},{value:"Hvordan opdateres AdGuard Home manuelt?",id:"manual-update",level:2},{value:"Unix (Linux, macOS, BSD)",id:"manual-update-unix",level:3},{value:"Windows (vha. PowerShell)",id:"manual-update-win",level:3},{value:"Hvordan afinstalleres AdGuard Home?",id:"uninstall",level:2},{value:"Almindelig installation",id:"almindelig-installation",level:3},{value:"Docker",id:"docker",level:3},{value:"Snap Store",id:"snap-store",level:3}],k={toc:m};function u(e){var a=e.components,t=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,n.Z)({},k,t,{components:a,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"doesntblock"},"Hvorfor blokerer AdGuard Home ikke annoncer eller trusler?"),(0,l.kt)("p",null,"\xd8nskes man, at AdGuard Home blokerer ",(0,l.kt)("inlineCode",{parentName:"p"},"somebadsite.com"),", men af en eller anden grund ikke g\xf8r det. Lad os pr\xf8ve at l\xf8se dette problem."),(0,l.kt)("p",null,"Man har h\xf8jst sandsynligt ikke opsat sin enhed til at bruge AdGuard Home som standard DNS-server. S\xe5dan tjekkes, om AdGuard Home bruges som standard DNS-server:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\xc5bn i Windows en kommandoprompt (",(0,l.kt)("em",{parentName:"p"},"Start")," \u2192 ",(0,l.kt)("em",{parentName:"p"},"K\xf8r")," \u2192 ",(0,l.kt)("inlineCode",{parentName:"p"},"cmd.exe"),"). P\xe5 andre systemer, \xe5bn Terminal-applikationen.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Eksekv\xe9r ",(0,l.kt)("inlineCode",{parentName:"p"},"nslookup example.org"),". Det vil give et sk\xe6rmoutput i stil med dette:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-none"},"Server: 192.168.0.1\nAddress: 192.168.0.1#53\n\nNon-authoritative answer:\nName: example.org\nAddress: <IPv4>\nName: example.org\nAddress: <IPv6>\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Tjek, om 'Server' IP-adressen er den, hvor AdGuard Home k\xf8rer. Hvis ikke, ops\xe6t da enheden i overensstemmelse hermed. Se ",(0,l.kt)("a",{parentName:"p",href:"#defaultdns"},"nedenfor"),", hvordan dette g\xf8res.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"S\xf8rg for, at foresp\xf8rgslen til ",(0,l.kt)("inlineCode",{parentName:"p"},"example.org")," vises i AdGuard Home-UI'et p\xe5 siden ",(0,l.kt)("em",{parentName:"p"},"Foresp\xf8rgselslog"),". Hvis ikke, ops\xe6t da AdGuard Home til at lytte p\xe5 den angivne netv\xe6rksgr\xe6nseflade. Den nemmeste m\xe5de at g\xf8re dette p\xe5 er ved at geninstallere AdGuard Home med standardindstillinger."))),(0,l.kt)("p",null,"Er man sikker p\xe5, at enheden bruger AdGuard Home som standard DNS-server, men problemet forts\xe6tter, kan det skyldes en forkert ops\xe6tning af AdGuard Home. Tjek venligst og s\xf8rg for at:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Indstillingen ",(0,l.kt)("em",{parentName:"p"},"Blok\xe9r dom\xe6ner ved hj\xe6lp af filtre og hosts-filer")," er aktiveret p\xe5 siden ",(0,l.kt)("em",{parentName:"p"},"Indstillinger")," \u2192 ",(0,l.kt)("em",{parentName:"p"},"Generelle indstillinger"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"De relevante sikkerhedsmekanismer p\xe5 samme side er aktiveret, s\xe5som For\xe6ldrekontrol.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"De relevante filtre er aktiveret p\xe5 siden ",(0,l.kt)("em",{parentName:"p"},"Filtre")," \u2192 ",(0,l.kt)("em",{parentName:"p"},"DNS-sortlister"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Der ikke er nogen undtagelsesregellister, som kan tillade foresp\xf8rgsler, aktiveret p\xe5 siden ",(0,l.kt)("em",{parentName:"p"},"Filtre")," \u2192 ",(0,l.kt)("em",{parentName:"p"},"DNS-hvidlister"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Der ikke er nogen DNS-rewrites, som kan forstyrre p\xe5 siden ",(0,l.kt)("em",{parentName:"p"},"Filtre")," \u2192 ",(0,l.kt)("em",{parentName:"p"},"DNS-rewrites"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Der ikke er nogen tilpassede filtreringsregler, som kan forstyrre p\xe5 siden ",(0,l.kt)("em",{parentName:"p"},"Filtre")," \u2192 ",(0,l.kt)("em",{parentName:"p"},"Tilpassede filtreringsregler"),"."))),(0,l.kt)("h2",{id:"logs"},"Hvor kan man se logfilerne?"),(0,l.kt)("p",null,"Standardplaceringen af alm. tekstlogfiler (ikke at forveksle med foresp\xf8rgselslogfiler) afh\xe6nger af operativsystemet og installationstilstanden:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"OpenWrt Linux:")," Eksekv\xe9r kommandoen ",(0,l.kt)("inlineCode",{parentName:"p"},"logread -e AdGuardHome"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Linux"),"-systemer med ",(0,l.kt)("strong",{parentName:"p"},"systemd")," og andre ",(0,l.kt)("strong",{parentName:"p"},"Unix"),"-systemer med ",(0,l.kt)("strong",{parentName:"p"},"SysV-lignende init:")," ",(0,l.kt)("inlineCode",{parentName:"p"},"/var/log/AdGuardHome.err"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"macOS:")," ",(0,l.kt)("inlineCode",{parentName:"p"},"/var/log/AdGuardHome.stderr.log"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Linux"),"-systemer med ",(0,l.kt)("strong",{parentName:"p"},"Snapcraft")," bruger kommandoen ",(0,l.kt)("inlineCode",{parentName:"p"},"snap logs adguard-home"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"FreeBSD:")," ",(0,l.kt)("inlineCode",{parentName:"p"},"/var/log/daemon.log"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"OpenBSD:")," ",(0,l.kt)("inlineCode",{parentName:"p"},"/var/log/daemon"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Windows:")," ",(0,l.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/windows/win32/wes/windows-event-log"},"Windows H\xe6ndelseslog")," anvendes."))),(0,l.kt)("h2",{id:"verboselog"},"Hvordan ops\xe6ttes AdGuard Home til at skrive logfiler p\xe5 udf\xf8rligt (verbose) niveau?"),(0,l.kt)("p",null,"For at fejlfinde p\xe5 et kompliceret problem kr\xe6ves nogle gange logning p\xe5 udf\xf8rligt (verbose) niveau. S\xe5dan aktiveres dette:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Stop AdGuard Home:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"./AdGuardHome -s stop\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Ops\xe6t AdGuard Home til at skrive logfiler p\xe5 udf\xf8rligt (verbose) niveau:"),(0,l.kt)("ol",{parentName:"li"},(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\xc5bn ",(0,l.kt)("inlineCode",{parentName:"p"},"AdGuardHome.yaml")," i editoren.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Indstil ",(0,l.kt)("inlineCode",{parentName:"p"},"log.file")," til den \xf8nskede sti til logfilen, f.eks. ",(0,l.kt)("inlineCode",{parentName:"p"},"/tmp/aghlog.txt"),". Bem\xe6rk, at mappen skal eksistere.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Indstil 'log.verbose' til 'true'.")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Genstart AdGuard Home og genskab problemet:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"./AdGuardHome -s start\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"N\xe5r fejlfindingen er f\xe6rdig, s\xe6t ",(0,l.kt)("inlineCode",{parentName:"p"},"log.verbose")," tilbage til ",(0,l.kt)("inlineCode",{parentName:"p"},"false"),"."))),(0,l.kt)("h2",{id:"customblock"},"Hvordan f\xe5r man vist en tilpasset blokeringsside?"),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"F\xf8r noget af dette g\xf8res, v\xe6r da opm\xe6rksom p\xe5, at moderne webbrowsere er opsat til brug af HTTPS, s\xe5 de validerer \xe6gtheden af webservercertifikatet. Dette betyder, at brug af enhver af disse vil resultere i advarselssk\xe6rme."),(0,l.kt)("p",{parentName:"div"},"Der er en r\xe6kke foresl\xe5ede udvidelser, som, hvis de er rimeligt velunderst\xf8ttede af klienter, ville give en bedre brugeroplevelse, herunder ",(0,l.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc8914"},"RFC 8914 Extended DNS Error codes")," og ",(0,l.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/draft-reddy-dnsop-error-page-08"},"DNS Access Denied Error Page RFC draft"),". Vi implementerer dem, n\xe5r webbrowsere reelt begynder at underst\xf8tte dem."))),(0,l.kt)("h3",{id:"foruds\xe6tninger"},"Foruds\xe6tninger"),(0,l.kt)("p",null,"For at bruge nogen af disse metoder til at vise en tilpasset blokeringsside, skal der bruges en HTTP-server, der k\xf8rer p\xe5 en IP-adresse og leverer den p\xe5g\xe6ldende side p\xe5 alle rutninger. Noget i stil med ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/kvic-z/pixelserv-tls"},(0,l.kt)("inlineCode",{parentName:"a"},"pixelserv-tls")),"."),(0,l.kt)("h3",{id:"tilpasset-blokeringsside-for-for\xe6ldrekontrol-og-safe-browsing-filtre"},"Tilpasset blokeringsside for For\xe6ldrekontrol og Safe Browsing-filtre"),(0,l.kt)("p",null,"Disse parametre kan pt. ikke indstilles fra UI'en, hvorfor ops\xe6tningsfilen skal redigeres manuelt:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Stop AdGuard Home:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"./AdGuardHome -s stop\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\xc5bn ",(0,l.kt)("inlineCode",{parentName:"p"},"AdGuardHome.yaml")," i editoren.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},'S\xe6t indstillingerne "dns.parental_block_host" eller "dns.safebrowsing_block_host" til serverens IP-adresse (i dette eksempel "192.168.123.45"):'),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"# \u2026\ndns:\n  # \u2026\n\n  # BEM\xc6RK: \xc6ndr til den faktiske IP-adresse p\xe5 serveren.\n  parental_block_host: 192.168.123.45\n  safebrowsing_block_host: 192.168.123.45\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Genstart AdGuard Home:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"./AdGuardHome -s start\n")))),(0,l.kt)("h3",{id:"tilpasset-blokeringsside-til-andre-filtre"},"Tilpasset blokeringsside til andre filtre"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\xc5bn web-UI'en.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"G\xe5 til ",(0,l.kt)("em",{parentName:"p"},"Indstillinger")," \u2192 ",(0,l.kt)("em",{parentName:"p"},"DNS-indstillinger."))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"V\xe6lg i afsnittet ",(0,l.kt)("em",{parentName:"p"},"DNS-serverkonfiguration")," drejeknappen ",(0,l.kt)("em",{parentName:"p"},"Tilpasset IP")," i v\xe6lgeren ",(0,l.kt)("em",{parentName:"p"},"Blokeringstilstand")," og angiv serverens IPv4- og IPv6-adresser.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Klik p\xe5 ",(0,l.kt)("em",{parentName:"p"},"Gem"),"."))),(0,l.kt)("h2",{id:"webaddr"},"Hvordan \xe6ndres adressen p\xe5 kontrolpanelgr\xe6nsefladen?"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Stop AdGuard Home:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"./AdGuardHome -s stop\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\xc5bn ",(0,l.kt)("inlineCode",{parentName:"p"},"AdGuardHome.yaml")," i editoren.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"S\xe6t ",(0,l.kt)("inlineCode",{parentName:"p"},"http.address"),"-indstillingen til en ny netv\xe6rksgr\xe6nseflade. F.eks.:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"0.0.0.0:0")," for at lytte p\xe5 alle netv\xe6rksgr\xe6nseflader;"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"0.0.0.0:0:8080")," for at lytte p\xe5 alle netv\xe6rksgr\xe6nseflader med port ",(0,l.kt)("inlineCode",{parentName:"li"},"8080"),";"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"127.0.0.1:0")," for kun at lytte p\xe5 den lokale loopback-gr\xe6nseflade."))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Genstart AdGuard Home:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"./AdGuardHome -s start\n")))),(0,l.kt)("h2",{id:"defaultdns"},"Hvordan ops\xe6ttes AdGuard Home som standard DNS-server?"),(0,l.kt)("p",null,"Se ",(0,l.kt)("a",{parentName:"p",href:"/KnowledgeBaseDNS/da/adguard-home/getting-started#configure-devices"},"afsnittet ",(0,l.kt)("em",{parentName:"a"},"Ops\xe6tning af enheder"))," p\xe5 siden ",(0,l.kt)("em",{parentName:"p"},"Kom godt i gang"),"."),(0,l.kt)("h2",{id:"limitations"},"Findes nogen kendte begr\xe6nsninger?"),(0,l.kt)("p",null,"Her er nogle eksempler p\xe5, hvad der ikke kan blokeres af en DNS-niveau blocker:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"YouTube-, Twitch-annoncer.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Facebook-, X- (tidligere Twitter) og Instagram-sponsorerede opslag."))),(0,l.kt)("p",null,"Grundl\xe6ggende kan enhver annonce, der deler et dom\xe6ne med indhold, ikke blokeres af en blocker p\xe5 DNS-niveau, medmindre man ogs\xe5 er villig til at blokere indholdet."),(0,l.kt)("h3",{id:"nogen-mulighed-for-at-h\xe5ndtere-dette-i-fremtiden"},"Nogen mulighed for at h\xe5ndtere dette i fremtiden?"),(0,l.kt)("p",null,"DNS vil aldrig v\xe6re tilstr\xe6kkelig til at g\xf8re dette. Den eneste mulighed er brug af en indholdsblokerende proxy, som vi g\xf8r det i ",(0,l.kt)("a",{parentName:"p",href:"https://adguard.com/"},"enkeltst\xe5ende AdGuard-applikationerne"),". Vi tilf\xf8jer underst\xf8ttelse af denne funktion til AdGuard Home i fremtiden. Selv da, vil der desv\xe6rre stadig v\xe6re tilf\xe6lde, hvor det er utilstr\xe6kkeligt eller vil kr\xe6ve en ret kompleks ops\xe6tning."),(0,l.kt)("h2",{id:"bindinuse"},'Hvorfor ses en "bind: adresse allerede i brug"-fejl under fors\xf8g p\xe5 at installere p\xe5 Ubuntu?'),(0,l.kt)("p",null,"Dette sker, fordi port 53 p\xe5 ",(0,l.kt)("inlineCode",{parentName:"p"},"localhost"),", der bruges til DNS, allerede er optaget af et andet program. Ubuntu kommer med en lokal DNS kaldet ",(0,l.kt)("inlineCode",{parentName:"p"},"systemd-resolved"),", der bruger adressen ",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.53:53"),", hvilket forhindrer AdGuard Home i at tilknytte ",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.1:53"),". Dette kan ses ved at eksekvere:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo lsof -i :53\n")),(0,l.kt)("p",null,"Outputtet b\xf8r ligne:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME\nsystemd-r 14542 systemd-resolve 13u IPv4 86178 0t0 UDP 127.0.0.53:domain\nsystemd-r 14542 systemd-resolve 14u IPv4 86179 0t0 TCP 127.0.0.53:domain\n")),(0,l.kt)("p",null,"For at l\xf8se dette skal enten ",(0,l.kt)("inlineCode",{parentName:"p"},"systemd-resolved"),"-deamonen deaktiveres eller en anden netv\xe6rksgr\xe6nseflade v\xe6lges og AdGuard Home tilknyttes en tilg\xe6ngelig IP-adresse p\xe5 den, s\xe5som routerens IP-adresse i netv\xe6rket. Er der behov for at lytte p\xe5 'localhost', findes der flere l\xf8sninger."),(0,l.kt)("p",null,"For det f\xf8rste kan AdGuard Home detektere s\xe5danne ops\xe6tninger og selv deaktivere 'systemd-resolved', hvis der trykkes p\xe5 knappen ",(0,l.kt)("em",{parentName:"p"},"Ret")," placeret ved siden af meddelelsen 'adresse allerede i brug' p\xe5 installationssk\xe6rmen."),(0,l.kt)("p",null,"For det andet, hvis dette ikke virker, f\xf8lg da vejledningen nedenfor. Bem\xe6rk, at s\xe5fremt AdGuard Home bruges med docker eller snap, skal dette g\xf8res manuelt."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Opret om n\xf8dvendigt mappen ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/systemd/resolved.conf.d"),":"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mkdir -p /etc/systemd/resolved.conf.d\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Deaktiv\xe9r ",(0,l.kt)("inlineCode",{parentName:"p"},"DNSStubListener")," og opdat\xe9r DNS-serveradressen. For at g\xf8re dette, opret en ny fil, ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/systemd/resolved.conf.d/adguardhome.conf"),", med flg. indhold:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-service"},"[Resolve]\nDNS=127.0.0.1\nDNSStubListener=no\n")))),(0,l.kt)("p",null,"Angivelse af ",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.1")," som DNS-serveradressen er ",(0,l.kt)("strong",{parentName:"p"},"n\xf8dvendig."),", da navneserveren ellers vil v\xe6re ",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.53"),", hvilket ikke vil fungerer uden ",(0,l.kt)("inlineCode",{parentName:"p"},"DNSStubListener"),"."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Aktiv\xe9r en anden ",(0,l.kt)("inlineCode",{parentName:"p"},"resolv.conf"),"-fil:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mv /etc/resolv.conf /etc/resolv.conf.backup\nsudo ln -s /run/systemd/resolve/resolv.conf /etc/resolv.conf\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Genstart ",(0,l.kt)("inlineCode",{parentName:"p"},"DNSStubListener"),":"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo systemctl reload-or-restart systemd-resolved\n")))),(0,l.kt)("p",null,"Derefter skulle ",(0,l.kt)("inlineCode",{parentName:"p"},"systemd-resolved")," ikke blive vist i outputtet af ",(0,l.kt)("inlineCode",{parentName:"p"},"lsof"),", og AdGuard Home skulle v\xe6re i stand til at tilknytte sig ",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.1:53"),"."),(0,l.kt)("h2",{id:"reverseproxy"},"Hvordan ops\xe6ttes en omvendt proxyserver til AdGuard Home?"),(0,l.kt)("p",null,"K\xf8rer man allerede en webserver og \xf8nsker at tilg\xe5 AdGuard Home kontrolpanel-UI'en fra en URL, s\xe5som ",(0,l.kt)("inlineCode",{parentName:"p"},"http://DIN_SERVER/aghome/"),", kan denne ops\xe6tning anvendes p\xe5 webserveren:"),(0,l.kt)("h3",{id:"nginx"},"nginx"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-nginx"},"location /aghome/ {\n proxy_cookie_path / /aghome/;\n proxy_pass http://AGH_IP:AGH_PORT/;\n proxy_redirect / /aghome/;\n proxy_set_header Host $host;\n}\n")),(0,l.kt)("h3",{id:"caddy"},"caddy"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},":80/aghome/* {\n route {\n uri strip_prefix /aghome\n reverse_proxy AGH_IP:AGH_PORT\n }\n}\n")),(0,l.kt)("p",null,"\xd8nsker man derimod kun at betjene AdGuard Home med automatisk TLS, kan en ops\xe6tning svarende til eksemplet vist nedenfor anvendes:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-none"},"DOMAIN {\n encode gzip zstd\n tls YOUR_EMAIL@DOMAIN\n reverse_proxy AGH_IP:AGH_PORT\n}\n")),(0,l.kt)("h3",{id:"deaktivering-af-doh-kryptering-p\xe5-adguard-home"},"Deaktivering af DoH-kryptering p\xe5 AdGuard Home"),(0,l.kt)("p",null,"Anvendes TLS p\xe5 den reverse-proxyserveren, beh\xf8ver man ikke bruge TLS p\xe5 AdGuard Home. Indstil ",(0,l.kt)("inlineCode",{parentName:"p"},"allow_unencrypted_doh: true")," i ",(0,l.kt)("inlineCode",{parentName:"p"},"AdGuardHome.yaml")," for at tillade AdGuard Home at svare p\xe5 DoH-foresp\xf8rgsler uden TLS-kryptering."),(0,l.kt)("h3",{id:"reelle-ip-adresser-p\xe5-klienter"},"Reelle IP-adresser p\xe5 klienter"),(0,l.kt)("p",null,"Man kan indstille parameteren ",(0,l.kt)("inlineCode",{parentName:"p"},"trusted_proxies")," til sin HTTP-proxys IP-adresse(r) for at f\xe5 AdGuard Home til at tage headerne indeholdende den reelle klient IP-adresse i betragtning. Se siderne ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome/wiki/Configuration"},"ops\xe6tning")," og ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome/wiki/Encryption#reverse-proxy"},"kryptering")," for yderligere information."),(0,l.kt)("h2",{id:"fedora"},'Hvordan rettes "tilladelse n\xe6gtet"-fejl p\xe5 Fedora?'),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Flyt ",(0,l.kt)("inlineCode",{parentName:"p"},"AdGuardHome"),"-bin\xe6rfilen til ",(0,l.kt)("inlineCode",{parentName:"p"},"/usr/local/bin"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Som ",(0,l.kt)("inlineCode",{parentName:"p"},"root"),", eksekv\xe9r flg. kommando for at \xe6ndre sikkerhedskonteksten for filen:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"chcon -t bin_t /usr/local/bin/AdGuardHome\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Tilf\xf8j de n\xf8dvendige firewall-regler for at g\xf8re den tilg\xe6ngelig over netv\xe6rket. F.eks.:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"firewall-cmd --new-zone=adguard --permanent\nfirewall-cmd --zone=adguard --add-source=192.168.0.14/24 --permanent\nfirewall-cmd --zone=adguard --add-port=3000/tcp --permanent\nfirewall-cmd --zone=adguard --add-port=53/udp --permanent\nfirewall-cmd --zone=adguard --add-port=80/tcp --permanent\nfirewall-cmd --reload\n")))),(0,l.kt)("p",null,"Opleves stadig ",(0,l.kt)("inlineCode",{parentName:"p"},"code=exited status=203/EXEC"),", eller lignende fejl fra ",(0,l.kt)("inlineCode",{parentName:"p"},"systemctl"),", s\xe5 pr\xf8v at afinstallere AdGuard Home og installere den ",(0,l.kt)("strong",{parentName:"p"},"direkte")," i ",(0,l.kt)("inlineCode",{parentName:"p"},"/usr/local/bin")," ved brug af ",(0,l.kt)("inlineCode",{parentName:"p"},"-o "),"-muligheden i installationsscriptet:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"curl -s -S -L 'https://raw.githubusercontent.com/AdguardTeam/AdGuardHome/master/scripts/install.sh' | sh -s -- -o '/usr/local/bin' -v\n")),(0,l.kt)("p",null,"Se ","[","problematik 765] og ","[","problematik 3281]."),(0,l.kt)("h2",{id:"incompatfs"},'Hvordan rettes "inkompatibelt filsystem"-fejl?'),(0,l.kt)("p",null,"AdGuard Home-installationen eller arbejdsmappen b\xf8r flyttes til en anden placering. Se ",(0,l.kt)("a",{parentName:"p",href:"/KnowledgeBaseDNS/da/adguard-home/getting-started#limitations"},"afsnittet Begr\xe6nsninger")," p\xe5 siden ",(0,l.kt)("em",{parentName:"p"},"Kom godt i gang"),"."),(0,l.kt)("h2",{id:"manual-update"},"Hvordan opdateres AdGuard Home manuelt?"),(0,l.kt)("p",null,"Hvis knappen ikke vises, eller en automatisk opdatering mislykkedes, kan opdatering ske manuelt. I eksemplerne nedenfor bruges AdGuard Home-versioner til Linux og Windows til AMD64 CPU'er."),(0,l.kt)("h3",{id:"manual-update-unix"},"Unix (Linux, macOS, BSD)"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Download the new AdGuard Home package from the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome/releases/latest"},"releases page"),". For at udf\xf8re dette trin via kommandolinjen, skriv:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"curl -L -S -o '/tmp/AdGuardHome_linux_amd64.tar.gz' -s\\\n'https://static.adguard.com/adguardhome/release/AdGuardHome_linux_amd64.tar.gz'\n")),(0,l.kt)("p",{parentName:"li"},"Eller med 'wget':"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"wget -O '/tmp/AdGuardHome_linux_amd64.tar.gz'\\\n'https://static.adguard.com/adguardhome/release/AdGuardHome_linux_amd64.tar.gz'\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"G\xe5 til den mappe, hvori AdGuard Home er installeret. P\xe5 de fleste Unix-systemer er standardmappen ",(0,l.kt)("inlineCode",{parentName:"p"},"/opt/AdGuardHome"),", men p\xe5 macOS er det ",(0,l.kt)("inlineCode",{parentName:"p"},"/Applications/AdGuardHome"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Stop AdGuard Home:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo ./AdGuardHome -s stop\n")),(0,l.kt)("div",{parentName:"li",className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"OpenBSD")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"P\xe5 OpenBSD vil man sandsynligvis bruge ",(0,l.kt)("inlineCode",{parentName:"p"},"doas")," i stedet for ",(0,l.kt)("inlineCode",{parentName:"p"},"sudo"),".")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Sikkerhedskopi\xe9r data. Det vil sige ops\xe6tningsfilen og databiblioteket (",(0,l.kt)("inlineCode",{parentName:"p"},"AdGuardHome.yaml")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"data/")," som standard). For f.eks. at sikkerhedskopiere data til en ny mappe kaldet ",(0,l.kt)("inlineCode",{parentName:"p"},"~/my-agh-backup"),":"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"mkdir -p ~/my-agh-backup\ncp -r ./AdGuardHome.yaml ./data ~/my-agh-backup/\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Udpak AdGuard Home-arkivet til en midlertidig mappe. Downloades arkivet til ",(0,l.kt)("inlineCode",{parentName:"p"},"~/Downloads"),"-mappen, s\xe5 udpak det f.eks. til ",(0,l.kt)("inlineCode",{parentName:"p"},"/tmp/"),":"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"tar -C /tmp/ -f ~/Downloads/AdGuardHome_linux_amd64.tar.gz -x -v -z\n")),(0,l.kt)("p",{parentName:"li"},"P\xe5 macOS, skriv noget i stil med:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"unzip -d /tmp/ ~/Downloads/AdGuardHome_darwin_amd64.zip\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Erstat den gamle AdGuard Home eksekverbare fil med den nye. P\xe5 de fleste Unix-systemer vil kommandoen se s\xe5ledes ud:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo cp /tmp/AdGuardHome/AdGuardHome /opt/AdGuardHome/AdGuardHome\n")),(0,l.kt)("p",{parentName:"li"},"P\xe5 macOS, skriv noget i stil med:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo cp /tmp/AdGuardHome/AdGuardHome /Applications/AdGuardHome/AdGuardHome\n")),(0,l.kt)("p",{parentName:"li"},"Man \xf8nsker m\xe5ske ogs\xe5 kopiere dokumentationsdelene af pakken, s\xe5som \xe6ndringsloggen (",(0,l.kt)("inlineCode",{parentName:"p"},"CHANGELOG.md"),"), README-filen (",(0,l.kt)("inlineCode",{parentName:"p"},"README.md"),") og licensen (",(0,l.kt)("inlineCode",{parentName:"p"},"LICENSE.txt"),")."),(0,l.kt)("p",{parentName:"li"},"Den midlertidige mappe kan derefter fjernes.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Genstart AdGuard Home:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"sudo ./AdGuardHome -s start\n")))),(0,l.kt)("h3",{id:"manual-update-win"},"Windows (vha. PowerShell)"),(0,l.kt)("p",null,"I alle eksempler nedenfor skal PowerShell eksekveres som Administrator."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Download the new AdGuard Home package from the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome/releases/latest"},"releases page"),". For at udf\xf8re dette trin via kommandolinjen:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-ps1"},"$outFile = Join-Path -Path $Env:USERPROFILE -ChildPath 'Downloads\\AdGuardHome_windows_amd64.zip'\n$aghUri = 'https://static.adguard.com/adguardhome/release/AdGuardHome_windows_amd64.zip'\nInvoke-WebRequest -OutFile \"$outFile\" -Uri \"$aghUri\"\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"G\xe5 til mappen, hvori AdGuard Home er installeret. I eksemplerne nedenfor bruges ",(0,l.kt)("inlineCode",{parentName:"p"},"C:\\Program Files\\AdGuardHome"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Stop AdGuard Home:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-ps1"},".\\AdGuardHome.exe -s stop\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Sikkerhedskopi\xe9r data. Det vil sige ops\xe6tningsfilen og databiblioteket (",(0,l.kt)("inlineCode",{parentName:"p"},"AdGuardHome.yaml")," og ",(0,l.kt)("inlineCode",{parentName:"p"},"data/")," som standard). For f.eks. at sikkerhedskopiere data til en ny mappe kaldet ",(0,l.kt)("inlineCode",{parentName:"p"},"~/my-agh-backup"),":"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-ps1"},"$newDir = Join-Path -Path $Env:USERPROFILE -ChildPath 'my-agh-backup'\nNew-Item -Path $newDir -ItemType Directory\nCopy-Item -Path .\\AdGuardHome.yaml, .\\data -Destination $newDir -Recurse\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Udpak AdGuard Home-arkivet til en midlertidig mappe. Er arkivet downloadet til f.eks. ",(0,l.kt)("inlineCode",{parentName:"p"},"Downloads"),"-mappen og \xf8nskes udpakket til en midlertidig mappe:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-ps1"},"$outFile = Join-Path -Path $Env:USERPROFILE -ChildPath 'Downloads\\AdGuardHome_windows_amd64.zip'\nExpand-Archive -Path \"$outFile\" -DestinationPath $Env:TEMP\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Erstat den gamle AdGuard Home eksekverbare fil med den nye. F.eks.:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-ps1"},"$aghExe = Join-Path -Path $Env:TEMP -ChildPath 'AdGuardHome\\AdGuardHome.exe'\nCopy-Item -Path \"$aghExe\" -Destination .\\AdGuardHome.exe\n")),(0,l.kt)("p",{parentName:"li"},"Man \xf8nsker m\xe5ske ogs\xe5 kopiere dokumentationsdelene af pakken, s\xe5som \xe6ndringsloggen (",(0,l.kt)("inlineCode",{parentName:"p"},"CHANGELOG.md"),"), README-filen (",(0,l.kt)("inlineCode",{parentName:"p"},"README.md"),") og licensen (",(0,l.kt)("inlineCode",{parentName:"p"},"LICENSE.txt"),")."),(0,l.kt)("p",{parentName:"li"},"Den midlertidige mappe kan derefter fjernes.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Genstart AdGuard Home:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-ps1"},".\\AdGuardHome.exe -s start\n")))),(0,l.kt)("h2",{id:"uninstall"},"Hvordan afinstalleres AdGuard Home?"),(0,l.kt)("p",null,"Afh\xe6ngigt af, hvordan AdGuard Home blev installeret, er der forskellige m\xe5der at afinstallere den p\xe5."),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Inden afinstallation af AdGuard Home, skal man huske at \xe6ndre ops\xe6tningen af sine enheder, s\xe5 der peges p\xe5 en anden DNS-server."))),(0,l.kt)("h3",{id:"almindelig-installation"},"Almindelig installation"),(0,l.kt)("p",null,"I s\xe5 tilf\xe6lde skal man g\xf8re flg.:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Afregistr\xe9r AdGuard Home-tjenesten: ",(0,l.kt)("inlineCode",{parentName:"p"},"./AdGuardHome -s uninstall"),".")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Fjern AdGuard-hjemmemappen."))),(0,l.kt)("h3",{id:"docker"},"Docker"),(0,l.kt)("p",null,"Stop og fjern blot afbildningen."),(0,l.kt)("h3",{id:"snap-store"},"Snap Store"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"snap remove adguard-home\n")))}u.isMDXComponent=!0}}]);