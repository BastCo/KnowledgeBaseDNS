"use strict";(self.webpackChunkadguard_dns_knowledge_base=self.webpackChunkadguard_dns_knowledge_base||[]).push([[208],{5680:(e,a,n)=>{n.d(a,{xA:()=>i,yg:()=>y});var o=n(6540);function t(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){t(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,o,t=function(e,a){if(null==e)return{};var n,o,t={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],a.indexOf(n)>=0||(t[n]=e[n]);return t}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var d=o.createContext({}),m=function(e){var a=o.useContext(d),n=a;return e&&(n="function"==typeof e?e(a):p(p({},a),e)),n},i=function(e){var a=m(e.components);return o.createElement(d.Provider,{value:a},e.children)},s="mdxType",u={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},g=o.forwardRef((function(e,a){var n=e.components,t=e.mdxType,r=e.originalType,d=e.parentName,i=l(e,["components","mdxType","originalType","parentName"]),s=m(n),g=t,y=s["".concat(d,".").concat(g)]||s[g]||u[g]||r;return n?o.createElement(y,p(p({ref:a},i),{},{components:n})):o.createElement(y,p({ref:a},i))}));function y(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var r=n.length,p=new Array(r);p[0]=g;var l={};for(var d in a)hasOwnProperty.call(a,d)&&(l[d]=a[d]);l.originalType=e,l[s]="string"==typeof e?e:t,p[1]=l;for(var m=2;m<r;m++)p[m]=n[m];return o.createElement.apply(null,p)}return o.createElement.apply(null,n)}g.displayName="MDXCreateElement"},8849:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>p,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>m});var o=n(9668),t=(n(6540),n(5680));const r={title:"FAQ",sidebar_position:3},p=void 0,l={unversionedId:"adguard-home/faq",id:"adguard-home/faq",title:"FAQ",description:"Pro\u010d AdGuard Home neblokuje reklamy nebo hrozby?",source:"@site/i18n/cs/docusaurus-plugin-content-docs/current/adguard-home/faq.md",sourceDirName:"adguard-home",slug:"/adguard-home/faq",permalink:"/KnowledgeBaseDNS/cs/adguard-home/faq",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBaseDNS/edit/master/docs/adguard-home/faq.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"FAQ",sidebar_position:3},sidebar:"sidebar",previous:{title:"Za\u010d\xedn\xe1me",permalink:"/KnowledgeBaseDNS/cs/adguard-home/getting-started"},next:{title:"Bezpe\u010dn\xe9 nastaven\xed AdGuard Home",permalink:"/KnowledgeBaseDNS/cs/adguard-home/running-securely"}},d={},m=[{value:"Pro\u010d AdGuard Home neblokuje reklamy nebo hrozby?",id:"doesntblock",level:2},{value:"Co znamen\xe1 \u201cBlokov\xe1no CNAME nebo IP\u201c v z\xe1znamu dotaz\u016f?",id:"logs",level:2},{value:"Kde si mohu prohl\xe9dnout protokoly?",id:"logs",level:2},{value:"Jak mohu nakonfigurovat AdGuard Home tak, aby zapisoval protokoly na \xfarovni verbose?",id:"verboselog",level:2},{value:"Jak zobraz\xedm str\xe1nku s vlastn\xedm blokov\xe1n\xedm?",id:"customblock",level:2},{value:"P\u0159edpoklady",id:"p\u0159edpoklady",level:3},{value:"Str\xe1nka s vlast\xedm blokov\xe1n\xedm pro filtry Rodi\u010dovsk\xe1 ochrana a Bezpe\u010dn\xe9 prohl\xed\u017een\xed",id:"str\xe1nka-s-vlast\xedm-blokov\xe1n\xedm-pro-filtry-rodi\u010dovsk\xe1-ochrana-a-bezpe\u010dn\xe9-prohl\xed\u017een\xed",level:3},{value:"Str\xe1nka s vlastn\xedm blokov\xe1n\xedm pro dal\u0161\xed filtry",id:"str\xe1nka-s-vlastn\xedm-blokov\xe1n\xedm-pro-dal\u0161\xed-filtry",level:3},{value:"Jak zm\u011bn\xedm adresu rozhran\xed ovl\xe1dac\xedho panelu?",id:"webaddr",level:2},{value:"Jak nastav\xedm AdGuard Home jako v\xfdchoz\xed DNS server?",id:"defaultdns",level:2},{value:"Jsou zn\xe1ma n\u011bjak\xe1 omezen\xed?",id:"limitations",level:2},{value:"Existuje n\u011bjak\xe1 mo\u017enost, jak se s t\xedm v budoucnu vypo\u0159\xe1dat?",id:"existuje-n\u011bjak\xe1-mo\u017enost-jak-se-s-t\xedm-v-budoucnu-vypo\u0159\xe1dat",level:3},{value:"Pro\u010d se mi p\u0159i pokusu o instalaci v Ubuntu zobraz\xed chyba <code>bind: address already in use</code>?",id:"bindinuse",level:2},{value:"Jak nakonfigurovat reverzn\xed proxy server pro AdGuard Home?",id:"reverseproxy",level:2},{value:"nginx",id:"nginx",level:3},{value:"caddy",id:"caddy",level:3},{value:"Apache",id:"apache",level:3},{value:"Zak\xe1z\xe1n\xed \u0161ifrov\xe1n\xed DoH v AdGuard Home",id:"zak\xe1z\xe1n\xed-\u0161ifrov\xe1n\xed-doh-v-adguard-home",level:3},{value:"Skute\u010dn\xe9 IP adresy klient\u016f",id:"skute\u010dn\xe9-ip-adresy-klient\u016f",level:3},{value:"Jak oprav\xedm chyby <code>permission denied</code> v syst\xe9mu Fedora?",id:"fedora",level:2},{value:"Jak oprav\xedm chyby <code>nekompatibiln\xedho souborov\xe9ho syst\xe9mu</code>?",id:"incompatfs",level:2},{value:"Co znamen\xe1 <code>Error: control/version.json</code>?",id:"version-error",level:2},{value:"Jak mohu AdGuard Home aktualizovat ru\u010dn\u011b?",id:"manual-update",level:2},{value:"Unix (Linux, macOS, BSD)",id:"manual-update-unix",level:3},{value:"Windows (pomoc\xed PowerShell)",id:"manual-update-win",level:3},{value:"Jak odinstalovat AdGuard Home?",id:"uninstall",level:2},{value:"B\u011b\u017en\xe1 instalace",id:"b\u011b\u017en\xe1-instalace",level:3},{value:"Docker",id:"docker",level:3},{value:"Snap Store",id:"snap-store",level:3}],i={toc:m},s="wrapper";function u(e){let{components:a,...n}=e;return(0,t.yg)(s,(0,o.A)({},i,n,{components:a,mdxType:"MDXLayout"}),(0,t.yg)("h2",{id:"doesntblock"},"Pro\u010d AdGuard Home neblokuje reklamy nebo hrozby?"),(0,t.yg)("p",null,"P\u0159edpokl\xe1dejme, \u017ee chcete, aby AdGuard Home blokoval str\xe1nku ",(0,t.yg)("inlineCode",{parentName:"p"},"somebadsite.com"),", ale z n\u011bjak\xe9ho d\u016fvodu to ned\u011bl\xe1. Pokusme se tento probl\xe9m vy\u0159e\u0161it."),(0,t.yg)("p",null,"Pravd\u011bpodobn\u011b jste nenakonfigurovali za\u0159\xedzen\xed tak, aby pou\u017e\xedvalo AdGuard Home jako v\xfdchoz\xed DNS server. Zkontrolujte, zda pou\u017e\xedv\xe1te AdGuard Home jako v\xfdchoz\xed DNS server:"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Ve Windows otev\u0159ete p\u0159\xedkazov\xfd \u0159\xe1dek (",(0,t.yg)("em",{parentName:"p"},"Start")," \u2192 ",(0,t.yg)("em",{parentName:"p"},"Spustit")," \u2192 ",(0,t.yg)("inlineCode",{parentName:"p"},"cmd.exe"),"). V jin\xfdch syst\xe9mech otev\u0159ete aplikaci Terminal.")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Spus\u0165te p\u0159\xedkaz ",(0,t.yg)("inlineCode",{parentName:"p"},"nslookup example.org"),". Vyp\xed\u0161e se n\u011bco takov\xe9ho:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-none"},"Server: 192.168.0.1\nAddress: 192.168.0.1#53\n\nNon-authoritative answer:\nName: example.org\nAddress: <IPv4>\nName: example.org\nAddress: <IPv6>\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Zkontrolujte, zda IP adresa ",(0,t.yg)("inlineCode",{parentName:"p"},"serveru")," je ta, na kter\xe9 b\u011b\u017e\xed AdGuard Home. Pokud tomu tak nen\xed, je t\u0159eba za\u0159\xedzen\xed odpov\xeddaj\xedc\xedm zp\u016fsobem nakonfigurovat. Pod\xedvejte se ",(0,t.yg)("a",{parentName:"p",href:"#defaultdns"},"n\xed\u017ee"),", jak to prov\xe9st.")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Ujist\u011bte se, \u017ee se v\xe1\u0161 po\u017eadavek na ",(0,t.yg)("inlineCode",{parentName:"p"},"example.org")," zobrazuje v u\u017eivatelsk\xe9m rozhran\xed AdGuard Home na str\xe1nce ",(0,t.yg)("em",{parentName:"p"},"Protokol dotaz\u016f"),". Pokud tomu tak nen\xed, je t\u0159eba nakonfigurovat AdGuard Home tak, aby b\u011b\u017eel na zadan\xe9m s\xed\u0165ov\xe9m rozhran\xed. Nejjednodu\u0161\u0161\xed je p\u0159einstalovat AdGuard Home s v\xfdchoz\xedm nastaven\xedm."))),(0,t.yg)("p",null,"Pokud jste si jisti, \u017ee va\u0161e za\u0159\xedzen\xed pou\u017e\xedv\xe1 AdGuard Home jako v\xfdchoz\xed DNS server, ale probl\xe9m p\u0159etrv\xe1v\xe1, m\u016f\u017ee to b\xfdt zp\u016fsobeno nespr\xe1vnou konfigurac\xed AdGuard Home. Zkontrolujte a ujist\u011bte se, \u017ee:"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Na str\xe1nce ",(0,t.yg)("em",{parentName:"p"},"Nastaven\xed")," \u2192 ",(0,t.yg)("em",{parentName:"p"},"Obecn\xe1 nastaven\xed")," jste povolili nastaven\xed ",(0,t.yg)("em",{parentName:"p"},"Blokovat dom\xe9ny pomoc\xed filtr\u016f a soubor\u016f hostitel\u016f"),".")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Na stejn\xe9 str\xe1nce jste povolili p\u0159\xedslu\u0161n\xe9 bezpe\u010dnostn\xed mechanismy, nap\u0159\xedklad rodi\u010dovskou ochranu.")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Povolili jste p\u0159\xedslu\u0161n\xe9 filtry na str\xe1nce ",(0,t.yg)("em",{parentName:"p"},"Filtry")," \u2192 ",(0,t.yg)("em",{parentName:"p"},"DNS seznamy zak\xe1zan\xfdch"),".")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Na str\xe1nce ",(0,t.yg)("em",{parentName:"p"},"Filtry")," \u2192 ",(0,t.yg)("em",{parentName:"p"},"DNS seznamy povolen\xfdch")," nem\xe1te povoleny \u017e\xe1dn\xe9 v\xfdjimky seznam\u016f pravidel, kter\xe9 mohou povolit po\u017eadavky.")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Nem\xe1te \u017e\xe1dn\xe9 p\u0159episy DNS, kter\xe9 by mohly zasahovat do ",(0,t.yg)("em",{parentName:"p"},"Filtr\u016f")," \u2192 ",(0,t.yg)("em",{parentName:"p"},"P\u0159epis\u016f DNS"),".")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Nem\xe1te \u017e\xe1dn\xe1 vlastn\xed pravidla filtrov\xe1n\xed, kter\xe1 by mohla zasahovat do ",(0,t.yg)("em",{parentName:"p"},"Filtr\u016f")," \u2192 ",(0,t.yg)("em",{parentName:"p"},"Vlastn\xedch pravidel filtrov\xe1n\xed"),"."))),(0,t.yg)("h2",{id:"logs"},"Co znamen\xe1 \u201cBlokov\xe1no CNAME nebo IP\u201c v z\xe1znamu dotaz\u016f?"),(0,t.yg)("p",null,"AdGuard Home kontroluje DNS po\u017eadavky i DNS odezvy, aby zabr\xe1nil technice obch\xe1zen\xed blok\xe1toru reklam zn\xe1m\xe9 jako ",(0,t.yg)("a",{parentName:"p",href:"https://blog.apnic.net/2020/08/04/characterizing-cname-cloaking-based-tracking/"},"CNAME cloaking"),". To znamen\xe1, \u017ee pokud va\u0161e pravidla filtrov\xe1n\xed obsahuj\xed dom\xe9nu, nap\u0159\xedklad ",(0,t.yg)("inlineCode",{parentName:"p"},"tracker.example"),", a odezva DNS pro jin\xe9 dom\xe9nov\xe9 jm\xe9no, nap\u0159\xedklad ",(0,t.yg)("inlineCode",{parentName:"p"},"blogs.example"),", obsahuje toto dom\xe9nov\xe9 jm\xe9no mezi z\xe1znamy CNAME, je tato odpov\u011b\u010f zablokov\xe1na, proto\u017ee skute\u010dn\u011b vede na blokovanou slu\u017ebu sledov\xe1n\xed."),(0,t.yg)("h2",{id:"logs"},"Kde si mohu prohl\xe9dnout protokoly?"),(0,t.yg)("p",null,"V\xfdchoz\xed um\xedst\u011bn\xed prost\xfdch textov\xfdch protokol\u016f (nezam\u011b\u0148ovat s protokoly dotaz\u016f) z\xe1vis\xed na opera\u010dn\xedm syst\xe9mu a re\u017eimu instalace:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("strong",{parentName:"p"},"OpenWrt Linux:")," pou\u017eijte p\u0159\xedkaz ",(0,t.yg)("inlineCode",{parentName:"p"},"logread -e AdGuardHome"),".")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("strong",{parentName:"p"},"Linuxov\xe9")," syst\xe9my se ",(0,t.yg)("strong",{parentName:"p"},"systemd")," a dal\u0161\xed ",(0,t.yg)("strong",{parentName:"p"},"unixov\xe9")," syst\xe9my s ",(0,t.yg)("strong",{parentName:"p"},"SysV-style init:")," ",(0,t.yg)("inlineCode",{parentName:"p"},"/var/log/AdGuardHome.err"),".")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("strong",{parentName:"p"},"macOS:")," ",(0,t.yg)("inlineCode",{parentName:"p"},"/var/log/AdGuardHome.stderr.log"),".")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("strong",{parentName:"p"},"Linuxov\xe9")," syst\xe9my se ",(0,t.yg)("strong",{parentName:"p"},"Snapcraft")," pou\u017e\xedvaj\xed p\u0159\xedkaz ",(0,t.yg)("inlineCode",{parentName:"p"},"snap logs adguard-home"),".")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("strong",{parentName:"p"},"FreeBSD:")," ",(0,t.yg)("inlineCode",{parentName:"p"},"/var/log/daemon.log"),".")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("strong",{parentName:"p"},"OpenBSD:")," ",(0,t.yg)("inlineCode",{parentName:"p"},"/var/log/daemon"),".")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("strong",{parentName:"p"},"Windows:")," pou\u017e\xedv\xe1 se ",(0,t.yg)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/windows/win32/wes/windows-event-log"},"Protokol ud\xe1lost\xed Windows"),"."))),(0,t.yg)("h2",{id:"verboselog"},"Jak mohu nakonfigurovat AdGuard Home tak, aby zapisoval protokoly na \xfarovni verbose?"),(0,t.yg)("p",null,"P\u0159i \u0159e\u0161en\xed slo\u017eit\xfdch probl\xe9m\u016f je n\u011bkdy nutn\xe9 pou\u017e\xedt protokolov\xe1n\xed na \xfarovni verbose. Zde najdete n\xe1vod, jak to povolit:"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Ukon\u010dete AdGuard Home:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"./AdGuardHome -s stop\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Nakonfigurujte AdGuard Home tak, aby zapisoval protokoly na \xfarovni verbose:"),(0,t.yg)("ol",{parentName:"li"},(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Otev\u0159ete ",(0,t.yg)("inlineCode",{parentName:"p"},"AdGuardHome.yaml")," ve sv\xe9m editoru.")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Nastavte ",(0,t.yg)("inlineCode",{parentName:"p"},"log.file")," na po\u017eadovanou cestu k souboru protokolu, nap\u0159. ",(0,t.yg)("inlineCode",{parentName:"p"},"/tmp/aghlog.txt"),". Upozor\u0148ujeme, \u017ee adres\xe1\u0159 mus\xed existovat.")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Nastavte ",(0,t.yg)("inlineCode",{parentName:"p"},"log.verbose")," na hodnotu ",(0,t.yg)("inlineCode",{parentName:"p"},"true"),".")))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Restartujte AdGuard Home a reprodukujte probl\xe9m:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"./AdGuardHome -s start\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Po dokon\u010den\xed lad\u011bn\xed nastavte hodnotu ",(0,t.yg)("inlineCode",{parentName:"p"},"log.verbose")," zp\u011bt na ",(0,t.yg)("inlineCode",{parentName:"p"},"false"),"."))),(0,t.yg)("h2",{id:"customblock"},"Jak zobraz\xedm str\xe1nku s vlastn\xedm blokov\xe1n\xedm?"),(0,t.yg)("admonition",{type:"note"},(0,t.yg)("p",{parentName:"admonition"},"Ne\u017e n\u011bco z toho provedete, m\u011bjte na pam\u011bti, \u017ee modern\xed prohl\xed\u017ee\u010de jsou nastaveny na pou\u017e\xedv\xe1n\xed protokolu HTTPS, tak\u017ee ov\u011b\u0159uj\xed pravost certifik\xe1tu webov\xe9ho serveru. To znamen\xe1, \u017ee p\u0159i pou\u017eit\xed kter\xe9hokoli z nich se zobraz\xed varovn\xe9 obrazovky."),(0,t.yg)("p",{parentName:"admonition"},"Existuje \u0159ada navrhovan\xfdch roz\u0161\xed\u0159en\xed, kter\xe1 by v p\u0159\xedpad\u011b p\u0159im\u011b\u0159en\xe9 podpory ze strany klient\u016f poskytla lep\u0161\xed u\u017eivatelsk\xfd komfort, v\u010detn\u011b ",(0,t.yg)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc8914"},"RFC 8914 Extended DNS Error codes")," a ",(0,t.yg)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/draft-reddy-dnsop-error-page-08"},"DNS Access Denied Error Page RFC draft"),". Zavedeme je, a\u017e je prohl\xed\u017ee\u010de za\u010dnou skute\u010dn\u011b podporovat.")),(0,t.yg)("h3",{id:"p\u0159edpoklady"},"P\u0159edpoklady"),(0,t.yg)("p",null,"Chcete-li n\u011bkterou z t\u011bchto metod pou\u017e\xedt k zobrazen\xed vlastn\xed str\xe1nky blokov\xe1n\xed, pot\u0159ebujete server HTTP, kter\xfd b\u011b\u017e\xed na n\u011bkter\xe9 IP adrese a obsluhuje danou str\xe1nku na v\u0161ech tras\xe1ch. N\u011bco jako ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/kvic-z/pixelserv-tls"},(0,t.yg)("inlineCode",{parentName:"a"},"pixelserv-tls")),"."),(0,t.yg)("h3",{id:"str\xe1nka-s-vlast\xedm-blokov\xe1n\xedm-pro-filtry-rodi\u010dovsk\xe1-ochrana-a-bezpe\u010dn\xe9-prohl\xed\u017een\xed"},"Str\xe1nka s vlast\xedm blokov\xe1n\xedm pro filtry Rodi\u010dovsk\xe1 ochrana a Bezpe\u010dn\xe9 prohl\xed\u017een\xed"),(0,t.yg)("p",null,"V sou\u010dasn\xe9 dob\u011b nen\xed mo\u017en\xe9 tyto parametry nastavit z u\u017eivatelsk\xe9ho rozhran\xed, tak\u017ee je nutn\xe9 upravit konfigura\u010dn\xed soubor ru\u010dn\u011b:"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Ukon\u010dete AdGuard Home:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"./AdGuardHome -s stop\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Otev\u0159ete ",(0,t.yg)("inlineCode",{parentName:"p"},"AdGuardHome.yaml")," ve sv\xe9m editoru.")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Nastavte ",(0,t.yg)("inlineCode",{parentName:"p"},"dns.parental_block_host")," nebo ",(0,t.yg)("inlineCode",{parentName:"p"},"dns.safebrowsing_block_host")," na IP adresu serveru (v tomto p\u0159\xedkladu na ",(0,t.yg)("inlineCode",{parentName:"p"},"192.168.123.45"),"):"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-yaml"},"# \u2026\ndns:\n  # \u2026\n\n  # POZN\xc1MKA: Zm\u011b\u0148te na skute\u010dnou IP adresu serveru.\n  parental_block_host: 192.168.123.45\n  safebrowsing_block_host: 192.168.123.45\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Restartujte AdGuard Home:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"./AdGuardHome -s start\n")))),(0,t.yg)("h3",{id:"str\xe1nka-s-vlastn\xedm-blokov\xe1n\xedm-pro-dal\u0161\xed-filtry"},"Str\xe1nka s vlastn\xedm blokov\xe1n\xedm pro dal\u0161\xed filtry"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Otev\u0159ete webov\xe9 UI.")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"P\u0159ejd\u011bte do ",(0,t.yg)("em",{parentName:"p"},"Nastaven\xed")," \u2192 ",(0,t.yg)("em",{parentName:"p"},"Nastaven\xed DNS."))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"V \u010d\xe1sti ",(0,t.yg)("em",{parentName:"p"},"Konfigurace serveru DNS")," vyberte p\u0159ep\xedna\u010d ",(0,t.yg)("em",{parentName:"p"},"Vlastn\xed IP")," ve voli\u010di ",(0,t.yg)("em",{parentName:"p"},"Re\u017eim blokov\xe1n\xed")," a zadejte adresy server\u016f IPv4 a IPv6.")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Klikn\u011bte na ",(0,t.yg)("em",{parentName:"p"},"Ulo\u017eit"),"."))),(0,t.yg)("h2",{id:"webaddr"},"Jak zm\u011bn\xedm adresu rozhran\xed ovl\xe1dac\xedho panelu?"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Ukon\u010dete AdGuard Home:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"./AdGuardHome -s stop\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Otev\u0159ete ",(0,t.yg)("inlineCode",{parentName:"p"},"AdGuardHome.yaml")," ve sv\xe9m editoru.")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Nastavte ",(0,t.yg)("inlineCode",{parentName:"p"},"http.address")," na nov\xe9 s\xed\u0165ov\xe9 rozhran\xed. Nap\u0159:"),(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"0.0.0.0:0")," k naslouch\xe1n\xed na v\u0161ech s\xed\u0165ov\xfdch rozhran\xed;"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"0.0.0.0:8080")," k naslouch\xe1n\xed na v\u0161ech s\xed\u0165ov\xfdch rozhran\xed s portem ",(0,t.yg)("inlineCode",{parentName:"li"},"8080"),";"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"127.0.0.1:0")," k naslouch\xe1n\xed pouze na m\xedstn\xedm rozhran\xed zp\u011btn\xe9 smy\u010dky."))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Restartujte AdGuard Home:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"./AdGuardHome -s start\n")))),(0,t.yg)("h2",{id:"defaultdns"},"Jak nastav\xedm AdGuard Home jako v\xfdchoz\xed DNS server?"),(0,t.yg)("p",null,"Viz \u010d\xe1st ",(0,t.yg)("a",{parentName:"p",href:"/KnowledgeBaseDNS/cs/adguard-home/getting-started#configure-devices"},(0,t.yg)("em",{parentName:"a"},"Konfigurace za\u0159\xedzen\xed"))," na str\xe1nce ",(0,t.yg)("em",{parentName:"p"},"Za\u010d\xedn\xe1me"),"."),(0,t.yg)("h2",{id:"limitations"},"Jsou zn\xe1ma n\u011bjak\xe1 omezen\xed?"),(0,t.yg)("p",null,"Zde je n\u011bkolik p\u0159\xedklad\u016f toho, co blok\xe1tor na \xfarovni DNS nem\u016f\u017ee blokovat:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},"Reklamy YouTube, Twitch.")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},"Sponzorovan\xe9 p\u0159\xedsp\u011bvky na Facebooku, X (d\u0159\xedve Twitter) a Instagramu."))),(0,t.yg)("p",null,"V z\xe1sad\u011b plat\xed, \u017ee jak\xe1koli reklama, kter\xe1 sd\xedl\xed dom\xe9nu s obsahem, nem\u016f\u017ee b\xfdt blokov\xe1na blok\xe1torem na \xfarovni DNS, pokud nejste p\u0159ipraveni blokovat i obsah."),(0,t.yg)("h3",{id:"existuje-n\u011bjak\xe1-mo\u017enost-jak-se-s-t\xedm-v-budoucnu-vypo\u0159\xe1dat"},"Existuje n\u011bjak\xe1 mo\u017enost, jak se s t\xedm v budoucnu vypo\u0159\xe1dat?"),(0,t.yg)("p",null,"DNS k tomu nikdy nebude sta\u010dit. Jedinou mo\u017enost\xed je pou\u017e\xedt proxy server pro blokov\xe1n\xed obsahu, jako je tomu v ",(0,t.yg)("a",{parentName:"p",href:"https://adguard.com/"},"aplikac\xedch AdGuard"),". V budoucnu p\u0159id\xe1me podporu t\xe9to funkce do AdGuard Home. Bohu\u017eel i pak se najdou p\u0159\xedpady, kdy to nebude sta\u010dit nebo to bude vy\u017eadovat pom\u011brn\u011b slo\u017eitou konfiguraci."),(0,t.yg)("h2",{id:"bindinuse"},"Pro\u010d se mi p\u0159i pokusu o instalaci v Ubuntu zobraz\xed chyba ",(0,t.yg)("inlineCode",{parentName:"h2"},"bind: address already in use"),"?"),(0,t.yg)("p",null,"K tomu doch\xe1z\xed, proto\u017ee port 53 na ",(0,t.yg)("inlineCode",{parentName:"p"},"localhost"),", kter\xfd se pou\u017e\xedv\xe1 pro DNS, je ji\u017e obsazen jin\xfdm programem. Ubuntu obsahuje lok\xe1ln\xed DNS nazvan\xfd ",(0,t.yg)("inlineCode",{parentName:"p"},"systemd-resolved"),", kter\xfd pou\u017e\xedv\xe1 adresu ",(0,t.yg)("inlineCode",{parentName:"p"},"127.0.0.53:53"),", co\u017e br\xe1n\xed tomu, aby se AdGuard Home v\xe1zal na adresu ",(0,t.yg)("inlineCode",{parentName:"p"},"127.0.0.1:53"),". M\u016f\u017eete to zjistit spu\u0161t\u011bn\xedm:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"sudo lsof -i :53\n")),(0,t.yg)("p",null,"V\xfdstup by m\u011bl vypadat podobn\u011b jako:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-none"},"COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME\nsystemd-r 14542 systemd-resolve 13u IPv4 86178 0t0 UDP 127.0.0.53:domain\nsystemd-r 14542 systemd-resolve 14u IPv4 86179 0t0 TCP 127.0.0.53:domain\n")),(0,t.yg)("p",null,"Chcete-li to napravit, mus\xedte bu\u010f zak\xe1zat daemon ",(0,t.yg)("inlineCode",{parentName:"p"},"systemd-resolved"),", nebo zvolit jin\xe9 s\xed\u0165ov\xe9 rozhran\xed a nav\xe1zat AdGuard Home na p\u0159\xedstupnou IP adresu, nap\u0159\xedklad IP adresu routeru uvnit\u0159 s\xedt\u011b. Pokud v\u0161ak pot\u0159ebujete naslouchat na ",(0,t.yg)("inlineCode",{parentName:"p"},"localhost"),", existuje n\u011bkolik \u0159e\u0161en\xed."),(0,t.yg)("p",null,"Za prv\xe9, AdGuard Home m\u016f\u017ee detekovat takov\xe9 konfigurace a zak\xe1zat ",(0,t.yg)("inlineCode",{parentName:"p"},"systemd-resolved")," za v\xe1s, pokud stisknete tla\u010d\xedtko ",(0,t.yg)("em",{parentName:"p"},"Opravit")," um\xedst\u011bn\xe9 vedle zpr\xe1vy ",(0,t.yg)("inlineCode",{parentName:"p"},"adresa je ji\u017e pou\u017e\xedv\xe1na")," na instala\u010dn\xed obrazovce."),(0,t.yg)("p",null,"Pokud to nepom\u016f\u017ee, postupujte podle n\xe1sleduj\xedc\xedch pokyn\u016f. Upozor\u0148ujeme, \u017ee pokud pou\u017e\xedv\xe1te AdGuard Home s dockerem nebo snapem, budete to muset ud\u011blat sami."),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"V p\u0159\xedpad\u011b pot\u0159eby vytvo\u0159te adres\xe1\u0159 ",(0,t.yg)("inlineCode",{parentName:"p"},"/etc/systemd/resolved.conf.d"),":"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"sudo mkdir -p /etc/systemd/resolved.conf.d\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Deaktivujte ",(0,t.yg)("inlineCode",{parentName:"p"},"DNSStubListener")," a aktualizujte adresu DNS serveru. Za t\xedmto \xfa\u010delem vytvo\u0159te nov\xfd soubor ",(0,t.yg)("inlineCode",{parentName:"p"},"/etc/systemd/resolved.conf.d/adguardhome.conf")," s n\xe1sleduj\xedc\xedm obsahem:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-service"},"[Resolve]\nDNS=127.0.0.1\nDNSStubListener=no\n")))),(0,t.yg)("p",null,"Jako adresu DNS serveru je ",(0,t.yg)("strong",{parentName:"p"},"nutn\xe9 zadat ",(0,t.yg)("inlineCode",{parentName:"strong"},"127.0.0.1"),".")," Jinak bude n\xe1zev serveru ",(0,t.yg)("inlineCode",{parentName:"p"},"127.0.0.53"),", co\u017e bez ",(0,t.yg)("inlineCode",{parentName:"p"},"DNSStubListener")," nebude fungovat."),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Aktivujte dal\u0161\xed soubor ",(0,t.yg)("inlineCode",{parentName:"p"},"resolv.conf"),":"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"sudo mv /etc/resolv.conf /etc/resolv.conf.backup\nsudo ln -s /run/systemd/resolve/resolv.conf /etc/resolv.conf\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Restartujte ",(0,t.yg)("inlineCode",{parentName:"p"},"DNSStubListener"),":"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"sudo systemctl reload-or-restart systemd-resolved\n")))),(0,t.yg)("p",null,"Pot\xe9 by se ve v\xfdstupu p\u0159\xedkazu ",(0,t.yg)("inlineCode",{parentName:"p"},"lsof")," nem\u011blo zobrazovat ",(0,t.yg)("inlineCode",{parentName:"p"},"systemd-resolved")," a AdGuard Home by m\u011bl b\xfdt schopen nav\xe1zat se na ",(0,t.yg)("inlineCode",{parentName:"p"},"127.0.0.1:53"),"."),(0,t.yg)("h2",{id:"reverseproxy"},"Jak nakonfigurovat reverzn\xed proxy server pro AdGuard Home?"),(0,t.yg)("p",null,"Pokud ji\u017e pou\u017e\xedv\xe1te webov\xfd server a chcete p\u0159istupovat k u\u017eivatelsk\xe9mu rozhran\xed hlavn\xedho panelu AdGuardu z adresy URL, jako je ",(0,t.yg)("inlineCode",{parentName:"p"},"http://YOUR_SERVER/aghome/"),", m\u016f\u017eete pou\u017e\xedt tuto konfiguraci pro sv\u016fj webov\xfd server:"),(0,t.yg)("h3",{id:"nginx"},"nginx"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-nginx"},"location /aghome/ {\n proxy_cookie_path / /aghome/;\n proxy_pass http://AGH_IP:AGH_PORT/;\n proxy_redirect / /aghome/;\n proxy_set_header Host $host;\n}\n")),(0,t.yg)("h3",{id:"caddy"},"caddy"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-none"},":80/aghome/* {\n route {\n uri strip_prefix /aghome\n reverse_proxy AGH_IP:AGH_PORT\n }\n}\n")),(0,t.yg)("p",null,"Nebo pokud chcete AdGuard Home obsluhovat pouze pomoc\xed automatick\xe9ho protokolu TLS, pou\u017eijte konfiguraci podobnou n\xed\u017ee uveden\xe9mu p\u0159\xedkladu:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-none"},"DOMAIN {\n encode gzip zstd\n tls YOUR_EMAIL@DOMAIN\n reverse_proxy AGH_IP:AGH_PORT\n}\n")),(0,t.yg)("h3",{id:"apache"},"Apache"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-apache"},'<VirtualHost *:80>\n  ProxyPass "/" "http://AGH_IP:AGH_PORT/"\n  ProxyPassReverse "/" "http://AGH_IP:AGH_PORT/"\n  PreserveHost On\n</VirtualHost>\n')),(0,t.yg)("admonition",{type:"note"},(0,t.yg)("p",{parentName:"admonition"},"Nepou\u017e\xedvejte podadres\xe1\u0159e s reverzn\xedm HTTP proxy Apache.  Je zn\xe1m\xfd probl\xe9m (",(0,t.yg)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome/issues/6604"},"#6604"),"), \u017ee Apache zpracov\xe1v\xe1 relativn\xed p\u0159esm\u011brov\xe1n\xed jinak ne\u017e ostatn\xed webov\xe9 servery. To zp\u016fsobuje probl\xe9my s webov\xfdm rozhran\xedm AdGuard Home.")),(0,t.yg)("h3",{id:"zak\xe1z\xe1n\xed-\u0161ifrov\xe1n\xed-doh-v-adguard-home"},"Zak\xe1z\xe1n\xed \u0161ifrov\xe1n\xed DoH v AdGuard Home"),(0,t.yg)("p",null,"Pokud pou\u017e\xedv\xe1te TLS na reverzn\xedm proxy serveru, nemus\xedte pou\u017e\xedvat TLS v AdGuard Home. Nastaven\xedm ",(0,t.yg)("inlineCode",{parentName:"p"},"allow_unencrypted_doh: true")," v ",(0,t.yg)("inlineCode",{parentName:"p"},"AdGuardHome.yaml")," umo\u017en\xedte AdGuard Home odpov\xeddat na po\u017eadavky DoH bez \u0161ifrov\xe1n\xed TLS."),(0,t.yg)("h3",{id:"skute\u010dn\xe9-ip-adresy-klient\u016f"},"Skute\u010dn\xe9 IP adresy klient\u016f"),(0,t.yg)("p",null,"Parametr ",(0,t.yg)("inlineCode",{parentName:"p"},"trusted_proxies")," m\u016f\u017eete nastavit na IP adresy proxy serveru HTTP, aby AdGuard Home zohlednil z\xe1hlav\xed obsahuj\xedc\xed skute\u010dnou IP adresu klienta. Dal\u0161\xed informace naleznete na str\xe1nk\xe1ch ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome/wiki/Configuration"},"konfigurace")," a ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome/wiki/Encryption#reverse-proxy"},"\u0161ifrov\xe1n\xed"),"."),(0,t.yg)("h2",{id:"fedora"},"Jak oprav\xedm chyby ",(0,t.yg)("inlineCode",{parentName:"h2"},"permission denied")," v syst\xe9mu Fedora?"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"P\u0159esu\u0148te bin\xe1rn\xed soubor ",(0,t.yg)("inlineCode",{parentName:"p"},"AdGuardHome")," do adres\xe1\u0159e ",(0,t.yg)("inlineCode",{parentName:"p"},"/usr/local/bin"),".")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Jako ",(0,t.yg)("inlineCode",{parentName:"p"},"root")," prove\u010fte n\xe1sleduj\xedc\xed p\u0159\xedkaz pro zm\u011bnu bezpe\u010dnostn\xedho kontextu souboru:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"chcon -t bin_t /usr/local/bin/AdGuardHome\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"P\u0159idejte po\u017eadovan\xe1 pravidla br\xe1ny firewall, aby byla p\u0159\xedstupn\xe1 skrze s\xed\u0165. Nap\u0159:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"firewall-cmd --new-zone=adguard --permanent\nfirewall-cmd --zone=adguard --add-source=192.168.0.14/24 --permanent\nfirewall-cmd --zone=adguard --add-port=3000/tcp --permanent\nfirewall-cmd --zone=adguard --add-port=53/udp --permanent\nfirewall-cmd --zone=adguard --add-port=80/tcp --permanent\nfirewall-cmd --reload\n")))),(0,t.yg)("p",null,"Pokud st\xe1le dost\xe1v\xe1te ",(0,t.yg)("inlineCode",{parentName:"p"},"code=exited status=203/EXEC")," nebo podobn\xe9 chyby ze ",(0,t.yg)("inlineCode",{parentName:"p"},"systemctl"),", zkuste odinstalovat AdGuard Home a nainstalovat jej ",(0,t.yg)("strong",{parentName:"p"},"p\u0159\xedmo")," do ",(0,t.yg)("inlineCode",{parentName:"p"},"/usr/local/bin")," pomoc\xed volby ",(0,t.yg)("inlineCode",{parentName:"p"},"-o")," instala\u010dn\xedho skriptu:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"curl -s -S -L 'https://raw.githubusercontent.com/AdguardTeam/AdGuardHome/master/scripts/install.sh' | sh -s -- -o '/usr/local/bin' -v\n")),(0,t.yg)("p",null,"Viz ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome/issues/765#issuecomment-752262353"},"issue 765")," a ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome/issues/3281"},"issue 3281"),"."),(0,t.yg)("h2",{id:"incompatfs"},"Jak oprav\xedm chyby ",(0,t.yg)("inlineCode",{parentName:"h2"},"nekompatibiln\xedho souborov\xe9ho syst\xe9mu"),"?"),(0,t.yg)("p",null,"M\u011bli byste p\u0159esunout instalaci nebo pracovn\xed adres\xe1\u0159 AdGuard Home do jin\xe9ho um\xedst\u011bn\xed. Viz \u010d\xe1st ",(0,t.yg)("a",{parentName:"p",href:"/KnowledgeBaseDNS/cs/adguard-home/getting-started#limitations"},"omezen\xed")," na str\xe1nce ",(0,t.yg)("em",{parentName:"p"},"Za\u010d\xedn\xe1me"),"."),(0,t.yg)("h2",{id:"version-error"},"Co znamen\xe1 ",(0,t.yg)("inlineCode",{parentName:"h2"},"Error: control/version.json"),"?"),(0,t.yg)("p",null,"Tato chybov\xe1 zpr\xe1va znamen\xe1, \u017ee se AdGuard Home nemohl spojit se servery AdGuardu, aby zkontroloval aktualizace a/nebo je st\xe1hl. To m\u016f\u017ee znamenat, \u017ee servery jsou blokov\xe1ny va\u0161\xedm poskytovatelem internetov\xfdch slu\u017eeb nebo jsou do\u010dasn\u011b mimo provoz. Pokud se chyba po n\u011bjak\xe9 dob\u011b nevy\u0159e\u0161\xed, m\u016f\u017eete zkusit prov\xe9st ",(0,t.yg)("a",{parentName:"p",href:"#manual-update"},"ru\u010dn\xed aktualizaci")," nebo vypnout automatickou kontrolu aktualizac\xed spu\u0161t\u011bn\xedm spustiteln\xe9ho souboru ",(0,t.yg)("inlineCode",{parentName:"p"},"AdGuardHome")," s p\u0159\xedkazem ",(0,t.yg)("inlineCode",{parentName:"p"},"--no-check-update"),"."),(0,t.yg)("h2",{id:"manual-update"},"Jak mohu AdGuard Home aktualizovat ru\u010dn\u011b?"),(0,t.yg)("p",null,"Pokud se tla\u010d\xedtko nezobraz\xed nebo se automatick\xe1 aktualizace nezda\u0159ila, m\u016f\u017eete prov\xe9st aktualizaci ru\u010dn\u011b. V n\xed\u017ee uveden\xfdch p\u0159\xedkladech pou\u017eijeme verze AdGuard Home pro Linux a Windows pro procesory AMD64."),(0,t.yg)("h3",{id:"manual-update-unix"},"Unix (Linux, macOS, BSD)"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"St\xe1hn\u011bte si nov\xfd bal\xed\u010dek AdGuard Home ze ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome/releases/latest"},"str\xe1nky vyd\xe1n\xed"),". Pokud chcete tento krok prov\xe9st z p\u0159\xedkazov\xe9ho \u0159\xe1dku, zadejte:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"curl -L -S -o '/tmp/AdGuardHome_linux_amd64.tar.gz' -s\\\n'https://static.adguard.com/adguardhome/release/AdGuardHome_linux_amd64.tar.gz'\n")),(0,t.yg)("p",{parentName:"li"},"Nebo pomoc\xed ",(0,t.yg)("inlineCode",{parentName:"p"},"wget"),":"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"wget -O '/tmp/AdGuardHome_linux_amd64.tar.gz'\\\n'https://static.adguard.com/adguardhome/release/AdGuardHome_linux_amd64.tar.gz'\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"P\u0159ejd\u011bte do adres\xe1\u0159e, kde je AdGuard Home nainstalov\xe1n. Ve v\u011bt\u0161in\u011b unixov\xfdch syst\xe9m\u016f je v\xfdchoz\xed adres\xe1\u0159 ",(0,t.yg)("inlineCode",{parentName:"p"},"/opt/AdGuardHome"),", ale v syst\xe9mu MacOS je to ",(0,t.yg)("inlineCode",{parentName:"p"},"/Applications/AdGuardHome"),".")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Ukon\u010dete AdGuard Home:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"sudo ./AdGuardHome -s stop\n")),(0,t.yg)("admonition",{parentName:"li",title:"OpenBSD",type:"note"},(0,t.yg)("p",{parentName:"admonition"},"V syst\xe9mu OpenBSD budete pravd\u011bpodobn\u011b cht\xedt pou\u017e\xedt ",(0,t.yg)("inlineCode",{parentName:"p"},"doas")," m\xedsto ",(0,t.yg)("inlineCode",{parentName:"p"},"sudo"),"."))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Z\xe1lohujte sv\xe1 data. Tedy konfigura\u010dn\xed soubor a adres\xe1\u0159 s daty (ve v\xfdchoz\xedm nastaven\xed ",(0,t.yg)("inlineCode",{parentName:"p"},"AdGuardHome.yaml")," a ",(0,t.yg)("inlineCode",{parentName:"p"},"data/"),"). P\u0159\xedklad pro z\xe1lohov\xe1n\xed dat do nov\xe9ho adres\xe1\u0159e s n\xe1zvem ",(0,t.yg)("inlineCode",{parentName:"p"},"~/my-agh-backup"),":"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"mkdir -p ~/my-agh-backup\ncp -r ./AdGuardHome.yaml ./data ~/my-agh-backup/\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Rozbalte archiv AdGuard Home do do\u010dasn\xe9ho adres\xe1\u0159e. Pokud jste nap\u0159\xedklad st\xe1hli archiv do adres\xe1\u0159e ",(0,t.yg)("inlineCode",{parentName:"p"},"~/Downloads")," a chcete jej rozbalit do adres\xe1\u0159e ",(0,t.yg)("inlineCode",{parentName:"p"},"/tmp/"),":"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"tar -C /tmp/ -f ~/Downloads/AdGuardHome_linux_amd64.tar.gz -x -v -z\n")),(0,t.yg)("p",{parentName:"li"},"V macOS zadejte n\u011bco jako:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"unzip -d /tmp/ ~/Downloads/AdGuardHome_darwin_amd64.zip\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Nahra\u010fte star\xfd spustiteln\xfd soubor AdGuard Home nov\xfdm. Ve v\u011bt\u0161in\u011b unixov\xfdch syst\xe9m\u016f by m\u011bl p\u0159\xedkaz vypadal takto:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"sudo cp /tmp/AdGuardHome/AdGuardHome /opt/AdGuardHome/AdGuardHome\n")),(0,t.yg)("p",{parentName:"li"},"V macOS zadejte n\u011bco jako:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"sudo cp /tmp/AdGuardHome/AdGuardHome /Applications/AdGuardHome/AdGuardHome\n")),(0,t.yg)("p",{parentName:"li"},"Mo\u017en\xe1 budete cht\xedt zkop\xedrovat tak\xe9 dokumenta\u010dn\xed \u010d\xe1sti bal\xed\u010dku, nap\u0159\xedklad protokol zm\u011bn (",(0,t.yg)("inlineCode",{parentName:"p"},"CHANGELOG.md"),"), soubor README (",(0,t.yg)("inlineCode",{parentName:"p"},"README.md"),") a licenci (",(0,t.yg)("inlineCode",{parentName:"p"},"LICENSE.txt"),")."),(0,t.yg)("p",{parentName:"li"},"Nyn\xed m\u016f\u017eete do\u010dasn\xfd adres\xe1\u0159 odstranit.")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Restartujte AdGuard Home:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"sudo ./AdGuardHome -s start\n")))),(0,t.yg)("h3",{id:"manual-update-win"},"Windows (pomoc\xed PowerShell)"),(0,t.yg)("p",null,"Ve v\u0161ech n\xed\u017ee uveden\xfdch p\u0159\xedkladech mus\xed b\xfdt PowerShell spu\u0161t\u011bn jako spr\xe1vce."),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"St\xe1hn\u011bte si nov\xfd bal\xed\u010dek AdGuard Home ze ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome/releases/latest"},"str\xe1nky vyd\xe1n\xed"),". Pokud chcete tento krok prov\xe9st z p\u0159\xedkazov\xe9ho \u0159\xe1dku:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-ps1"},"$outFile = Join-Path -Path $Env:USERPROFILE -ChildPath 'Downloads\\AdGuardHome_windows_amd64.zip'\n$aghUri = 'https://static.adguard.com/adguardhome/release/AdGuardHome_windows_amd64.zip'\nInvoke-WebRequest -OutFile \"$outFile\" -Uri \"$aghUri\"\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"P\u0159ejd\u011bte do adres\xe1\u0159e, kde byl AdGuard Home nainstalov\xe1n. V n\xed\u017ee uveden\xfdch p\u0159\xedkladech pou\u017eijeme ",(0,t.yg)("inlineCode",{parentName:"p"},"C:\\Program Files\\AdGuardHome"),".")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Ukon\u010dete AdGuard Home:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-ps1"},".\\AdGuardHome.exe -s stop\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Z\xe1lohujte sv\xe1 data. Tedy konfigura\u010dn\xed soubor a adres\xe1\u0159 s daty (ve v\xfdchoz\xedm nastaven\xed ",(0,t.yg)("inlineCode",{parentName:"p"},"AdGuardHome.yaml")," a ",(0,t.yg)("inlineCode",{parentName:"p"},"data/"),"). P\u0159\xedklad pro z\xe1lohov\xe1n\xed dat do nov\xe9ho adres\xe1\u0159e s n\xe1zvem ",(0,t.yg)("inlineCode",{parentName:"p"},"my-agh-backup"),":"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-ps1"},"$newDir = Join-Path -Path $Env:USERPROFILE -ChildPath 'my-agh-backup'\nNew-Item -Path $newDir -ItemType Directory\nCopy-Item -Path .\\AdGuardHome.yaml, .\\data -Destination $newDir -Recurse\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Rozbalte archiv AdGuard Home do do\u010dasn\xe9ho adres\xe1\u0159e. Pokud jste nap\u0159\xedklad st\xe1hli archiv do adres\xe1\u0159e ",(0,t.yg)("inlineCode",{parentName:"p"},"Downloads")," a chcete jej rozbalit do do\u010dasn\xe9ho adres\xe1\u0159e:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-ps1"},"$outFile = Join-Path -Path $Env:USERPROFILE -ChildPath 'Downloads\\AdGuardHome_windows_amd64.zip'\nExpand-Archive -Path \"$outFile\" -DestinationPath $Env:TEMP\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Nahra\u010fte star\xfd spustiteln\xfd soubor AdGuard Home nov\xfdm. Nap\u0159:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-ps1"},"$aghExe = Join-Path -Path $Env:TEMP -ChildPath 'AdGuardHome\\AdGuardHome.exe'\nCopy-Item -Path \"$aghExe\" -Destination .\\AdGuardHome.exe\n")),(0,t.yg)("p",{parentName:"li"},"Mo\u017en\xe1 budete cht\xedt zkop\xedrovat tak\xe9 dokumenta\u010dn\xed \u010d\xe1sti bal\xed\u010dku, nap\u0159\xedklad protokol zm\u011bn (",(0,t.yg)("inlineCode",{parentName:"p"},"CHANGELOG.md"),"), soubor README (",(0,t.yg)("inlineCode",{parentName:"p"},"README.md"),") a licenci (",(0,t.yg)("inlineCode",{parentName:"p"},"LICENSE.txt"),")."),(0,t.yg)("p",{parentName:"li"},"Nyn\xed m\u016f\u017eete do\u010dasn\xfd adres\xe1\u0159 odstranit.")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Restartujte AdGuard Home:"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre",className:"language-ps1"},".\\AdGuardHome.exe -s start\n")))),(0,t.yg)("h2",{id:"uninstall"},"Jak odinstalovat AdGuard Home?"),(0,t.yg)("p",null,"V z\xe1vislosti na tom, jak jste AdGuard Home nainstalovali, jej m\u016f\u017eete odinstalovat r\u016fzn\xfdmi zp\u016fsoby."),(0,t.yg)("admonition",{type:"caution"},(0,t.yg)("p",{parentName:"admonition"},"P\u0159ed odinstalov\xe1n\xedm AdGuard Home nezapome\u0148te zm\u011bnit konfiguraci za\u0159\xedzen\xed a nasm\u011brovat je na jin\xfd DNS server.")),(0,t.yg)("h3",{id:"b\u011b\u017en\xe1-instalace"},"B\u011b\u017en\xe1 instalace"),(0,t.yg)("p",null,"V tomto p\u0159\xedpad\u011b postupujte n\xe1sledovn\u011b:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},"Zru\u0161te registraci slu\u017eeb AdGuard Home: ",(0,t.yg)("inlineCode",{parentName:"p"},"./AdGuardHome -s uninstall"),".")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},"Odeberte adres\xe1\u0159 AdGuard Home."))),(0,t.yg)("h3",{id:"docker"},"Docker"),(0,t.yg)("p",null,"Jednodu\u0161e ukon\u010dete a odstra\u0148te obraz."),(0,t.yg)("h3",{id:"snap-store"},"Snap Store"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sh"},"snap remove adguard-home\n")))}u.isMDXComponent=!0}}]);