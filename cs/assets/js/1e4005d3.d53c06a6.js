"use strict";(self.webpackChunkadguard_dns_knowledge_base=self.webpackChunkadguard_dns_knowledge_base||[]).push([[597],{4137:function(e,t,n){n.d(t,{Zo:function(){return k},kt:function(){return s}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=a.createContext({}),l=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},k=function(e){var t=l(e.components);return a.createElement(d.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},v=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,d=e.parentName,k=i(e,["components","mdxType","originalType","parentName"]),v=l(n),s=o,c=v["".concat(d,".").concat(s)]||v[s]||u[s]||r;return n?a.createElement(c,p(p({ref:t},k),{},{components:n})):a.createElement(c,p({ref:t},k))}));function s(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,p=new Array(r);p[0]=v;var i={};for(var d in t)hasOwnProperty.call(t,d)&&(i[d]=t[d]);i.originalType=e,i.mdxType="string"==typeof e?e:o,p[1]=i;for(var l=2;l<r;l++)p[l]=n[l];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}v.displayName="MDXCreateElement"},4812:function(e,t,n){n.r(t),n.d(t,{assets:function(){return k},contentTitle:function(){return d},default:function(){return s},frontMatter:function(){return i},metadata:function(){return l},toc:function(){return u}});var a=n(3117),o=n(102),r=(n(7294),n(4137)),p=["components"],i={title:"P\u0159ehled",sidebar_position:1},d=void 0,l={unversionedId:"private-dns/api/overview",id:"private-dns/api/overview",title:"P\u0159ehled",description:"AdGuard DNS API",source:"@site/i18n/cs/docusaurus-plugin-content-docs/current/private-dns/api/overview.md",sourceDirName:"private-dns/api",slug:"/private-dns/api/overview",permalink:"/KnowledgeBaseDNS/cs/private-dns/api/overview",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBaseDNS/edit/master/docs/private-dns/api/overview.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"P\u0159ehled",sidebar_position:1},sidebar:"sidebar",previous:{title:"P\u0159ehled",permalink:"/KnowledgeBaseDNS/cs/private-dns/overview"},next:{title:"Odkaz",permalink:"/KnowledgeBaseDNS/cs/private-dns/api/reference"}},k={},u=[{value:"AdGuard DNS API",id:"adguard-dns-api",level:2},{value:"Ov\u011b\u0159ov\xe1n\xed",id:"ov\u011b\u0159ov\xe1n\xed",level:2},{value:"Generov\xe1n\xed p\u0159\xedstupov\xe9ho tokenu",id:"generov\xe1n\xed-p\u0159\xedstupov\xe9ho-tokenu",level:3},{value:"P\u0159\xedklad po\u017eadavku",id:"p\u0159\xedklad-po\u017eadavku",level:4},{value:"P\u0159\xedklad odpov\u011bdi",id:"p\u0159\xedklad-odpov\u011bdi",level:4},{value:"Generov\xe1n\xed p\u0159\xedstupov\xe9ho tokenu z obnovovac\xedho tokenu",id:"generov\xe1n\xed-p\u0159\xedstupov\xe9ho-tokenu-z-obnovovac\xedho-tokenu",level:3},{value:"P\u0159\xedklad po\u017eadavku",id:"p\u0159\xedklad-po\u017eadavku-1",level:4},{value:"P\u0159\xedklad odpov\u011bdi",id:"p\u0159\xedklad-odpov\u011bdi-1",level:4},{value:"Odvol\xe1n\xed obnovovac\xedho tokenu",id:"odvol\xe1n\xed-obnovovac\xedho-tokenu",level:3},{value:"P\u0159\xedklad po\u017eadavku",id:"p\u0159\xedklad-po\u017eadavku-2",level:4},{value:"P\u0159\xedstup k rozhran\xed API",id:"p\u0159\xedstup-k-rozhran\xed-api",level:3},{value:"API",id:"api",level:2},{value:"Odkaz",id:"odkaz",level:3},{value:"Specifikace OpenAPI",id:"specifikace-openapi",level:3},{value:"Zp\u011btn\xe1 vazba",id:"zp\u011btn\xe1-vazba",level:2}],v={toc:u};function s(e){var t=e.components,n=(0,o.Z)(e,p);return(0,r.kt)("wrapper",(0,a.Z)({},v,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"adguard-dns-api"},"AdGuard DNS API"),(0,r.kt)("p",null,"AdGuard DNS poskytuje rozhran\xed REST API, kter\xe9 m\u016f\u017eete pou\u017e\xedt k integraci sv\xfdch aplikac\xed."),(0,r.kt)("h2",{id:"ov\u011b\u0159ov\xe1n\xed"},"Ov\u011b\u0159ov\xe1n\xed"),(0,r.kt)("h3",{id:"generov\xe1n\xed-p\u0159\xedstupov\xe9ho-tokenu"},"Generov\xe1n\xed p\u0159\xedstupov\xe9ho tokenu"),(0,r.kt)("p",null,"Prove\u010fte po\u017eadavek POST na n\xe1sleduj\xedc\xed URL s dan\xfdmi parametry a vygenerujte ",(0,r.kt)("inlineCode",{parentName:"p"},"access_token"),":"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"https://api.adguard-dns.io/oapi/v1/oauth_token")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parametr"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Popis"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},"u\u017eiv. jm\xe9no")),(0,r.kt)("td",{parentName:"tr",align:"left"},"E-mail \xfa\u010dtu")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},"heslo")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Heslo \xfa\u010dtu")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"mfa_token"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Dvoufaktorov\xfd ov\u011b\u0159ovac\xed token (pokud je povolen v nastaven\xed \xfa\u010dtu)")))),(0,r.kt)("p",null,"V odpov\u011bdi obdr\u017e\xedte jak ",(0,r.kt)("inlineCode",{parentName:"p"},"access_token"),", tak i ",(0,r.kt)("inlineCode",{parentName:"p"},"refresh_token"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Platnost ",(0,r.kt)("inlineCode",{parentName:"p"},"code_token")," vypr\u0161\xed po n\u011bkolika zadan\xfdch sekund\xe1ch (reprezentovan\xfdch hodnotou parametrem ",(0,r.kt)("inlineCode",{parentName:"p"},"expires_in")," v odpov\u011bdi). M\u016f\u017eete znovu vygenerovat nov\xfd ",(0,r.kt)("inlineCode",{parentName:"p"},"code_token")," pomoc\xed ",(0,r.kt)("inlineCode",{parentName:"p"},"refresh_token")," (viz: ",(0,r.kt)("inlineCode",{parentName:"p"},"Generate Access Token from Refresh Token"),").")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"refresh_token")," je trval\xfd. Odvol\xe1n\xed ",(0,r.kt)("inlineCode",{parentName:"p"},"refresh_token"),", viz: ",(0,r.kt)("inlineCode",{parentName:"p"},"Revoking a Refresh Token"),"."))),(0,r.kt)("h4",{id:"p\u0159\xedklad-po\u017eadavku"},"P\u0159\xedklad po\u017eadavku"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ curl 'https://api.adguard-dns.io/oapi/v1/oauth_token' -i -X POST \\\n    -H 'Content-Type: application/x-www-form-urlencoded' \\\n    -d 'username=user%40adguard.com' \\\n    -d 'password=********' \\\n    -d 'mfa_token=727810'\n")),(0,r.kt)("h4",{id:"p\u0159\xedklad-odpov\u011bdi"},"P\u0159\xedklad odpov\u011bdi"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "jTFho_aymtN20pZR5RRSQAzd81I",\n  "token_type": "bearer",\n  "refresh_token": "H3SW6YFJ-tOPe0FQCM1Jd6VnMiA",\n  "expires_in": 2620978\n}\n')),(0,r.kt)("h3",{id:"generov\xe1n\xed-p\u0159\xedstupov\xe9ho-tokenu-z-obnovovac\xedho-tokenu"},"Generov\xe1n\xed p\u0159\xedstupov\xe9ho tokenu z obnovovac\xedho tokenu"),(0,r.kt)("p",null,"P\u0159\xedstupov\xe9 tokeny maj\xed omezenou platnost. Po vypr\u0161en\xed jeho platnosti bude muset va\u0161e aplikace pou\u017e\xedt ",(0,r.kt)("inlineCode",{parentName:"p"},"refresh_token")," a po\u017e\xe1dat o nov\xfd ",(0,r.kt)("inlineCode",{parentName:"p"},"access_token"),"."),(0,r.kt)("p",null,"Pro z\xedsk\xe1n\xed nov\xe9ho p\u0159\xedstupov\xe9ho tokenu prove\u010fte n\xe1sleduj\xedc\xed po\u017eadavek POST se zadan\xfdmi parametry:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"https://api.adguard-dns.io/oapi/v1/oauth_token")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parametr"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Popis"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},"refresh_token")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"REFRESH TOKEN"),", pomoc\xed kter\xe9ho je t\u0159eba vygenerovat nov\xfd ",(0,r.kt)("inlineCode",{parentName:"td"},"access_token"),".")))),(0,r.kt)("h4",{id:"p\u0159\xedklad-po\u017eadavku-1"},"P\u0159\xedklad po\u017eadavku"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ curl 'https://api.adguard-dns.io/oapi/v1/oauth_token' -i -X POST \\\n    -H 'Content-Type: application/x-www-form-urlencoded' \\\n    -d 'refresh_token=H3SW6YFJ-tOPe0FQCM1Jd6VnMiA'\n")),(0,r.kt)("h4",{id:"p\u0159\xedklad-odpov\u011bdi-1"},"P\u0159\xedklad odpov\u011bdi"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "xQnT7GYT6Ag--3oY_EcOOdXe-I0",\n  "token_type": "bearer",\n  "refresh_token": "H3SW6YFJ-tOPe0FQCM1Jd6VnMiA",\n  "expires_in": 2627999\n}\n')),(0,r.kt)("h3",{id:"odvol\xe1n\xed-obnovovac\xedho-tokenu"},"Odvol\xe1n\xed obnovovac\xedho tokenu"),(0,r.kt)("p",null,"Chcete-li odvolat obnovovac\xed token, prove\u010fte n\xe1sleduj\xedc\xed po\u017eadavek POST s dan\xfdmi parametry:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"https://api.adguard-dns.io/oapi/v1/revoke_token")),(0,r.kt)("h4",{id:"p\u0159\xedklad-po\u017eadavku-2"},"P\u0159\xedklad po\u017eadavku"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ curl 'https://api.adguard-dns.com/oapi/v1/revoke_token' -i -X POST \\\n    -d 'token=H3SW6YFJ-tOPe0FQCM1Jd6VnMiA'\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parametr"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Popis"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"td"},"refresh_token")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"REFRESH TOKEN"),", kter\xfd m\xe1 b\xfdt odvol\xe1n")))),(0,r.kt)("h3",{id:"p\u0159\xedstup-k-rozhran\xed-api"},"P\u0159\xedstup k rozhran\xed API"),(0,r.kt)("p",null,"Po vygenerov\xe1n\xed p\u0159\xedstupov\xfdch a obnovovac\xedch token\u016f lze vol\xe1n\xed API prov\xe1d\u011bt pomoc\xed p\u0159ed\xe1n\xed p\u0159\xedstupov\xe9ho tokenu v z\xe1hlav\xed."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"N\xe1zev z\xe1hlav\xed by m\u011bl b\xfdt ",(0,r.kt)("inlineCode",{parentName:"li"},"Autorization")),(0,r.kt)("li",{parentName:"ul"},"Hodnota z\xe1hlav\xed by m\u011bla b\xfdt ",(0,r.kt)("inlineCode",{parentName:"li"},"Bearer {access_token}"))),(0,r.kt)("h2",{id:"api"},"API"),(0,r.kt)("h3",{id:"odkaz"},"Odkaz"),(0,r.kt)("p",null,"Viz odkaz na metody ",(0,r.kt)("a",{parentName:"p",href:"/KnowledgeBaseDNS/cs/private-dns/api/reference"},"zde"),"."),(0,r.kt)("h3",{id:"specifikace-openapi"},"Specifikace OpenAPI"),(0,r.kt)("p",null,"Specifikace OpenAPI je k dispozici na ",(0,r.kt)("a",{parentName:"p",href:"https://api.adguard-dns.io/static/swagger/openapi.json"},"https://api.adguard-dns.io/static/swagger/openapi.json"),"."),(0,r.kt)("p",null,"K zobrazen\xed seznamu dostupn\xfdch metod API m\u016f\u017eete pou\u017e\xedt r\u016fzn\xe9 n\xe1stroje. Tento soubor m\u016f\u017eete otev\u0159\xedt nap\u0159\xedklad v ",(0,r.kt)("a",{parentName:"p",href:"https://editor.swagger.io/"},"https://editor.swagger.io/"),"."),(0,r.kt)("h2",{id:"zp\u011btn\xe1-vazba"},"Zp\u011btn\xe1 vazba"),(0,r.kt)("p",null,"Pokud si p\u0159ejete, aby bylo toto rozhran\xed API roz\u0161\xed\u0159eno o nov\xe9 metody, napi\u0161te n\xe1m pros\xedm na adresu. ",(0,r.kt)("inlineCode",{parentName:"p"},"devteam@adguard.com")," a sd\u011blte n\xe1m, co byste cht\u011bli p\u0159idat."))}s.isMDXComponent=!0}}]);