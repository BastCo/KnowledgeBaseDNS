"use strict";(self.webpackChunkadguard_dns_knowledge_base=self.webpackChunkadguard_dns_knowledge_base||[]).push([[507],{5680:(e,n,a)=>{a.d(n,{xA:()=>g,yg:()=>y});var i=a(6540);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function t(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,i)}return a}function l(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?t(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function p(e,n){if(null==e)return{};var a,i,r=function(e,n){if(null==e)return{};var a,i,r={},t=Object.keys(e);for(i=0;i<t.length;i++)a=t[i],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(i=0;i<t.length;i++)a=t[i],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=i.createContext({}),m=function(e){var n=i.useContext(d),a=n;return e&&(a="function"==typeof e?e(n):l(l({},n),e)),a},g=function(e){var n=m(e.components);return i.createElement(d.Provider,{value:n},e.children)},o="mdxType",s={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},u=i.forwardRef((function(e,n){var a=e.components,r=e.mdxType,t=e.originalType,d=e.parentName,g=p(e,["components","mdxType","originalType","parentName"]),o=m(a),u=r,y=o["".concat(d,".").concat(u)]||o[u]||s[u]||t;return a?i.createElement(y,l(l({ref:n},g),{},{components:a})):i.createElement(y,l({ref:n},g))}));function y(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var t=a.length,l=new Array(t);l[0]=u;var p={};for(var d in n)hasOwnProperty.call(n,d)&&(p[d]=n[d]);p.originalType=e,p[o]="string"==typeof e?e:r,l[1]=p;for(var m=2;m<t;m++)l[m]=a[m];return i.createElement.apply(null,l)}return i.createElement.apply(null,a)}u.displayName="MDXCreateElement"},7736:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>s,frontMatter:()=>t,metadata:()=>p,toc:()=>m});var i=a(9668),r=(a(6540),a(5680));const t={title:"Syntax der DNS-Filterregeln",sidebar_position:2,toc_min_heading_level:2,toc_max_heading_level:4},l=void 0,p={unversionedId:"general/dns-filtering-syntax",id:"general/dns-filtering-syntax",title:"Syntax der DNS-Filterregeln",description:"Hier zeigen wir Ihnen, wie Sie eigene DNS-Filterregeln f\xfcr die Verwendung in AdGuard-Produkten erstellen k\xf6nnen.",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/general/dns-filtering-syntax.md",sourceDirName:"general",slug:"/general/dns-filtering-syntax",permalink:"/KnowledgeBaseDNS/de/general/dns-filtering-syntax",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBaseDNS/edit/master/docs/general/dns-filtering-syntax.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Syntax der DNS-Filterregeln",sidebar_position:2,toc_min_heading_level:2,toc_max_heading_level:4},sidebar:"sidebar",previous:{title:"DNS-Filterung",permalink:"/KnowledgeBaseDNS/de/general/dns-filtering"},next:{title:"Bekannte DNS-Anbieter",permalink:"/KnowledgeBaseDNS/de/general/dns-providers"}},d={},m=[{value:"Einf\xfchrung",id:"introduction",level:2},{value:"Allgemeine Beispiele",id:"basic-examples",level:2},{value:"Syntax im Adblock-Stil",id:"adblock-style-syntax",level:2},{value:"Sonderzeichen",id:"special-characters",level:3},{value:"Regul\xe4re Ausdr\xfccke",id:"regular-expressions",level:3},{value:"Kommentare",id:"comments",level:3},{value:"Regel-Modifikatoren",id:"rule-modifiers",level:3},{value:"<code>client</code>",id:"client-modifier",level:4},{value:"<code>denyallow</code>",id:"denyallow-modifier",level:4},{value:"<code>dnstype</code>",id:"dnstype-modifier",level:4},{value:"<code>dnsrewrite</code>",id:"dnsrewrite-modifier",level:4},{value:"<code>important</code>",id:"important-modifier",level:4},{value:"<code>badfilter</code>",id:"badfilter-modifier",level:4},{value:"<code>ctag</code>",id:"ctag-modifier",level:4},{value:"<code>/etc/hosts</code>-Style-Syntax",id:"etc-hosts-syntax",level:2},{value:"Nur-Domain-Syntax",id:"domains-only-syntax",level:2},{value:"Hostlists Compiler",id:"hostlist-compiler",level:2}],g={toc:m},o="wrapper";function s(e){let{components:n,...a}=e;return(0,r.yg)(o,(0,i.A)({},g,a,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("admonition",{type:"info"},(0,r.yg)("p",{parentName:"admonition"},"Hier zeigen wir Ihnen, wie Sie eigene DNS-Filterregeln f\xfcr die Verwendung in AdGuard-Produkten erstellen k\xf6nnen."),(0,r.yg)("p",{parentName:"admonition"},"Schnellzugriff: ",(0,r.yg)("a",{parentName:"p",href:"https://agrd.io/download-kb-adblock"},"AdGuard Werbeblocker herunterladen"),", ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardHome#getting-started"},"AdGuard Home erhalten"),", ",(0,r.yg)("a",{parentName:"p",href:"https://agrd.io/download-dns"},"AdGuard DNS ausprobieren"))),(0,r.yg)("h2",{id:"introduction"},"Einf\xfchrung"),(0,r.yg)("p",null,"Sie k\xf6nnen die Syntax der AdGuard DNS-Filterregeln verwenden, um die Regeln flexibler zu gestalten, so dass sie Inhalte nach Ihren W\xfcnschen sperren k\xf6nnen. Die Syntax der AdGuard DNS-Filterregeln kann in verschiedenen AdGuard-Produkten wie AdGuard Home, AdGuard DNS, AdGuard f\xfcr Windows/Mac/Android verwendet werden."),(0,r.yg)("p",null,"Es gibt drei verschiedene Ans\xe4tze f\xfcr die Erstellung von Hosts-Sperrlisten:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("a",{parentName:"p",href:"#adblock-style-syntax"},"Adblock-Syntax"),": der moderne Ansatz zum Schreiben von Filterregeln, der auf der Verwendung einer Untermenge der Adblock-Syntax basiert. Auf diese Weise sind die Blocklisten mit den Werbeblockern der Browser kompatibel.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("a",{parentName:"p",href:"#etc-hosts-syntax"},(0,r.yg)("inlineCode",{parentName:"a"},"/etc/hosts")," syntax"),": Der alte, bew\xe4hrte Ansatz, der die gleiche Syntax verwendet, die auch die Betriebssysteme f\xfcr ihre hosts-Dateien verwenden.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("a",{parentName:"p",href:"#domains-only-syntax"},"Domains-only-Syntax"),": eine einfache Liste von Domainnamen."))),(0,r.yg)("p",null,"Wenn Sie eine Sperrliste erstellen, empfehlen wir, die Syntax ",(0,r.yg)("a",{parentName:"p",href:"#adblock-style-syntax"},"im Stil von Adblock zu verwenden"),". Sie hat eine Reihe wichtiger Vorteile gegen\xfcber der alten Syntax:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Gr\xf6\xdfe der Sperrlisten.")," Durch die Verwendung des Musterabgleichs k\xf6nnen Sie eine einzige Regel anstelle von Hunderten von ",(0,r.yg)("inlineCode",{parentName:"p"},"/etc/hosts")," Eintr\xe4gen verwenden.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Kompatibilit\xe4t.")," Ihre Blockliste ist mit Werbeblockern von Browsern kompatibel, und es ist einfacher, Regeln mit einer Browser-Filterliste auszutauschen.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Erweiterbarkeit.")," In den letzten zehn Jahren hat sich die Adblock-Syntax stark weiterentwickelt, und wir sehen keinen Grund, sie nicht noch weiter zu erweitern und zus\xe4tzliche Funktionen f\xfcr Blocker auf Netzwerkebene anzubieten."))),(0,r.yg)("p",null,"Wenn Sie entweder eine Blockliste im Stil von ",(0,r.yg)("inlineCode",{parentName:"p"},"/etc/hosts")," oder mehrere Filterlisten (unabh\xe4ngig vom Typ) verwalten, bieten wir ein Werkzeug zur Zusammenstellung von Blocklisten. Wir haben ihn \u201e",(0,r.yg)("a",{parentName:"p",href:"https://github.com/AdguardTeam/HostlistCompiler"},"Hostlist Compiler"),"\u201c genannt und verwenden ihn selbst, um ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/AdguardTeam/AdGuardSDNSFilter"},"AdGuard DNS Filter")," zu erstellen."),(0,r.yg)("h2",{id:"basic-examples"},"Allgemeine Beispiele"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.org^"),": sperrt den Zugriff auf die Domain ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org")," und alle ihre Subdomains, wie ",(0,r.yg)("inlineCode",{parentName:"p"},"www.example.org"),".")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"@@|| example.org^"),": Entsperren Sie den Zugriff auf die ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org"),"-Domain und alle ihre Subdomains.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"1.2.3.4 example.org"),": (Achtung, alte ",(0,r.yg)("inlineCode",{parentName:"p"},"/etc/hosts"),"-style Syntax) in AdGuard Home, antwortet mit ",(0,r.yg)("inlineCode",{parentName:"p"},"1.2.3.4")," auf Anfragen nach der ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org")," Domain, aber ",(0,r.yg)("strong",{parentName:"p"},"nicht")," deren Subdomains. Blockieren Sie im Private AdGuard DNS den Zugriff auf ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org"),". ",(0,r.yg)("inlineCode",{parentName:"p"},"www.example.org")," bleibt erlaubt."),(0,r.yg)("p",{parentName:"li"},"In AdGuard Home ist die Verwendung der nicht spezifizierten IP-Adresse (",(0,r.yg)("inlineCode",{parentName:"p"},"0.0.0.0"),") oder einer lokalen Adresse (",(0,r.yg)("inlineCode",{parentName:"p"},"127.0.0.1")," und \xe4hnliche) f\xfcr einen Host im Grunde dasselbe wie das Blockieren dieses Hosts."),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-none"},"# Gibt die IP-Adresse 1.2.3.4 f\xfcr example.org zur\xfcck.\n1.2.3.4 example.org\n# Blockiert example.org, indem es mit 0.0.0.0 antwortet.\n0.0.0.0 example.org\n"))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"example.org"),": eine einfache Domainregel. Blockiert die Domain ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org"),", aber ",(0,r.yg)("strong",{parentName:"p"},"nicht")," ihre Subdomains. ",(0,r.yg)("inlineCode",{parentName:"p"},"www.example.org")," bleibt erlaubt.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"! Hier kommt ein Kommentar")," und ",(0,r.yg)("inlineCode",{parentName:"p"},"# Auch ein Kommentar"),": Kommentare.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"/REGEX/"),": blockiert den Zugriff auf die Domains, die dem angegebenen regul\xe4ren Ausdruck entsprechen."))),(0,r.yg)("h2",{id:"adblock-style-syntax"},"Syntax im Adblock-Stil"),(0,r.yg)("p",null,"Dies ist eine Teilmenge der ",(0,r.yg)("a",{parentName:"p",href:"https://adguard.com/kb/general/ad-filtering/create-own-filters/"},"traditionellen Adblock-Syntax"),", die von den Werbeblockern der Browser verwendet wird."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},'     Regel = ["@@"] pattern [ "$" modifiers ]\nModifikator = [modifier0, modifier1[, ...[, modifierN]]]\n')),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"pattern"),": die Hostnamenmaske. Jeder Hostname wird mit dieser Maske abgeglichen. Das Muster kann auch Sonderzeichen enthalten, die im Folgenden beschrieben werden.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"@@"),": die Markierung, die in den Ausnahmeregeln verwendet wird. Beginnen Sie Ihre Regel mit dieser Markierung, wenn Sie die Filterung f\xfcr die entsprechenden Hostnamen ausschalten wollen.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"modifiers"),": Parameter, die die Regel verdeutlichen. Sie k\xf6nnen den Geltungsbereich der Regel einschr\xe4nken oder sogar ihre Funktionsweise vollst\xe4ndig \xe4ndern."))),(0,r.yg)("h3",{id:"special-characters"},"Sonderzeichen"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"*"),": das Platzhalterzeichen. Es wird verwendet, um eine beliebige Menge von Zeichen darzustellen. Dies kann auch eine leere Zeichenkette oder eine Zeichenkette mit beliebiger L\xe4nge sein.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||"),": stimmt mit dem Anfang eines Hostnamens \xfcberein, einschlie\xdflich aller Subdomains. Zum Beispiel stimmt ",(0,r.yg)("inlineCode",{parentName:"p"},"||example.org")," mit ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org")," und ",(0,r.yg)("inlineCode",{parentName:"p"},"test.example.org")," \xfcberein, aber nicht mit ",(0,r.yg)("inlineCode",{parentName:"p"},"testexample.org"),".")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"^"),": das Trennzeichen. Anders als bei der Werbeblockierung in Browsern gibt es in einem Hostnamen nichts zu trennen, so dass der einzige Zweck dieses Zeichens darin besteht, das Ende des Hostnamens zu markieren.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"|"),": ein Zeiger auf den Anfang oder das Ende des Hostnamens. Der Wert h\xe4ngt von der Platzierung des Zeichens in der Maske ab. Die Regel ",(0,r.yg)("inlineCode",{parentName:"p"},"ample.org|")," entspricht zum Beispiel ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org"),", aber nicht ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org.com"),". ",(0,r.yg)("inlineCode",{parentName:"p"},"|example")," entspricht ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org")," aber nicht ",(0,r.yg)("inlineCode",{parentName:"p"},"test.example"),"."))),(0,r.yg)("h3",{id:"regular-expressions"},"Regul\xe4re Ausdr\xfccke"),(0,r.yg)("p",null,"Wenn Sie bei der Erstellung von Regeln noch flexibler sein wollen, k\xf6nnen Sie ",(0,r.yg)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions"},"regul\xe4re Ausdr\xfccke")," anstelle der standardm\xe4\xdfigen vereinfachten Syntax verwenden. Wenn Sie einen regul\xe4ren Ausdruck verwenden wollen, muss das Muster wie folgt aussehen:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},'pattern = "/" regexp "/"\n')),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Beispiele:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"/example.*/")," sperrt Hosts, die mit der Regexp ",(0,r.yg)("inlineCode",{parentName:"p"},"example.*")," \xfcbereinstimmen.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"@@/example.*/$important")," hebt die Sperrung von Hosts auf, die mit dem Regexp ",(0,r.yg)("inlineCode",{parentName:"p"},"example.*")," \xfcbereinstimmen. Beachten Sie, dass diese Regel auch den ",(0,r.yg)("inlineCode",{parentName:"p"},"wichtigen")," Modifikator impliziert."))),(0,r.yg)("h3",{id:"comments"},"Kommentare"),(0,r.yg)("p",null,"Jede Zeile, die mit einem Ausrufezeichen oder einem Rautenzeichen beginnt, ist ein Kommentar und wird von der Filterfunktion ignoriert. Kommentare werden in der Regel oberhalb der Regeln platziert und dienen dazu, die Funktion einer Regel zu beschreiben."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Beispiel:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"! Dies ist ein Kommentar.\n# Dies ist auch ein Kommentar.\n")),(0,r.yg)("h3",{id:"rule-modifiers"},"Regel-Modifikatoren"),(0,r.yg)("p",null,"Sie k\xf6nnen das Verhalten einer Regel \xe4ndern, indem Sie Modifikatoren hinzuf\xfcgen. Modifikatoren m\xfcssen am Ende der Regel nach dem Zeichen ",(0,r.yg)("inlineCode",{parentName:"p"},"$")," stehen und durch Kommata getrennt sein."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Beispiele:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-none",metastring:"||example.org^$important","||example.org^$important":!0},"")),(0,r.yg)("p",{parentName:"li"},"||example.org^",(0,r.yg)("inlineCode",{parentName:"p"},"ist das passende Muster."),"$` ist das Trennzeichen, das signalisiert, dass der Rest der Regel Modifikatoren sind. \u201eimportant\u201c ist der Modifikator.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"M\xf6glicherweise m\xf6chten Sie mehrere Modifikatoren in einer Regel verwenden. In diesem Fall sind sie durch Kommata zu trennen:"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-none"},"||example.org^$client=127.0.0.1,dnstype=A\n")),(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.org^")," ist das passende Muster. ",(0,r.yg)("inlineCode",{parentName:"p"},"$")," ist das Trennzeichen, das signalisiert, dass der Rest der Regel Modifikatoren sind. ",(0,r.yg)("inlineCode",{parentName:"p"},"client=127.0.0.1")," ist der ",(0,r.yg)("a",{parentName:"p",href:"#client-modifier"},(0,r.yg)("inlineCode",{parentName:"a"},"client"))," Modifikator mit seinem Wert, ",(0,r.yg)("inlineCode",{parentName:"p"},"127.0.0.1"),", ist das Trennzeichen. Und schlie\xdflich ist ",(0,r.yg)("inlineCode",{parentName:"p"},"dnstype=A")," der Modifikator ",(0,r.yg)("a",{parentName:"p",href:"#dnstype-modifier"},(0,r.yg)("inlineCode",{parentName:"a"},"dnstype"))," mit seinem Wert ",(0,r.yg)("inlineCode",{parentName:"p"},"A"),"."))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Hinweis:")," Wenn eine Regel einen Modifikator enth\xe4lt, der nicht in diesem Dokument aufgef\xfchrt ist, wird die gesamte Regel ",(0,r.yg)("strong",{parentName:"p"},"nicht ber\xfccksichtigt"),". Auf diese Weise vermeiden wir fehlerhafte Ergebnisse, wenn Nutzer:innen versuchen, die Filterlisten von unver\xe4nderten Werbeblockern wie \u201eEasyList\u201d oder \u201eEasyPrivacy\u201d zu verwenden."),(0,r.yg)("h4",{id:"client-modifier"},(0,r.yg)("inlineCode",{parentName:"h4"},"client")),(0,r.yg)("p",null,"Der Modifikator ",(0,r.yg)("inlineCode",{parentName:"p"},"client")," erm\xf6glicht die Angabe von Clients, auf die diese Regel angewendet werden soll. Es gibt zwei Hauptmethoden, um einen Client zu identifizieren:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Durch ihre IP-Adresse oder ihr CIDR-Pr\xe4fix. Dies funktioniert f\xfcr alle Arten von Clients.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Durch ihren Namen. Auf diese Weise funktioniert das nur mit permanenten Clients (in AdGuard Home) und Ger\xe4ten (in Private AdguardDNS), welche Sie manuell hinzugef\xfcgt haben."),(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"ANMERKUNG:")," In AdGuard Home werden momentan nur Namen und keine \u201eClientIDs\u201d unterst\xfctzt. Wenn Sie einen Client mit dem Namen \u201eMein Client\u201d und der \u201eClientID\u201d ",(0,r.yg)("inlineCode",{parentName:"p"},"mein-client")," hinzugef\xfcgt haben, benennen Sie ihren Modifikator mit \u201e",(0,r.yg)("inlineCode",{parentName:"p"},"$client='Mein Client'"),"\u201d anstelle von \u201e",(0,r.yg)("inlineCode",{parentName:"p"},"$client=mein-client"),"\u201d."))),(0,r.yg)("p",null,"Die Syntax lautet:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"$client=value1|value2|...\n")),(0,r.yg)("p",null,"Sie k\xf6nnen auch Clients ausschlie\xdfen, indem Sie ",(0,r.yg)("inlineCode",{parentName:"p"},"~")," vor dem Wert einf\xfcgen. In diesem Fall, wird die Regel nicht auf die DNS-Anfragen dieses Clients angewandt."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"$client=~value1\n")),(0,r.yg)("p",null,"Client-Namen enthalten in der Regel Leerzeichen oder andere Sonderzeichen, weshalb Sie den Namen in Anf\xfchrungszeichen setzen sollten. Sowohl einfache (",(0,r.yg)("inlineCode",{parentName:"p"},"'Name'"),") als auch doppelte (",(0,r.yg)("inlineCode",{parentName:"p"},'"Name"'),") ASCII Anf\xfchrungszeichen werden unterst\xfctzt. Verwenden Sie den Backslash (",(0,r.yg)("inlineCode",{parentName:"p"},"\\"),"), um Anf\xfchrungszeichen (",(0,r.yg)("inlineCode",{parentName:"p"},'"')," und ",(0,r.yg)("inlineCode",{parentName:"p"},"'"),"), Kommata (",(0,r.yg)("inlineCode",{parentName:"p"},","),") und Pipes (",(0,r.yg)("inlineCode",{parentName:"p"},"|"),") zu vermeiden."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"HINWEIS:")," Wenn Sie einen Client ausschlie\xdfen, m\xfcssen Sie **** ",(0,r.yg)("inlineCode",{parentName:"p"},"~")," au\xdferhalb der Anf\xfchrungszeichen platzieren."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Beispiele:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"@@||*^$client=127.0.0.1"),": alles f\xfcr localhost freigeben.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.org^$client='Frank\\'s laptop'"),": sperrt ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org")," nur f\xfcr den Client mit dem Namen ",(0,r.yg)("inlineCode",{parentName:"p"},"Frank's Laptop"),". Beachten Sie, dass Anf\xfchrungszeichen (",(0,r.yg)("inlineCode",{parentName:"p"},"'"),") im Namen mit einem Escape-Zeichen versehen werden m\xfcssen.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.org^$client=~'Mary\\'s\\, John\\'s\\, und Boris\\'s laptops'"),": sperrt ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org")," f\xfcr alle au\xdfer f\xfcr den Client namens ",(0,r.yg)("inlineCode",{parentName:"p"},"Mary's, John's, and Boris's Laptops"),". Beachten Sie, dass das Komma (",(0,r.yg)("inlineCode",{parentName:"p"},","),") ebenfalls mit einem Escapezeichen versehen werden muss.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.org^$client=~Mom|~Dad|Kids"),": sperrt",(0,r.yg)("inlineCode",{parentName:"p"},"example.org")," f\xfcr ",(0,r.yg)("inlineCode",{parentName:"p"},"Kids"),", aber nicht f\xfcr ",(0,r.yg)("inlineCode",{parentName:"p"},"Mom")," und ",(0,r.yg)("inlineCode",{parentName:"p"},"Dad"),". Dieses Beispiel zeigt, wie man mehrere Clients in einer Regel angeben kann.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.org^$client=192.168.0.0/24"),": sperrt ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org")," f\xfcr alle Clients mit IP-Adressen im Bereich von ",(0,r.yg)("inlineCode",{parentName:"p"},"192.168.0.0")," bis ",(0,r.yg)("inlineCode",{parentName:"p"},"192.168.0.255"),"."))),(0,r.yg)("h4",{id:"denyallow-modifier"},(0,r.yg)("inlineCode",{parentName:"h4"},"denyallow")),(0,r.yg)("p",null,"Sie k\xf6nnen den Modifikator ",(0,r.yg)("inlineCode",{parentName:"p"},"denyallow")," verwenden, um Domains von der Sperrregel auszuschlie\xdfen. Um mehrere Domains zu einer Regel hinzuzuf\xfcgen, verwenden Sie das Pipe-Zeichen ",(0,r.yg)("inlineCode",{parentName:"p"},"|")," als Trennzeichen."),(0,r.yg)("p",null,"Die Syntax lautet:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"$denyallow=domain1|domain2|...\n")),(0,r.yg)("p",null,"Dieser Modifikator erm\xf6glicht es, die Erstellung unn\xf6tiger Ausnahmeregeln zu vermeiden, wenn unsere Sperrregeln zu viele Domains abdecken. Vielleicht m\xf6chten Sie alles bis auf ein paar TLD-Domains sperren. Sie k\xf6nnten den Standardansatz verwenden, d. h. Regeln wie diese:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"! Alles blockieren.\n/.*/\n\n! Entsperren Sie einige TLDs.\n@@||com^\n@@||net^\n")),(0,r.yg)("p",null,"Das Problem bei diesem Ansatz ist, dass Sie auf diese Weise auch Tracking-Domains freigeben, die sich auf diesen TLDs befinden (z. B. ",(0,r.yg)("inlineCode",{parentName:"p"},"google-analytics.com"),"). Hier ist die L\xf6sung f\xfcr dieses Problem mit ",(0,r.yg)("inlineCode",{parentName:"p"},"denyallow"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"*$denyallow=com|net\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Beispiele:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"*$denyallow=com|net"),": sperrt alles au\xdfer ",(0,r.yg)("inlineCode",{parentName:"p"},"*.com")," und ",(0,r.yg)("inlineCode",{parentName:"p"},"*.net"),".")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"@@*$denyallow=com|net"),": entsperrt alles au\xdfer ",(0,r.yg)("inlineCode",{parentName:"p"},"*.com")," und ",(0,r.yg)("inlineCode",{parentName:"p"},"*.net"),".")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.org^$denyallow=sub.example.org"),". sperrt ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org")," und ",(0,r.yg)("inlineCode",{parentName:"p"},"*.example.org"),", aber nicht ",(0,r.yg)("inlineCode",{parentName:"p"},"sub.example.org"),"."))),(0,r.yg)("h4",{id:"dnstype-modifier"},(0,r.yg)("inlineCode",{parentName:"h4"},"dnstype")),(0,r.yg)("p",null,"Mit dem Modifikator ",(0,r.yg)("inlineCode",{parentName:"p"},"dnstype")," kann der Typ der DNS-Anfrage oder -Antwort angegeben werden, bei dem diese Regel ausgel\xf6st wird."),(0,r.yg)("p",null,"Die Syntax lautet:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"$dnstype=value1|value2|...\n$dnstype=~value1|~value2|~...\n")),(0,r.yg)("p",null,"Bei Namen der Typen wird nicht zwischen Gro\xdf- und Kleinschreibung unterschieden, sondern sie werden anhand einer Reihe von tats\xe4chlichen DNS-Ressourcendatensatztypen (RR) validiert."),(0,r.yg)("p",null,"Kombinieren Sie keine Ausschlussregeln mit Einschlussregeln. Dies:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"$dnstype=~value1|value2\n")),(0,r.yg)("p",null,"ist gleichbedeutend mit diesem:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"$dnstype=value2\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Beispiele:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.org^$dnstype=AAAA"),": sperrt DNS-Anfragen f\xfcr die IPv6-Adressen von ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org"),".")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.org^$dnstype=~A|~CNAME"),": erlaubt ausschlie\xdflich ",(0,r.yg)("inlineCode",{parentName:"p"},"A")," und ",(0,r.yg)("inlineCode",{parentName:"p"},"CNAME")," DNS-Anfragen f\xfcr ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org"),", der Rest wird gesperrt."))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"HINWEIS:")," Vor der Version ",(0,r.yg)("strong",{parentName:"p"},"v0.108.0")," verwendete AdGuard Home den Typ der Anfrage, um die Antwortdatens\xe4tze zu filtern, und nicht den Typ des Antwortdatensatzes selbst.  Das f\xfchrte zu Problemen, da dies bedeutete, dass man keine Regeln schreiben konnte, die bestimmte ",(0,r.yg)("inlineCode",{parentName:"p"},"CNAME"),"-Datens\xe4tze in Antworten auf ",(0,r.yg)("inlineCode",{parentName:"p"},"A"),"- und ",(0,r.yg)("inlineCode",{parentName:"p"},"AAAA"),"-Anfragen zulie\xdfen. In ",(0,r.yg)("strong",{parentName:"p"},"v0.108.0")," wurde dieses Verhalten ge\xe4ndert, so dass jetzt dieses:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"||canon.example.com^$dnstype=~CNAME\n")),(0,r.yg)("p",null,"erlaubt es, die Filterung der folgenden Antwort zu vermeiden:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"ANSWERS:\n->  example.com\n    canonical name = canon.example.com.\n    ttl = 60\n->  canon.example.com\n    internet address = 1.2.3.4\n    ttl = 60\n")),(0,r.yg)("h4",{id:"dnsrewrite-modifier"},(0,r.yg)("inlineCode",{parentName:"h4"},"dnsrewrite")),(0,r.yg)("p",null,"Der ",(0,r.yg)("inlineCode",{parentName:"p"},"dnsrewrite"),"-Antwortmodifikator erlaubt es, den Inhalt der Antwort auf die DNS-Anfrage f\xfcr die entsprechenden Hosts zu ersetzen. Beachten Sie, dass dieser Modifikator in AdGuard Home in allen Regeln funktioniert, in Private AdGuard DNS jedoch nur in benutzerdefinierten Regeln."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Regeln mit dem Antwortmodifikator ",(0,r.yg)("inlineCode",{parentName:"strong"},"dnsrewrite")," haben eine h\xf6here Priorit\xe4t als andere Regeln in AdGuard Home.")),(0,r.yg)("p",null,"Die Kurzsyntax lautet:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"$dnsrewrite=1.2.3.4\n$dnsrewrite=abcd::1234\n$dnsrewrite=example.net\n$dnsrewrite=REFUSED\n")),(0,r.yg)("p",null,"Die Schl\xfcsselw\xf6rter M\xdcSSEN in Gro\xdfbuchstaben geschrieben werden (z.B. ",(0,r.yg)("inlineCode",{parentName:"p"},"NOERROR"),"). Das Umschreiben von Schl\xfcsselw\xf6rtern hat Vorrang vor den anderen und f\xfchrt zu einer leeren Antwort mit einem entsprechenden Antwortcode."),(0,r.yg)("p",null,"Die vollst\xe4ndige Syntax hat die Form ",(0,r.yg)("inlineCode",{parentName:"p"},"RCODE;RRTYPE;VALUE"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"$dnsrewrite=NOERROR;A;1.2.3.4\n$dnsrewrite=NOERROR;AAAA;abcd::1234\n$dnsrewrite=NOERROR;CNAME;example.net\n$dnsrewrite=REFUSED;;\n")),(0,r.yg)("p",null,"Der Modifikator ",(0,r.yg)("inlineCode",{parentName:"p"},"$dnsrewrite")," mit dem Antwortcode ",(0,r.yg)("inlineCode",{parentName:"p"},"NOERROR")," kann auch leere ",(0,r.yg)("inlineCode",{parentName:"p"},"RRTYPE")," und ",(0,r.yg)("inlineCode",{parentName:"p"},"VALUE")," Felder haben."),(0,r.yg)("p",null,"Der ",(0,r.yg)("inlineCode",{parentName:"p"},"CNAME")," ist besonders, weil AdGuard Home den Host aufl\xf6st und seine Informationen in die Antwort einf\xfcgt. Das hei\xdft, wenn ",(0,r.yg)("inlineCode",{parentName:"p"},"example.net")," die IP ",(0,r.yg)("inlineCode",{parentName:"p"},"1.2.3.4"),"hat, und der Benutzer dies in seinen Filterregeln hat:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"||example.com^$dnsrewrite=example.net\n! Oder:\n||example.com^$dnsrewrite=NOERROR;CNAME;example.net\n")),(0,r.yg)("p",null,"dann lautet die Antwort etwa so:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"nslookup example.com my.adguard.local\n")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"Server: my.adguard.local\nAdresse: 127.0.0.1#53\n\nNicht-autoritative Antwort:\nexample.com kanonischer Name = example.net\nName: example.net\nAdresse: 1.2.3.4\n")),(0,r.yg)("p",null,"Als n\xe4chstes wird der ",(0,r.yg)("inlineCode",{parentName:"p"},"CNAME")," umgeschrieben. Danach werden die Werte aller anderen Datens\xe4tze als eine Antwort summiert, also dies:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"||example.com^$dnsrewrite=NOERROR;A;1.2.3.4\n||example.com^$dnsrewrite=NOERROR;A;1.2.3.5\n")),(0,r.yg)("p",null,"f\xfchrt zu einer Antwort mit zwei ",(0,r.yg)("inlineCode",{parentName:"p"},"A"),"-Datens\xe4tzen."),(0,r.yg)("p",null,"Derzeit unterst\xfctzte RR-Typen mit Beispielen:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||4.3.2.1.in-addr.arpa^$dnsrewrite=NOERROR;PTR;example.net.")," adds a ",(0,r.yg)("inlineCode",{parentName:"p"},"PTR")," record for reverse DNS. Reverse-DNS-Anfragen f\xfcr ",(0,r.yg)("inlineCode",{parentName:"p"},"1.2.3.4")," an den DNS-Server ergeben ",(0,r.yg)("inlineCode",{parentName:"p"},"example.net"),"."),(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"HINWEIS:")," Die IP MUSS in umgekehrter Reihenfolge angegeben werden. Siehe ",(0,r.yg)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc1035#section-3.5"},"RFC 1035"),".")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.com^$dnsrewrite=NOERROR;A;1.2.3.4")," f\xfcgt einen ",(0,r.yg)("inlineCode",{parentName:"p"},"A"),"-Datensatz hinzu mit dem Wert ",(0,r.yg)("inlineCode",{parentName:"p"},"1.2.3.4"),".")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.com^$dnsrewrite=NOERROR;AAAA;abcd::1234")," f\xfcgt einen ",(0,r.yg)("inlineCode",{parentName:"p"},"AAAA"),"-Datensatz mit dem Wert ",(0,r.yg)("inlineCode",{parentName:"p"},"abcd::1234")," hinzu.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.com^$dnsrewrite=NOERROR;CNAME;example.org")," f\xfcgt einen ",(0,r.yg)("inlineCode",{parentName:"p"},"CNAME"),"-Eintrag hinzu. Siehe obige Erkl\xe4rung.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.com^$dnsrewrite=NOERROR;HTTPS;32 example.com alpn=h3")," f\xfcgt einen ",(0,r.yg)("inlineCode",{parentName:"p"},"HTTPS"),"-Eintrag hinzu. Es wird nur eine Teilmenge von Parameterwerten unterst\xfctzt: Die Werte m\xfcssen ",(0,r.yg)("inlineCode",{parentName:"p"},"zusammenh\xe4ngend")," sein und wenn eine ",(0,r.yg)("inlineCode",{parentName:"p"},"Werteliste")," ",(0,r.yg)("inlineCode",{parentName:"p"},"erwartet")," wird, wird derzeit nur ein Wert unterst\xfctzt:"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-none"},'ipv4hint=127.0.0.1             // Unterst\xfctzt.\nipv4hint="127.0.0.1"           // Nicht unterst\xfctzt.\nipv4hint=127.0.0.1,127.0.0.2   // Nicht unterst\xfctzt.\nipv4hint="127.0.0.1,127.0.0.2" // Nicht unterst\xfctzt.\n')),(0,r.yg)("p",{parentName:"li"},"Dies soll in Zukunft ge\xe4ndert werden.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.com^$dnsrewrite=NOERROR;MX;32 example.mail")," f\xfcgt einen ",(0,r.yg)("inlineCode",{parentName:"p"},"MX"),"-Eintrag mit dem Priorit\xe4tswert ",(0,r.yg)("inlineCode",{parentName:"p"},"32")," und dem Austauschwert ",(0,r.yg)("inlineCode",{parentName:"p"},"example.mail")," hinzu.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.com^$dnsrewrite=NOERROR;SVCB;32 example.com alpn=h3")," f\xfcgt einen ",(0,r.yg)("inlineCode",{parentName:"p"},"SVCB"),"-Wert hinzu. Siehe das obige ",(0,r.yg)("inlineCode",{parentName:"p"},"HTTPS"),"-Beispiel.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.com^$dnsrewrite=NOERROR;TXT;hello_world")," f\xfcgt einen ",(0,r.yg)("inlineCode",{parentName:"p"},"TXT"),"-Datensatz mit dem Wert ",(0,r.yg)("inlineCode",{parentName:"p"},"hello_world"),"hinzu.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||_svctype._tcp.example.com^$dnsrewrite=NOERROR;SRV;10 60 8080 example.com")," f\xfcgt einen ",(0,r.yg)("inlineCode",{parentName:"p"},"SRV"),"-Eintrag mit dem Priorit\xe4tswert ",(0,r.yg)("inlineCode",{parentName:"p"},"10"),", dem Gewichtswert ",(0,r.yg)("inlineCode",{parentName:"p"},"60"),", dem Port",(0,r.yg)("inlineCode",{parentName:"p"},"8080"),"und dem Zielwert ",(0,r.yg)("inlineCode",{parentName:"p"},"example.com")," hinzu.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.com^$dnsrewrite=NXDOMAIN;;")," antwortet mit einem ",(0,r.yg)("inlineCode",{parentName:"p"},"NXDOMAIN"),"-Code.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"$dnstype=AAAA,denyallow=example.org,dnsrewrite=NOERROR;;")," antwortet mit einem leeren ",(0,r.yg)("inlineCode",{parentName:"p"},"NOERROR")," antwortet auf alle ",(0,r.yg)("inlineCode",{parentName:"p"},"AAAA")," Anfragen au\xdfer denen f\xfcr ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org"),"."))),(0,r.yg)("p",null,"Exception rules unblock one or all rules:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"@@||example.com^$dnsrewrite")," unblocks all DNS rewrite rules.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"@@||example.com^$dnsrewrite=1.2.3.4")," unblocks the DNS rewrite rule that adds an ",(0,r.yg)("inlineCode",{parentName:"p"},"A")," record with the value ",(0,r.yg)("inlineCode",{parentName:"p"},"1.2.3.4"),"."))),(0,r.yg)("h4",{id:"important-modifier"},(0,r.yg)("inlineCode",{parentName:"h4"},"important")),(0,r.yg)("p",null,"Der ",(0,r.yg)("inlineCode",{parentName:"p"},"important")," Modifikator, der auf eine Regel angewendet wird, erh\xf6ht ihre Priorit\xe4t gegen\xfcber allen anderen Regeln ohne den Modifikator. Sogar \xfcber grundlegende Ausnahmeregeln."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Beispiele:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"In diesem Beispiel:"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-none"},"||example.org^$important\n@@||example.org^\n")),(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.org^$important")," sperrt alle Anfragen an ",(0,r.yg)("inlineCode",{parentName:"p"},"*.example.org")," trotz der Ausnahmeregel.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"In diesem Beispiel:"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-none"},"||example^$important\n@@||example^$important\n")),(0,r.yg)("p",{parentName:"li"},"die Ausnahmeregel hat auch den Modifikator ",(0,r.yg)("inlineCode",{parentName:"p"},"important"),", sodass sie funktioniert."))),(0,r.yg)("h4",{id:"badfilter-modifier"},(0,r.yg)("inlineCode",{parentName:"h4"},"badfilter")),(0,r.yg)("p",null,"Die Regeln mit dem Modifikator ",(0,r.yg)("inlineCode",{parentName:"p"},"badfilter")," deaktivieren andere Grundregeln, auf die sie sich beziehen. Dies bedeutet, dass der Text der deaktivierten Regel dem Text der Regel ",(0,r.yg)("inlineCode",{parentName:"p"},"badfilter")," (ohne den Modifikator ",(0,r.yg)("inlineCode",{parentName:"p"},"badfilter"),") entsprechen sollte."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Beispiele:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.com$badfilter")," deaktiviert ",(0,r.yg)("inlineCode",{parentName:"p"},"||example.com"),".")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"@@||example.org^$badfilter")," deaktiviert ",(0,r.yg)("inlineCode",{parentName:"p"},"@@||example.org^"),"."),(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Hinweis:")," Der Modifikator ",(0,r.yg)("inlineCode",{parentName:"p"},"badfilter")," funktioniert derzeit nicht mit Regeln im Stil von ",(0,r.yg)("inlineCode",{parentName:"p"},"/etc/hosts"),". ",(0,r.yg)("inlineCode",{parentName:"p"},"127.0.0.1 example.org$badfilter")," wird ",(0,r.yg)("strong",{parentName:"p"},"nicht")," die urspr\xfcngliche Regel ",(0,r.yg)("inlineCode",{parentName:"p"},"127.0.0.1 example.org")," deaktivieren."))),(0,r.yg)("h4",{id:"ctag-modifier"},(0,r.yg)("inlineCode",{parentName:"h4"},"ctag")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Der Modifikator ",(0,r.yg)("inlineCode",{parentName:"strong"},"ctag")," kann nur in AdGuard Home verwendet werden.")),(0,r.yg)("p",null,"Sie erm\xf6glicht es, Domains nur f\xfcr bestimmte Arten von DNS-Client-Tags zu sperren. Es erm\xf6glicht das Sperren von Domains nur f\xfcr bestimmte Arten von DNS-Client-Tags. In Zukunft sollen die Tags automatisch zugewiesen werden, indem das Verhalten der einzelnen Clients analysiert wird."),(0,r.yg)("p",null,"Die Syntax lautet:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"$ctag=value1|value2|...\n")),(0,r.yg)("p",null,"Wenn einer der Tags des Clients mit den ",(0,r.yg)("inlineCode",{parentName:"p"},"ctag"),"-Werten \xfcbereinstimmt, gilt diese Regel f\xfcr den Client. Die Syntax f\xfcr den Ausschluss lautet:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"$ctag=~value1|~value2|...\n")),(0,r.yg)("p",null,"Wenn einer der Tags des Clients mit den Ausschlusswerten ",(0,r.yg)("inlineCode",{parentName:"p"},"ctag")," \xfcbereinstimmt, gilt diese Regel nicht f\xfcr den Client."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Beispiele:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.org^$ctag=device_pc|device_phone"),": sperrt ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org")," f\xfcr Clients, die als ",(0,r.yg)("inlineCode",{parentName:"p"},"device_pc")," oder ",(0,r.yg)("inlineCode",{parentName:"p"},"device_phone")," gekennzeichnet sind.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"||example.org^$ctag=~device_phone"),": sperrt ",(0,r.yg)("inlineCode",{parentName:"p"},"example.org")," f\xfcr alle Clients au\xdfer denen, die als ",(0,r.yg)("inlineCode",{parentName:"p"},"device_phone")," gekennzeichnet sind."))),(0,r.yg)("p",null,"Die Liste der zul\xe4ssigen Tags:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Nach Ger\xe4tetyp:"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"device_audio"),": Audioger\xe4te."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"device_camera"),": Kameras."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"device_gameconsole"),": Spielekonsolen."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"device_laptop"),": Laptops."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"device_nas"),": NAS (Network-attached Storages)."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"device_pc"),": PCs."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"device_phone"),": Telefone."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"device_printer"),": Drucker."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"device_securityalarm"),": Sicherheitsalarmanlagen."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"device_tablet"),": Tablets."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"device_tv"),": Fernsehger\xe4te."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"device_other"),": andere Ger\xe4te."))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Nach Betriebssystem:"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"os_android"),": Android."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"os_ios"),": iOS."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"os_linux"),": Linux."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"os_macos"),": macOS."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"os_windows"),": Windows."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"os_other"),": andere Betriebssysteme."))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Nach Benutzergruppen:"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"user_admin"),": Administratoren."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"user_regular"),": normale Benutzer."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"user_child"),": Kinder.")))),(0,r.yg)("h2",{id:"etc-hosts-syntax"},(0,r.yg)("inlineCode",{parentName:"h2"},"/etc/hosts"),"-Style-Syntax"),(0,r.yg)("p",null,"F\xfcr jeden Host sollte eine einzelne Zeile mit den folgenden Informationen vorhanden sein:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"IP_Adresse canonical_hostname [aliases...]\n")),(0,r.yg)("p",null,"Die Felder der Eintr\xe4ge werden durch eine beliebige Anzahl von Leer- oder Tabulatorzeichen getrennt. Der Text ab dem Zeichen ",(0,r.yg)("inlineCode",{parentName:"p"},"#")," bis zum Ende der Zeile ist ein Kommentar und wird ignoriert."),(0,r.yg)("p",null,"Hostnamen d\xfcrfen nur alphanumerische Zeichen, Bindestrich-Minuszeichen (",(0,r.yg)("inlineCode",{parentName:"p"},"-"),") und Punkte (",(0,r.yg)("inlineCode",{parentName:"p"},"."),") enthalten. Sie m\xfcssen mit einem Buchstaben beginnen und mit einem alphanumerischen Zeichen enden. Optionale Aliase erm\xf6glichen Namens\xe4nderungen, alternative Schreibweisen, k\xfcrzere Hostnamen oder generische Hostnamen (z. B. ",(0,r.yg)("inlineCode",{parentName:"p"},"localhost"),")."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Beispiel:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"# Dies ist ein Kommentar\n127.0.0.1 example.org example.info\n127.0.0.1 example.com\n127.0.0.1 example.net # Dies ist auch ein Kommentar\n")),(0,r.yg)("p",null,"In AdGuard Home werden die IP-Adressen verwendet, um DNS-Anfragen f\xfcr diese Domains zu beantworten. Im Private AdGuard DNS werden diese Adressen einfach gesperrt."),(0,r.yg)("h2",{id:"domains-only-syntax"},"Nur-Domain-Syntax"),(0,r.yg)("p",null,"Eine einfache Liste von Domainnamen, ein Name pro Zeile."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Beispiel:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},"# Dies ist ein Kommentar\nexample.com\nexample.org\nexample.net # dies ist auch ein Kommentar\n")),(0,r.yg)("p",null,"Wenn eine Zeichenkette keine g\xfcltige Domain ist (z.B. ",(0,r.yg)("inlineCode",{parentName:"p"},"*.example.org"),"), wird AdGuard Home sie als ",(0,r.yg)("a",{parentName:"p",href:"#adblock-style-syntax"},"Adblock-Syntax"),"-Regel betrachten."),(0,r.yg)("h2",{id:"hostlist-compiler"},"Hostlists Compiler"),(0,r.yg)("p",null,"Wenn Sie eine Sperrliste f\xfchren und darin verschiedene Quellen verwenden, kann ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/AdguardTeam/HostlistCompiler"},"Hostlist Compiler")," f\xfcr Sie n\xfctzlich sein. Es ist ein einfaches Hilfsmittel, das die Zusammenstellung einer Sperrliste f\xfcr Hosts erleichtert, die mit AdGuard Home, Private AdGuard DNS oder jedem anderen AdGuard-Produkt mit DNS-Filterung kompatibel ist."),(0,r.yg)("p",null,"Was es kann:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Zusammenstellung einer einzigen Blockliste aus mehreren Quellen.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Streicht die Regeln, die nicht ben\xf6tigt werden.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Bereinigt die resultierende Liste: entfernt Dubletten, entfernt ung\xfcltige Regeln und komprimiert die Liste."))))}s.isMDXComponent=!0}}]);