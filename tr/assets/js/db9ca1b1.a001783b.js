"use strict";(self.webpackChunkadguard_dns_knowledge_base=self.webpackChunkadguard_dns_knowledge_base||[]).push([[416],{5680:(e,t,a)=>{a.d(t,{xA:()=>d,yg:()=>y});var r=a(6540);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=r.createContext({}),s=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),g=s(a),m=n,y=g["".concat(p,".").concat(m)]||g[m]||u[m]||i;return a?r.createElement(y,l(l({ref:t},d),{},{components:a})):r.createElement(y,l({ref:t},d))}));function y(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[g]="string"==typeof e?e:n,l[1]=o;for(var s=2;s<i;s++)l[s]=a[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},876:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var r=a(9668),n=(a(6540),a(5680));const i={title:"Genel Bak\u0131\u015f",sidebar_position:1,toc_min_heading_level:2,toc_max_heading_level:3},l=void 0,o={unversionedId:"private-dns/api/overview",id:"private-dns/api/overview",title:"Genel Bak\u0131\u015f",description:"\x3c!--",source:"@site/i18n/tr/docusaurus-plugin-content-docs/current/private-dns/api/overview.md",sourceDirName:"private-dns/api",slug:"/private-dns/api/overview",permalink:"/KnowledgeBaseDNS/tr/private-dns/api/overview",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBaseDNS/edit/master/docs/private-dns/api/overview.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Genel Bak\u0131\u015f",sidebar_position:1,toc_min_heading_level:2,toc_max_heading_level:3},sidebar:"sidebar",previous:{title:"Genel Bak\u0131\u015f",permalink:"/KnowledgeBaseDNS/tr/private-dns/overview"},next:{title:"Referans",permalink:"/KnowledgeBaseDNS/tr/private-dns/api/reference"}},p={},s=[{value:"Kimlik Do\u011frulama",id:"kimlik-do\u011frulama",level:2},{value:"Eri\u015fim belirteci olu\u015ftur",id:"eri\u015fim-belirteci-olu\u015ftur",level:3},{value:"\xd6rnek istek",id:"\xf6rnek-istek",level:4},{value:"\xd6rnek yan\u0131t",id:"\xf6rnek-yan\u0131t",level:4},{value:"Yenileme Belirtecinden Eri\u015fim Belirteci Olu\u015fturma",id:"yenileme-belirtecinden-eri\u015fim-belirteci-olu\u015fturma",level:3},{value:"\xd6rnek istek",id:"\xf6rnek-istek-1",level:4},{value:"\xd6rnek yan\u0131t",id:"\xf6rnek-yan\u0131t-1",level:4},{value:"Revoking a Refresh Token",id:"revoking-a-refresh-token",level:3},{value:"\u0130stek \xd6rne\u011fi",id:"i\u0307stek-\xf6rne\u011fi",level:4},{value:"Authorization endpoint",id:"authorization-endpoint",level:3},{value:"API&#39;ye eri\u015fim",id:"apiye-eri\u015fim",level:3},{value:"API",id:"api",level:2},{value:"Referans",id:"referans",level:3},{value:"OpenAPI \xf6zellikleri",id:"openapi-\xf6zellikleri",level:3},{value:"De\u011fi\u015fiklik g\xfcnl\xfc\u011f\xfc",id:"de\u011fi\u015fiklik-g\xfcnl\xfc\u011f\xfc",level:3},{value:"Geri Bildirim",id:"geri-bildirim",level:2}],d={toc:s},g="wrapper";function u(e){let{components:t,...a}=e;return(0,n.yg)(g,(0,r.A)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("p",null,"AdGuard DNS, uygulamalar\u0131n\u0131z\u0131 entegre etmek i\xe7in kullanabilece\u011finiz bir REST API sa\u011flar."),(0,n.yg)("h2",{id:"kimlik-do\u011frulama"},"Kimlik Do\u011frulama"),(0,n.yg)("h3",{id:"eri\u015fim-belirteci-olu\u015ftur"},"Eri\u015fim belirteci olu\u015ftur"),(0,n.yg)("p",null,"Make a POST request for the following URL with the given params to generate the ",(0,n.yg)("inlineCode",{parentName:"p"},"access_token"),":"),(0,n.yg)("p",null,(0,n.yg)("inlineCode",{parentName:"p"},"https://api.adguard-dns.io/oapi/v1/oauth_token")),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:"left"},"Parametre"),(0,n.yg)("th",{parentName:"tr",align:"left"},"A\xe7\u0131klama"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("strong",{parentName:"td"},"kullan\u0131c\u0131 ad\u0131")),(0,n.yg)("td",{parentName:"tr",align:"left"},"Hesap e-postas\u0131")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("strong",{parentName:"td"},"parola")),(0,n.yg)("td",{parentName:"tr",align:"left"},"Hesap parolas\u0131")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},"mfa_token"),(0,n.yg)("td",{parentName:"tr",align:"left"},"\u0130ki Fakt\xf6rl\xfc kimlik do\u011frulama belirteci (hesap ayarlar\u0131nda etkinle\u015ftirilmi\u015fse)")))),(0,n.yg)("p",null,"Yan\u0131t olarak hem ",(0,n.yg)("inlineCode",{parentName:"p"},"access_token")," hem de ",(0,n.yg)("inlineCode",{parentName:"p"},"refresh_token")," al\u0131rs\u0131n\u0131z."),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("inlineCode",{parentName:"p"},"access_token")," s\xfcresi belirli bir saniye sonra dolar (yan\u0131ttaki ",(0,n.yg)("inlineCode",{parentName:"p"},"expires_in")," parametresiyle temsil edilir). ",(0,n.yg)("inlineCode",{parentName:"p"},"refresh_token")," kullanarak yeni bir ",(0,n.yg)("inlineCode",{parentName:"p"},"access_token")," olu\u015fturabilirsiniz (Bak\u0131n\u0131z: ",(0,n.yg)("inlineCode",{parentName:"p"},"Yenileme Belirtecinden Eri\u015fim Belirteci Olu\u015fturma"),").")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("inlineCode",{parentName:"p"},"refresh_token")," kal\u0131c\u0131d\u0131r. To revoke a ",(0,n.yg)("inlineCode",{parentName:"p"},"refresh_token"),", refer: ",(0,n.yg)("inlineCode",{parentName:"p"},"Revoking a Refresh Token"),"."))),(0,n.yg)("h4",{id:"\xf6rnek-istek"},"\xd6rnek istek"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"$ curl 'https://api.adguard-dns.io/oapi/v1/oauth_token' -i -X POST \\\n    -H 'Content-Type: application/x-www-form-urlencoded' \\\n    -d 'username=user%40adguard.com' \\\n    -d 'password=********' \\\n    -d 'mfa_token=727810'\n")),(0,n.yg)("h4",{id:"\xf6rnek-yan\u0131t"},"\xd6rnek yan\u0131t"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "jTFho_aymtN20pZR5RRSQAzd81I",\n  "token_type": "bearer",\n  "refresh_token": "H3SW6YFJ-tOPe0FQCM1Jd6VnMiA",\n  "expires_in": 2620978\n}\n')),(0,n.yg)("h3",{id:"yenileme-belirtecinden-eri\u015fim-belirteci-olu\u015fturma"},"Yenileme Belirtecinden Eri\u015fim Belirteci Olu\u015fturma"),(0,n.yg)("p",null,"Eri\u015fim belirte\xe7lerinin ge\xe7erlili\u011fi s\u0131n\u0131rl\u0131d\u0131r. S\xfcresi doldu\u011funda, uygulaman\u0131z yeni bir ",(0,n.yg)("inlineCode",{parentName:"p"},"refresh token")," talep etmek i\xe7in ",(0,n.yg)("inlineCode",{parentName:"p"},"access token")," kullanmas\u0131 gerekecektir."),(0,n.yg)("p",null,"Make the following POST request with the given params to get a new access token:"),(0,n.yg)("p",null,(0,n.yg)("inlineCode",{parentName:"p"},"https://api.adguard-dns.io/oapi/v1/oauth_token")),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:"left"},"Parametre"),(0,n.yg)("th",{parentName:"tr",align:"left"},"A\xe7\u0131klama"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("strong",{parentName:"td"},"refresh_token")),(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("inlineCode",{parentName:"td"},"REFRESH TOKEN")," kullan\u0131larak yeni bir eri\u015fim belirteci olu\u015fturulmal\u0131d\u0131r.")))),(0,n.yg)("h4",{id:"\xf6rnek-istek-1"},"\xd6rnek istek"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"$ curl 'https://api.adguard-dns.io/oapi/v1/oauth_token' -i -X POST \\\n    -H 'Content-Type: application/x-www-form-urlencoded' \\\n    -d 'refresh_token=H3SW6YFJ-tOPe0FQCM1Jd6VnMiA'\n")),(0,n.yg)("h4",{id:"\xf6rnek-yan\u0131t-1"},"\xd6rnek yan\u0131t"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "xQnT7GYT6Ag--3oY_EcOOdXe-I0",\n  "token_type": "bearer",\n  "refresh_token": "H3SW6YFJ-tOPe0FQCM1Jd6VnMiA",\n  "expires_in": 2627999\n}\n')),(0,n.yg)("h3",{id:"revoking-a-refresh-token"},"Revoking a Refresh Token"),(0,n.yg)("p",null,"To revoke a refresh token, make the following POST request with the given params:"),(0,n.yg)("p",null,(0,n.yg)("inlineCode",{parentName:"p"},"https://api.adguard-dns.io/oapi/v1/revoke_token")),(0,n.yg)("h4",{id:"i\u0307stek-\xf6rne\u011fi"},"\u0130stek \xd6rne\u011fi"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"$ curl 'https://api.adguard-dns.com/oapi/v1/revoke_token' -i -X POST \\\n    -d 'token=H3SW6YFJ-tOPe0FQCM1Jd6VnMiA'\n")),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:"left"},"Parametre"),(0,n.yg)("th",{parentName:"tr",align:"left"},"A\xe7\u0131klama"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("strong",{parentName:"td"},"refresh_token")),(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("inlineCode",{parentName:"td"},"REFRESH TOKEN")," which is to be revoked")))),(0,n.yg)("h3",{id:"authorization-endpoint"},"Authorization endpoint"),(0,n.yg)("blockquote",null,(0,n.yg)("p",{parentName:"blockquote"},"To access this endpoint, you need to contact us at ",(0,n.yg)("strong",{parentName:"p"},(0,n.yg)("a",{parentName:"strong",href:"mailto:devteam@adguard.com"},"devteam@adguard.com")),". Please describe the reason and use cases for this endpoint, as well as provide the redirect URI. Upon approval, you will receive a unique client identifier, which should be used for the ",(0,n.yg)("strong",{parentName:"p"},"client_id")," parameter.")),(0,n.yg)("p",null,"The ",(0,n.yg)("strong",{parentName:"p"},"/oapi/v1/oauth_authorize")," endpoint is used to interact with the resource owner and get the authorization to access the protected resource."),(0,n.yg)("p",null,"The service redirects you to AdGuard to authenticate (if you are not already logged in) and then back to your application."),(0,n.yg)("p",null,"The request parameters of the ",(0,n.yg)("strong",{parentName:"p"},"/oapi/v1/oauth_authorize")," endpoint are:"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:"left"},"Parametre"),(0,n.yg)("th",{parentName:"tr",align:"left"},"A\xe7\u0131klama"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("strong",{parentName:"td"},"response_type")),(0,n.yg)("td",{parentName:"tr",align:"left"},"Tells the authorization server which grant to execute")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("strong",{parentName:"td"},"client_id")),(0,n.yg)("td",{parentName:"tr",align:"left"},"The ID of the OAuth client that asks for authorization")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("strong",{parentName:"td"},"redirect_uri")),(0,n.yg)("td",{parentName:"tr",align:"left"},"Contains a URL. A successful response from this endpoint results in a redirect to this URL")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("strong",{parentName:"td"},"state")),(0,n.yg)("td",{parentName:"tr",align:"left"},"An opaque value used for security purposes. If this request parameter is set in the request, it is returned to the application as part of the ",(0,n.yg)("strong",{parentName:"td"},"redirect_uri"))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("strong",{parentName:"td"},"aid")),(0,n.yg)("td",{parentName:"tr",align:"left"},"Affiliate identifier")))),(0,n.yg)("p",null,"\xd6rne\u011fin:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-http",metastring:"request",request:!0},"https://api.adguard-dns.io/oapi/v1/oauth_authorize?response_type=token&client_id=CLIENT_ID&redirect_uri=REDIRECT_URI&state=1jbmuc0m9WTr1T6dOO82\n")),(0,n.yg)("p",null,"To inform the authorization server which grant type to use, the ",(0,n.yg)("strong",{parentName:"p"},"response_type")," request parameter is used as follows:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"For the Implicit grant, use ",(0,n.yg)("strong",{parentName:"li"},"response_type=token")," to include an access token.")),(0,n.yg)("p",null,"A successful response is ",(0,n.yg)("strong",{parentName:"p"},"302 Found"),", which triggers a redirect to ",(0,n.yg)("strong",{parentName:"p"},"redirect_uri")," (which is a request parameter). The response parameters are embedded in the fragment component (the part after ",(0,n.yg)("inlineCode",{parentName:"p"},"#"),") of the ",(0,n.yg)("strong",{parentName:"p"},"redirect_uri")," parameter in the ",(0,n.yg)("strong",{parentName:"p"},"Location")," header."),(0,n.yg)("p",null,"\xd6rne\u011fin:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-http",metastring:"request",request:!0},"HTTP/1.1 302 Found\nLocation: REDIRECT_URI#access_token=...&token_type=Bearer&expires_in=3600&state=1jbmuc0m9WTr1T6dOO82\n")),(0,n.yg)("h3",{id:"apiye-eri\u015fim"},"API'ye eri\u015fim"),(0,n.yg)("p",null,"Eri\u015fim ve yenileme belirte\xe7leri olu\u015fturulduktan sonra, ba\u015fl\u0131ktaki eri\u015fim belirtecini ge\xe7irilerek API \xe7a\u011fr\u0131lar\u0131 yap\u0131labilir."),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Ba\u015fl\u0131k ad\u0131 ",(0,n.yg)("inlineCode",{parentName:"li"},"Authorization")," olmal\u0131d\u0131r"),(0,n.yg)("li",{parentName:"ul"},"Ba\u015fl\u0131k de\u011feri ",(0,n.yg)("inlineCode",{parentName:"li"},"Bearer {access_token}")," olmal\u0131d\u0131r")),(0,n.yg)("h2",{id:"api"},"API"),(0,n.yg)("h3",{id:"referans"},"Referans"),(0,n.yg)("p",null,"L\xfctfen referans y\xf6ntemlerine ",(0,n.yg)("a",{parentName:"p",href:"/KnowledgeBaseDNS/tr/private-dns/api/reference"},"buradan")," bak\u0131n."),(0,n.yg)("h3",{id:"openapi-\xf6zellikleri"},"OpenAPI \xf6zellikleri"),(0,n.yg)("p",null,"OpenAPI specification is available at ",(0,n.yg)("a",{parentName:"p",href:"https://api.adguard-dns.io/static/swagger/openapi.json"},"https://api.adguard-dns.io/static/swagger/openapi.json"),"."),(0,n.yg)("p",null,"Kullan\u0131labilir API y\xf6ntemlerinin listesini g\xf6r\xfcnt\xfclemek i\xe7in farkl\u0131 ara\xe7lar kullanabilirsiniz. \xd6rne\u011fin, bu dosyay\u0131 ",(0,n.yg)("a",{parentName:"p",href:"https://editor.swagger.io/"},"https://editor.swagger.io/")," adresinde a\xe7abilirsiniz."),(0,n.yg)("h3",{id:"de\u011fi\u015fiklik-g\xfcnl\xfc\u011f\xfc"},"De\u011fi\u015fiklik g\xfcnl\xfc\u011f\xfc"),(0,n.yg)("p",null,"The complete AdGuard DNS API changelog is available on ",(0,n.yg)("a",{parentName:"p",href:"/KnowledgeBaseDNS/tr/private-dns/api/changelog"},"this page"),"."),(0,n.yg)("h2",{id:"geri-bildirim"},"Geri Bildirim"),(0,n.yg)("p",null,"Bu API'nin yeni y\xf6ntemlerle geni\u015fletilmesini istiyorsan\u0131z, l\xfctfen ",(0,n.yg)("inlineCode",{parentName:"p"},"devteam@adguard.com")," adresine e-posta g\xf6nderin ve nelerin eklenmesini istedi\u011finizi bize bildirin."))}u.isMDXComponent=!0}}]);