<!doctype html>
<html lang="ru" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-general/dns-filtering-syntax">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="search" type="application/opensearchdescription+xml" title="AdGuard DNS Knowledge Base" href="/KnowledgeBaseDNS/ru/opensearch.xml"><title data-rh="true">Синтаксис правил DNS-фильтрации | AdGuard DNS Knowledge Base</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://adguardteam.github.io/KnowledgeBaseDNS/ru/general/dns-filtering-syntax/"><meta data-rh="true" name="docsearch:language" content="ru"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Синтаксис правил DNS-фильтрации | AdGuard DNS Knowledge Base"><meta data-rh="true" name="description" content="Рассказываем, как писать пользовательские правила DNS-фильтрации для использования в продуктах AdGuard"><meta data-rh="true" property="og:description" content="Рассказываем, как писать пользовательские правила DNS-фильтрации для использования в продуктах AdGuard"><link data-rh="true" rel="icon" href="/KnowledgeBaseDNS/ru/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://adguardteam.github.io/KnowledgeBaseDNS/ru/general/dns-filtering-syntax/"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/general/dns-filtering-syntax/" hreflang="en"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/ru/general/dns-filtering-syntax/" hreflang="ru"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/cs/general/dns-filtering-syntax/" hreflang="cs"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/da/general/dns-filtering-syntax/" hreflang="da"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/de/general/dns-filtering-syntax/" hreflang="de"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/fr/general/dns-filtering-syntax/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/es/general/dns-filtering-syntax/" hreflang="es"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/it/general/dns-filtering-syntax/" hreflang="it"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/ja/general/dns-filtering-syntax/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/ko/general/dns-filtering-syntax/" hreflang="ko"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/tr/general/dns-filtering-syntax/" hreflang="tr"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/zh-CN/general/dns-filtering-syntax/" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/zh-TW/general/dns-filtering-syntax/" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://adguardteam.github.io/KnowledgeBaseDNS/general/dns-filtering-syntax/" hreflang="x-default"><link rel="stylesheet" href="/KnowledgeBaseDNS/ru/assets/css/styles.15687593.css">
<link rel="preload" href="/KnowledgeBaseDNS/ru/assets/js/runtime~main.ab94d47b.js" as="script">
<link rel="preload" href="/KnowledgeBaseDNS/ru/assets/js/main.38a33b66.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Перейти к основному содержанию</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/KnowledgeBaseDNS/ru/"><div class="navbar__logo"><img src="/KnowledgeBaseDNS/ru/img/logo.svg" alt="AdGuard DNS" class="themedImage_ToTc themedImage--light_HNdA"><img src="/KnowledgeBaseDNS/ru/img/logo_dark.svg" alt="AdGuard DNS" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/KnowledgeBaseDNS/ru/">Документы</a><a href="https://adguard-dns.io/blog/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Блог</a><a href="https://adguard-dns.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Официальный сайт</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Русский</a><ul class="dropdown__menu"><li><a href="/KnowledgeBaseDNS/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/KnowledgeBaseDNS/ru/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">Русский</a></li><li><a href="/KnowledgeBaseDNS/cs/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link">Čeština</a></li><li><a href="/KnowledgeBaseDNS/da/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link">Dansk</a></li><li><a href="/KnowledgeBaseDNS/de/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link">Deutsch</a></li><li><a href="/KnowledgeBaseDNS/fr/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link">Français</a></li><li><a href="/KnowledgeBaseDNS/es/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link">Español</a></li><li><a href="/KnowledgeBaseDNS/it/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link">Italiano</a></li><li><a href="/KnowledgeBaseDNS/ja/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link">日本語</a></li><li><a href="/KnowledgeBaseDNS/ko/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link">한국어</a></li><li><a href="/KnowledgeBaseDNS/tr/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link">Türkçe</a></li><li><a href="/KnowledgeBaseDNS/zh-CN/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link">中文（中国）</a></li><li><a href="/KnowledgeBaseDNS/zh-TW/general/dns-filtering-syntax/" target="_self" rel="noopener noreferrer" class="dropdown__link">中文（台灣）</a></li><li><a class="dropdown__link" href="/KnowledgeBaseDNS/ru/miscellaneous/update-kb/">Help Us Translate</a></li></ul></div><a href="https://github.com/AdguardTeam/KnowledgeBaseDNS" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Переключиться между тёмной и светлой темами (сейчас светлая тема)" aria-label="Переключиться между тёмной и светлой темами (сейчас светлая тема)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="searchBox_UMag"><button type="button" class="DocSearch DocSearch-Button" aria-label="Поиск"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Поиск</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Вернуться наверх" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/KnowledgeBaseDNS/ru/"><img src="/KnowledgeBaseDNS/ru/img/logo.svg" alt="AdGuard DNS" class="themedImage_ToTc themedImage--light_HNdA"><img src="/KnowledgeBaseDNS/ru/img/logo_dark.svg" alt="AdGuard DNS" class="themedImage_ToTc themedImage--dark_i4oU"><b></b></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/KnowledgeBaseDNS/ru/">Обзор</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/KnowledgeBaseDNS/ru/general/dns-filtering/">Общее</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/KnowledgeBaseDNS/ru/general/dns-filtering/">DNS-фильтрация</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/KnowledgeBaseDNS/ru/general/dns-filtering-syntax/">Синтаксис правил DNS-фильтрации</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/KnowledgeBaseDNS/ru/general/dns-providers/">Известные DNS-провайдеры</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBaseDNS/ru/public-dns/overview/">Публичный DNS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBaseDNS/ru/private-dns/overview/">Приватный DNS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBaseDNS/ru/adguard-home/overview/">AdGuard Home</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/KnowledgeBaseDNS/ru/miscellaneous/update-kb/">Разное</a></div></li></ul></nav><button type="button" title="Свернуть боковую панель" aria-label="Свернуть боковую панель" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Хлебные крошки"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Домашняя страница" class="breadcrumbs__link" href="/KnowledgeBaseDNS/ru/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Общее</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Синтаксис правил DNS-фильтрации</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">На этой странице</button></div><div class="theme-doc-markdown markdown"><header><h1>Синтаксис правил DNS-фильтрации</h1></header><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Рассказываем, как писать пользовательские правила DNS-фильтрации для использования в продуктах AdGuard</p><p>Быстрые ссылки: <a href="https://agrd.io/download-kb-adblock" target="_blank" rel="noopener noreferrer">Скачать Блокировщик AdGuard</a>, <a href="https://github.com/AdguardTeam/AdGuardHome#getting-started" target="_blank" rel="noopener noreferrer">Установить AdGuard Home</a>, <a href="https://agrd.io/download-dns" target="_blank" rel="noopener noreferrer">Попробовать AdGuard DNS</a></p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Прямая ссылка на заголовок">​</a></h2><p>Синтаксис правил фильтрации AdGuard DNS можно использовать, чтобы сделать правила более гибкими и блокировать контент в соответствии с вашими предпочтениями. Применять данный синтаксис можно в разных продуктах AdGuard, таких как AdGuard Home, AdGuard DNS, AdGuard для Windows/Mac/Android.</p><p>Есть три подхода к написанию hosts-списков блокировки:</p><ul><li><p><a href="#adblock-style-syntax">Adblock-style syntax</a>: the modern approach to writing filtering rules based on using a subset of the Adblock-style rule syntax. Таким образом списки блокировки становятся совместимы с браузерными блокировщиками.</p></li><li><p><a href="#etc-hosts-syntax"><code>/etc/hosts</code> синтаксис</a>: это старый и проверенный подход, при котором используется тот же синтаксис, что и в операционных системах для hosts-файлов.</p></li><li><p><a href="#domains-only-syntax">Синтаксис Domains-only</a>: простое перечисление имён доменов.</p></li></ul><p>If you are creating a blocklist, we recommend using the <a href="#adblock-style-syntax">Adblock-style syntax</a>. У него есть несколько важных преимуществ перед старым синтаксисом:</p><ul><li><p><strong>Размер списков блокировки.</strong> Применяя сопоставление шаблонов, вы сможете использовать одно правило вместо сотен записей <code>/etc/hosts</code>.</p></li><li><p><strong>Совместимость.</strong> Ваш список блокировки будет совместим с браузерными блокировщиками рекламы, что сделает обмен правилами с фильтрами браузера более простым.</p></li><li><p><strong>Расширяемость.</strong> За последнее десятилетие синтаксис Adblock значительно развился, и мы не видим причин, почему мы не можем расширить его ещё больше и дать дополнительные возможности сетевым блокировщикам.</p></li></ul><p>Если вы поддерживаете чёрный список в стиле <code>/etc/hosts</code> или несколько списков фильтрации (независимо от типа), мы предоставляем инструмент для их составления. We named it <a href="https://github.com/AdguardTeam/HostlistCompiler" target="_blank" rel="noopener noreferrer">Hostlist compiler</a> and we use it ourselves to create <a href="https://github.com/AdguardTeam/AdGuardSDNSFilter" target="_blank" rel="noopener noreferrer">AdGuard DNS filter</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="basic-examples">Basic examples<a class="hash-link" href="#basic-examples" title="Прямая ссылка на заголовок">​</a></h2><ul><li><p><code>||example.org^</code>: блокирует доступ к домену <code>example.org</code> и всем его поддоменам, таким как <code>www.example.org</code>.</p></li><li><p><code>@@||example.org^</code>: разблокирует доступ к домену <code>example.org</code> и всем его поддоменам.</p></li><li><p><code>1.2.3.4 example.org</code>: (внимание, устаревший синтаксис типа <code>/etc/hosts</code>) в AdGuard Home отвечает <code>1.2.3.4</code> на запросы к домену <code>example.org</code>, но <strong>не</strong> к его поддоменам. В приватном AdGuard DNS блокирует доступ к <code>example.org</code>. <code>www.example.org</code> остаётся доступным.</p><p>В AdGuard Home использование неопределённого IP-адреса (<code>0.0.0.0</code>) или локального адреса (<code>127.0.0.1</code> и т. п.) для хоста практически то же самое, что и блокировка этого хоста.</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Возвращает IP-адрес 1.2.3.4. для example.org.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1.2.3.4 example.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Блокирует example.org ответом 0.0.0.0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.0.0.0 example.org</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>example.org</code>: простое доменное правило. Блокирует домен <code>example.org</code>, но <strong>не</strong> его поддомены. <code>www.example.org</code> остаётся доступным.</p></li><li><p><code>! Это комментарий </code> и <code> # Это тоже комментарий</code>: комментарии.</p></li><li><p><code>/REGEX/</code>: блокирует доступ к доменам, соответствующим заданному регулярному выражению.</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="adblock-style-syntax">Adblock-style syntax<a class="hash-link" href="#adblock-style-syntax" title="Прямая ссылка на заголовок">​</a></h2><p>This is a subset of the <a href="https://adguard.com/kb/general/ad-filtering/create-own-filters/" target="_blank" rel="noopener noreferrer">traditional Adblock-style syntax</a> which is used by browser ad blockers.</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">     rule = [&quot;@@&quot;] pattern [ &quot;$&quot; modifiers ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">modifiers = [modifier0, modifier1[, ...[, modifierN]]]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p><code>pattern</code>: маска имени хоста. Каждое имя хоста сопоставляется с этой маской. Шаблон также может содержать особые знаки, о которых сказано ниже.</p></li><li><p><code>@@</code>: маркер, использующийся в правилах исключений. Ставьте этот маркер в начало правила, если хотите отключить фильтрацию для совпадающих имён хостов.</p></li><li><p><code>modifiers</code>: параметры, объясняющие правило. Они могут ограничить сферу применения правила или даже полностью изменить принцип его действия.</p></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="special-characters">Special characters<a class="hash-link" href="#special-characters" title="Прямая ссылка на заголовок">​</a></h3><ul><li><p><code>*</code>: подстановочный знак. Используется, чтобы обозначить любой набор символов. Это может быть пустая строка или строка любой длины.</p></li><li><p><code>||</code>: совпадает с началом имени хоста, включая любые субдомены. Например, <code>||example.org</code> соответствует <code>example.org</code> и <code>test.example.org</code>, но не <code>testexample.org</code>.</p></li><li><p><code>^</code>: символ-разделитель. В отличие от блокировки рекламы в браузере в имени хоста нечего разделять, поэтому единственная цель этого символа — отметить конец имени хоста.</p></li><li><p><code>|</code>: указатель на начало или конец имени хоста. Значение зависит от расположения символов в маске. Например, правило <code>ample.org|</code> относится к <code>example.org</code>, но не к <code>example.org.com</code>. А правило <code>|example</code> относится к <code>example.org</code>, но не к <code>test.example</code>.</p></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="regular-expressions">Regular expressions<a class="hash-link" href="#regular-expressions" title="Прямая ссылка на заголовок">​</a></h3><p>If you want even more flexibility in making rules, you can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener noreferrer">regular expressions</a> instead of the default simplified matching syntax. Если вы хотите использовать регулярные выражения, шаблон должен выглядеть так:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pattern = &quot;/&quot; regexp &quot;/&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Примеры:</strong></p><ul><li><p><code>/example.*/</code> заблокирует хосты, совпадающие с регулярным выражением <code>example.*</code>.</p></li><li><p><code>@@/example.*/$important</code> разблокирует хосты, совпадающие с регулярным выражением <code>example.*</code>. Обратите внимание, что это правило также включает модификатор <code>important</code>.</p></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="comments">Comments<a class="hash-link" href="#comments" title="Прямая ссылка на заголовок">​</a></h3><p>Любая строка, начинающаяся с восклицательного знака или хеша, является комментарием, и будет проигнорирована движком фильтрации. Комментарии обычно размещаются над правилами и описывают то, что они делают.</p><p><strong>Пример:</strong></p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! Это комментарий.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Это тоже комментарий.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rule-modifiers">Rule modifiers<a class="hash-link" href="#rule-modifiers" title="Прямая ссылка на заголовок">​</a></h3><p>Вы можете изменить поведение правила при помощи модификаторов. Их необходимо располагать в конце правила после символа <code>$</code> и разделять запятыми.</p><p><strong>Примеры:</strong></p><ul><li><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>||example.org^</code> — паттерн правила. <code>$</code> — разделитель, который указывает на то, что остальные части правила — это модификаторы. <code>important</code> — модификатор.</p></li><li><p>Возможно, вы захотите использовать в правиле несколько модификаторов. В этом случае разделяйте их запятыми:</p><p>``none
||example.org^$client=127.0.0.1,dnstype=A</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`||example.org^` — совпадающий шаблон. `$` — разделитель, который указывает на то, что остальные части правила являются модификаторами. `client=127.0.0.1` is the [`client`][] modifier with its value, `127.0.0.1`, is the delimiter. And finally, `dnstype=A` is the [`dnstype`][] modifier with its value, `A`.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><p><strong>Обратите внимание:</strong> если правило содержит модификатор, не указанный в этом документе, всё правило <strong>следует игнорировать</strong>. Таким образом мы избегаем ложных срабатываний, когда люди пытаются использовать немодифицированные списки фильтров браузерных блокировщиков рекламы, таких как EasyList или EasyPrivacy.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="client-modifier"><code>client</code><a class="hash-link" href="#client-modifier" title="Прямая ссылка на заголовок">​</a></h4><p>Модификатор <code>client</code> позволяет указывать клиентов, к которым применяется это правило. Есть два основных способа определения клиента:</p><ul><li><p>По его IP-адресу или CIDR-префиксу. Этот способ подходит для всех типов клиентов.</p></li><li><p>По имени. Этот способ работает только для сохранённых клиентов в AdGuard Home и устройств в приватном AdGuard DNS, которых вы добавили вручную.</p><p><strong>Внимание:</strong> в AdGuard Home ClientID временно не поддерживаются, только имена. Если вы добавили клиента с именем «My Client» и ID клиента<code>my-client</code>, напишите модификатор как <code>$client=&#x27;My Client&#x27;</code>, а не <code>$client=my-client</code>.</p></li></ul><p>Синтаксис:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$client=value1|value2|...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Вы также можете исключить клиента из фильтрации, добавив перед значением символ <code>~</code>. В этом случае правило не будет применяться к DNS-запросам этого клиента.</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$client=~value1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Имена клиентов обычно содержат пробелы или другие специальные символы, поэтому необходимо заключать их в кавычки. Поддерживаются как одинарные, так и двойные кавычки ASCII. Используйте обратный слеш (<code>\</code>), чтобы изолировать кавычки (<code>&quot;</code> и <code>&#x27;</code>), запятые (<code>,</code>) и вертикальные разделители (<code>|</code>).</p><p><strong>Обратите внимание:</strong> исключая клиента из фильтрации, <strong>обязательно</strong> выносите символ <code>~</code> за кавычки.</p><p><strong>Примеры:</strong></p><ul><li><p><code>@@||*^$client=127.0.0.1</code>: разблокирует всё для localhost.</p></li><li><p><code>||example.org^$client=&#x27;Frank\&#x27;s laptop&#x27;</code>: блокирует домен <code>example.org</code> только для клиента с именем <code>Frank&#x27;s laptop</code>. Обратите внимание, что апостроф (<code>&#x27;</code>) в имени должен быть экранирован.</p></li><li><p><code>||example.org^$client=~&#x27;Mary\&#x27;s\, John\&#x27;s\, and Boris\&#x27;s laptops&#x27;</code>: блокирует домен <code>example.org</code> для всех, кроме клиентов с именами <code>Mary&#x27;s, John&#x27;s, and Boris&#x27;s laptops</code>. Как вы видите, запятая (<code>,</code>) тоже должна быть экранирована.</p></li><li><p><code>||example.org^$client=~Mom|~Dad|Kids</code>: блокирует домен <code>example.org</code> для клиента <code>Kids</code>, но не для клиентов <code>Mom</code> и <code>Dad</code>. Этот пример демонстрирует, как указать несколько клиентов в одном правиле.</p></li><li><p><code>||example.org^$client=192.168.0.0/24</code>: блокирует домен <code>example.org</code> для клиентов с IP-адресами в диапазоне от <code>192.168.0.0</code> до <code>192.168.0.255</code>.</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="denyallow-modifier"><code>denyallow</code><a class="hash-link" href="#denyallow-modifier" title="Прямая ссылка на заголовок">​</a></h4><p>Вы можете использовать модификатор <code>denyallow</code>, чтобы исключить домены из правила блокировки. Чтобы добавить несколько доменов в одно правило, используйте символ <code>|</code> в качестве разделителя.</p><p>Синтаксис:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$denyallow=domain1|domain2|...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Этот модификатор позволяет избежать создания ненужных правил исключения, когда блокирующее правило охватывает слишком много доменов. Возможно, вы захотите заблокировать всё, за исключением нескольких доменов верхнего уровня. Вы можете использовать стандартный подход, т. е. такие правила, как эти:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">! Заблокировать всё.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/.*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">! Разблокировать несколько доменов верхнего уровня.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||com^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||net^</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Проблема этого подхода в том, что вы также разблокируете отслеживающие домены, расположенные на этих доменах верхнего уровня (например, <code>google-analytics.com</code>). Но её можно решить с помощью модификатора <code>denyallow</code>:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*$denyallow=com|net</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Примеры:</strong></p><ul><li><p><code>*$denyallow=com|net</code>: блокирует все домены <code>*.com</code> и <code>*.net</code>.</p></li><li><p><code>@@*$denyallow=com|net</code>: разблокирует все домены, кроме <code>*.com</code> и <code>*.net</code>.</p></li><li><p><code>||example.org^$denyallow=sub.example.org</code>. блокирует <code>example.org</code> и <code>*.example.org</code>, но не блокирует <code>sub.example.org</code>.</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dnstype-modifier"><code>dnstype</code><a class="hash-link" href="#dnstype-modifier" title="Прямая ссылка на заголовок">​</a></h4><p>Модификатор <code>dnstype</code> позволяет указать тип DNS-запроса или ответа, на который будет срабатывать это правило.</p><p>Синтаксис:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$dnstype=value1|value2|...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$dnstype=~value1|~value2|~...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Имена типов можно указывать в любом регистре, но они проверяются на соответствие настоящим типам DNS-записей.</p><p>Не объединяйте исключающие правила с включающими. Например, это правило:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$dnstype=~value1|value2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>эквивалентно этому:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$dnstype=value2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Примеры:</strong></p><ul><li><p><code>||example.org^$dnstype=AAAA</code>: блокирует DNS-запросы для IPv6-адресов домена <code>example.org</code>.</p></li><li><p><code>||example.org^$dnstype=~A|~CNAME</code>: пропускает только <code>A</code> и <code>CNAME</code> DNS-запросы для домена <code>example.org</code> и блокирует все остальные.</p></li></ul><p><strong>Обратите внимание:</strong> до версии <strong>0.108.0</strong> для фильтрации записей ответа AdGuard Home использовал тип запроса, а не тип ответа самой записи.  Это вызывало проблемы, поскольку у пользователя не было возможности написать правила, которые разрешали бы определённые записи <code>CNAME</code> в ответах на запросы <code>A</code> и <code>AAAA</code>. Начиная с версии <strong>0.108.0</strong> были внесены изменения, и теперь это правило:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||canon.example.com^$dnstype=~CNAME</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>позволяет избежать фильтрации следующего ответа:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ОТВЕТЫ:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-&gt;  example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    canonical name = canon.example.com.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ttl = 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-&gt;  canon.example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    internet address = 1.2.3.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ttl = 60</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dnsrewrite-modifier"><code>dnsrewrite</code><a class="hash-link" href="#dnsrewrite-modifier" title="Прямая ссылка на заголовок">​</a></h4><p>Модификатор ответа <code>dnsrewrite</code> позволяет заменить содержание ответа на DNS-запрос для совпадающих хостов. Обратите внимание, что этот модификатор работает во всех правилах AdGuard Home, а в приватном AdGuard DNS — только в пользовательских.</p><p><strong>Правила, содержащие модификатор ответа <code>dnsrewrite</code>, получают больший приоритет в сравнении с другими правилами в AdGuard Home.</strong></p><p>Сокращённый синтаксис:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$dnsrewrite=1.2.3.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$dnsrewrite=abcd::1234</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$dnsrewrite=example.net</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$dnsrewrite=REFUSED</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ключевые слова должны быть написаны ЗАГЛАВНЫМИ буквами (например, <code>NOERROR</code>). Перезапись ключевых слов получает приоритет над предыдущими, результатом будет пустой ответ с соответствующим кодом.</p><p>Полный синтаксис использует форму <code>RCODE;RRTYPE;VALUE</code>:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$dnsrewrite=NOERROR;A;1.2.3.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$dnsrewrite=NOERROR;AAAA;abcd::1234</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$dnsrewrite=NOERROR;CNAME;example.net</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$dnsrewrite=REFUSED;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>У модификатора <code>$dnsrewrite</code> с кодом ответа <code>NOERROR</code> также могут быть пустые поля <code>RRTYPE</code> и <code>VALUE</code>.</p><p>Модификатор <code>CNAME</code> особенный, поскольку AdGuard Home будет резолвить хост и добавит его информацию к ответу. Так будет происходить, если у домена <code>example.net</code> будет IP-адрес <code>1.2.3.4</code>, а у пользователя в правилах фильтрации указано следующее:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.com^$dnsrewrite=example.net</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">! Или:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.com^$dnsrewrite=NOERROR;CNAME;example.net</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>в таком случае ответ будет выглядеть примерно так:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nslookup example.com my.adguard.local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Server: my.adguard.local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Address: 127.0.0.1#53</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Non-authoritative answer:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">example.com canonical name = example.net.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Name: example.net</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Address: 1.2.3.4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Далее идёт перезапись <code>CNAME</code>. После этого все значения других записей суммируются в один ответ, таким образом это:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.com^$dnsrewrite=NOERROR;A;1.2.3.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">||example.com^$dnsrewrite=NOERROR;A;1.2.3.5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>получит ответ с двумя записями <code>A</code>.</p><p>В данный момент поддерживаются подобные ресурсные записи:</p><ul><li><p><code>||4.3.2.1.in-addr.arpa^$dnsrewrite=NOERROR;PTR;example.net.</code> добавляет запись <code>PTR</code> для обратного DNS. Обратные DNS-запросы на <code>1.2.3.4</code> к DNS-серверу получат результат <code>example.net</code>.</p><p><strong>ВНИМАНИЕ:</strong> IP ДОЛЖЕН быть указан в обратном порядке. See <a href="https://tools.ietf.org/html/rfc1035#section-3.5" target="_blank" rel="noopener noreferrer">RFC 1035</a>.</p></li><li><p><code>||example.com^$dnsrewrite=NOERROR;A;1.2.3.4</code> добавляет запись <code>A</code> со значением <code>1.2.3.4</code>.</p></li><li><p><code>||example.com^$dnsrewrite=NOERROR;AAAA;abcd::1234</code> добавляет запись <code>AAAA</code> со значением <code>abcd::1234</code>.</p></li><li><p><code>||example.com^$dnsrewrite=NOERROR;CNAME;example.org</code> добавляет запись <code>CNAME</code>. Выше объяснение, почему так.</p></li><li><p><code>||example.com^$dnsrewrite=NOERROR;HTTPS;32 example.com alpn=h3</code> добавляет запись <code>HTTPS</code>. Поддерживается только подмножество значений параметров: значения должны быть <code>смежными </code> и, там, где <code>ожидался список значений</code>, только одно значение поддерживается:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ipv4hint=127.0.0.1             // Поддерживается.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ipv4hint=&quot;127.0.0.1&quot;           // Не поддерживается.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ipv4hint=127.0.0.1,127.0.0.2   // Не поддерживается.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ipv4hint=&quot;127.0.0.1,127.0.0.2&quot; // Не поддерживается.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>В будущем это изменится.</p></li><li><p><code>||example.com^$dnsrewrite=NOERROR;MX;32 example.mail</code> добавляет запись <code>MX</code> с порядковым номером <code>32</code> и доменным именем почтового сервера <code>example.mail</code>.</p></li><li><p><code>||example.com^$dnsrewrite=NOERROR;SVCB;32 example.com alpn=h3</code> добавляет значение <code>SVCB</code>. Посмотрите на пример <code>HTTPS</code> выше.</p></li><li><p><code>||example.com^$dnsrewrite=NOERROR;TXT;hello_world</code> добавляет запись <code>TXT</code> со значением <code>hello_world</code>.</p></li><li><p><code>||_svctype._tcp.example.com^$dnsrewrite=NOERROR;SRV;10 60 8080 example.com</code> добавляет запись <code>SRV</code> с приоритетным значением <code>10</code>, значением веса <code>60</code>, портом <code>8080</code> и целевым значением <code>example.com</code>.</p></li><li><p><code>||example.com^$dnsrewrite=NXDOMAIN;;</code> отвечает кодом <code>NXDOMAIN</code>.</p></li><li><p><code>$dnstype=AAAA,denyallow=example.org,dnsrewrite=NOERROR;;</code> отвечает пустым <code>NOERROR</code> значением для всех запросов <code>AAAA</code>, кроме запросов к <code>example.org</code>.</p></li></ul><p>Правила исключений отменяют одно или все правила:</p><ul><li><p><code>@@||example.com^$dnsrewrite</code> отменяет все правила DNS rewrite.</p></li><li><p><code>@@||example.com^$dnsrewrite=1.2.3.4</code> убирает правило DNS rewrite, которое добавляет запись <code>A</code> со значением <code>1.2.3.4</code>.</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="important-modifier"><code>important</code><a class="hash-link" href="#important-modifier" title="Прямая ссылка на заголовок">​</a></h4><p>Модификатор <code>important</code>, применённый к правилу, повышает его приоритет по отношению к любому другому правилу без модификатора. Даже относительно базовых правил-исключений.</p><p><strong>Примеры:</strong></p><ul><li><p>В этом примере:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$important</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||example.org^</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>||example.org^$important</code> заблокирует все запросы к <code>*.example.org</code>, кроме правила исключения.</p></li><li><p>В этом примере:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">||example.org^$important</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@@||example.org^$important</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>правило исключения также содержит модификатор <code>important</code>, поэтому правило сработает.</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="badfilter-modifier"><code>badfilter</code><a class="hash-link" href="#badfilter-modifier" title="Прямая ссылка на заголовок">​</a></h4><p>Правила с модификатором <code>badfilter</code> отключают другие базовые правила, на которые они ссылаются. Это означает, что текст отключённого правила должен совпадать с текстом правила <code>badfilter</code> (без модификатора <code>badfilter</code>).</p><p><strong>Примеры:</strong></p><ul><li><p><code>||example.com$badfilter</code> отменяет <code>||example.com</code>.</p></li><li><p><code>@@||example.org^$badfilter</code> отменяет <code>@@||example.org^</code>.</p><p><strong>Обратите внимание:</strong> модификатор <code>badfilter</code> не работает с правилами <code>/etc/hosts</code>. <code>127.0.0.1 example.org$badfilter</code> <strong>не отменяет</strong> оригинальное правило <code>127.0.0.1 example.org</code>.</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ctag-modifier"><code>ctag</code><a class="hash-link" href="#ctag-modifier" title="Прямая ссылка на заголовок">​</a></h4><p><strong>Модификатор <code>ctag</code> может быть использован только в AdGuard Home.</strong></p><p>Он позволяет блокировать домены только для определённых типов тегов DNS-клиентов. Вы можете присвоить теги клиентам в пользовательском интерфейсе AdGuard Home. В будущем, мы планируем автоматически присваивать теги после анализа поведения каждого клиента.</p><p>Синтаксис:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ctag=value1|value2|...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Если один из клиентских тегов совпадает со значениями <code>ctag</code>, то это правило применяется к клиенту. Синтаксис для исключения:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ctag=~value1|~value2|...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Если один из клиентских тегов совпадает со значениями исключения <code>ctag</code>, то это правило не применяется к клиенту.</p><p><strong>Примеры:</strong></p><ul><li><p><code>||example.org^$ctag=device_pc|device_phone</code>: блокировать <code>example.org</code> для тегов <code>device_pc</code> или <code>device_phone</code>.</p></li><li><p><code>||example.org^$ctag=~device_phone</code>: блокировать <code>example.org</code> для всех тегов, кроме <code>device_phone</code>.</p></li></ul><p>Список разрешённых тегов:</p><ul><li><p>По типу устройства:</p><ul><li><code>device_audio</code>: аудио устройства.</li><li><code>device_camera</code>: фотоаппараты.</li><li><code>device_gameconsole</code>: игровые консоли.</li><li><code>device_laptop</code>: ноутбуки.</li><li><code>device_nas</code>: системы NAS (сетевые хранилища).</li><li><code>device_pc</code>: ПК.</li><li><code>device_phone</code>: телефоны.</li><li><code>device_printer</code>: принтеры.</li><li><code>device_securityalarm</code>: системы сигнализации.</li><li><code>device_tablet</code>: планшеты.</li><li><code>device_tv</code>: телевизоры.</li><li><code>device_other</code>: другие устройства.</li></ul></li><li><p>По операционной системе:</p><ul><li><code>os_android</code>: Android.</li><li><code>os_ios</code>: iOS.</li><li><code>os_linux</code>: Linux.</li><li><code>os_macos</code>: macOS.</li><li><code>os_windows</code>: Windows.</li><li><code>os_other</code>: другие операционные системы.</li></ul></li><li><p>По группам пользователей:</p><ul><li><code>user_admin</code>: администраторы.</li><li><code>user_regular</code>: рядовые пользователи.</li><li><code>user_child</code>: дети.</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="etc-hosts-syntax"><code>/etc/hosts</code>-style syntax<a class="hash-link" href="#etc-hosts-syntax" title="Прямая ссылка на заголовок">​</a></h2><p>Для каждого хоста должна быть строка со следующей информацией:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">IP_address canonical_hostname [aliases...]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Поля для ввода данных разделены любым количеством пробелов или символов табуляции. Текст от знака <code>#</code> до конца строки — это комментарий, он игнорируется.</p><p>Имена хостов могут содержать только буквенно-численные значения, дефис-минусы (<code>-</code>) и точки (<code>.</code>). Они должны начинаться буквенным значением и заканчиваться буквенно-численным. Дополнительные псевдонимы предлагаются со сменой названий, альтернативным написанием, укороченными или универсальными именами хостов (например, <code>localhost</code>).</p><p><strong>Пример:</strong></p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Это комментарий</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1 example.org example.info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1 example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1 example.net # это тоже комментарий</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>В AdGuard Home IP-адреса используются для ответа на DNS-запросы по этим доменам. В приватном AdGuard DNS эти адреса просто блокируются.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="domains-only-syntax">Domains-only syntax<a class="hash-link" href="#domains-only-syntax" title="Прямая ссылка на заголовок">​</a></h2><p>Простое перечисление имён доменов, по одному в линию.</p><p><strong>Пример:</strong></p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Это комментарий</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">example.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">example.net # это тоже комментарий</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать код" title="Копировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If a string is not a valid domain (e.g. <code>*.example.org</code>), AdGuard Home will consider it to be an <a href="#adblock-style-syntax">Adblock-style syntax</a> rule.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="hostlist-compiler">Hostlist compiler<a class="hash-link" href="#hostlist-compiler" title="Прямая ссылка на заголовок">​</a></h2><p>If you are maintaining a blocklist and use different sources in it, <a href="https://github.com/AdguardTeam/HostlistCompiler" target="_blank" rel="noopener noreferrer">Hostlist compiler</a> may be useful to you. Этот инструмент упрощает составление hosts-списка блокировки, совместимого с AdGuard Home, приватным AdGuard DNS или любым другим продуктом AdGuard с DNS-фильтрацией.</p><p>Что он может сделать:</p><ol><li><p>Собрать единый список блокировки из разных источников.</p></li><li><p>Исключить правила, которые вам не нужны.</p></li><li><p>Подчистить список, получившийся в результате: убрать дубли, неработающие правила и сжать список.</p></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/AdguardTeam/KnowledgeBaseDNS/edit/master/docs/general/dns-filtering-syntax.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Редактировать страницу</a></div><div class="col lastUpdated_vbeJ"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Навигация по страницам документов"><a class="pagination-nav__link pagination-nav__link--prev" href="/KnowledgeBaseDNS/ru/general/dns-filtering/"><div class="pagination-nav__sublabel">Назад</div><div class="pagination-nav__label">DNS-фильтрация</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/KnowledgeBaseDNS/ru/general/dns-providers/"><div class="pagination-nav__sublabel">Вперёд</div><div class="pagination-nav__label">Известные DNS-провайдеры</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#basic-examples" class="table-of-contents__link toc-highlight">Basic examples</a></li><li><a href="#adblock-style-syntax" class="table-of-contents__link toc-highlight">Adblock-style syntax</a><ul><li><a href="#special-characters" class="table-of-contents__link toc-highlight">Special characters</a></li><li><a href="#regular-expressions" class="table-of-contents__link toc-highlight">Regular expressions</a></li><li><a href="#comments" class="table-of-contents__link toc-highlight">Comments</a></li><li><a href="#rule-modifiers" class="table-of-contents__link toc-highlight">Rule modifiers</a><ul><li><a href="#client-modifier" class="table-of-contents__link toc-highlight"><code>client</code></a></li><li><a href="#denyallow-modifier" class="table-of-contents__link toc-highlight"><code>denyallow</code></a></li><li><a href="#dnstype-modifier" class="table-of-contents__link toc-highlight"><code>dnstype</code></a></li><li><a href="#dnsrewrite-modifier" class="table-of-contents__link toc-highlight"><code>dnsrewrite</code></a></li><li><a href="#important-modifier" class="table-of-contents__link toc-highlight"><code>important</code></a></li><li><a href="#badfilter-modifier" class="table-of-contents__link toc-highlight"><code>badfilter</code></a></li><li><a href="#ctag-modifier" class="table-of-contents__link toc-highlight"><code>ctag</code></a></li></ul></li></ul></li><li><a href="#etc-hosts-syntax" class="table-of-contents__link toc-highlight"><code>/etc/hosts</code>-style syntax</a></li><li><a href="#domains-only-syntax" class="table-of-contents__link toc-highlight">Domains-only syntax</a></li><li><a href="#hostlist-compiler" class="table-of-contents__link toc-highlight">Hostlist compiler</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">AdGuard DNS</div><ul class="footer__items clean-list"><li class="footer__item">Cloud-based DNS service that will help you protect privacy and block ads.</li></ul></div><div class="col footer__col"><div class="footer__title">AdGuard DNS</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://adguard-dns.io/public-dns.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Подключиться к DNS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard-dns.io/support.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Техподдержка<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard-dns.io/support/faq.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">FAQ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Компания</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://adguard-dns.io/blog/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Блог<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard.com/privacy/dns.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Политика конфиденциальности<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard.com/eula.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Условия использования<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://status.adguard.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Статус сервисов AdGuard<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Другие продукты</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://adguard.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Блокировщик AdGuard<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://adguard-vpn.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">AdGuard VPN<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/KnowledgeBaseDNS/ru/img/logo_dark.svg" alt="AdGuard DNS" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/KnowledgeBaseDNS/ru/img/logo_dark.svg" alt="AdGuard DNS" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">© AdGuard DNS, 2023</div></div></div></footer></div>
<script src="/KnowledgeBaseDNS/ru/assets/js/runtime~main.ab94d47b.js"></script>
<script src="/KnowledgeBaseDNS/ru/assets/js/main.38a33b66.js"></script>
</body>
</html>